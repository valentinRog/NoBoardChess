(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function P(){}function ua(t){return t&&typeof t=="object"&&typeof t.then=="function"}function Ds(t){return t()}function Bn(){return Object.create(null)}function Ue(t){t.forEach(Ds)}function Ns(t){return typeof t=="function"}function ne(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let mt;function Te(t,e){return mt||(mt=document.createElement("a")),mt.href=e,t===mt.href}function la(t){return Object.keys(t).length===0}function fa(t,...e){if(t==null)return P;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function G(t,e,r){t.$$.on_destroy.push(fa(e,r))}function Ht(t){return t==null?"":t}function pe(t,e,r){return t.set(r),e}function w(t,e){t.appendChild(e)}function M(t,e,r){t.insertBefore(e,r||null)}function O(t){t.parentNode.removeChild(t)}function ke(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function $(t){return document.createElement(t)}function H(t){return document.createTextNode(t)}function N(){return H(" ")}function zs(){return H("")}function ge(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function _(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function ha(t){return Array.from(t.childNodes)}function De(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Gn(t,e,r,n){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function Se(t,e,r){t.classList[r?"add":"remove"](e)}let ot;function me(t){ot=t}function Bs(){if(!ot)throw new Error("Function called outside component initialization");return ot}function Gs(t){Bs().$$.on_mount.push(t)}const it=[],le=[],Ft=[],Nr=[],da=Promise.resolve();let zr=!1;function va(){zr||(zr=!0,da.then(nn))}function Vt(t){Ft.push(t)}function Ie(t){Nr.push(t)}const ur=new Set;let bt=0;function nn(){const t=ot;do{for(;bt<it.length;){const e=it[bt];bt++,me(e),pa(e.$$)}for(me(null),it.length=0,bt=0;le.length;)le.pop()();for(let e=0;e<Ft.length;e+=1){const r=Ft[e];ur.has(r)||(ur.add(r),r())}Ft.length=0}while(it.length);for(;Nr.length;)Nr.pop()();zr=!1,ur.clear(),me(t)}function pa(t){if(t.fragment!==null){t.update(),Ue(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Vt)}}const Dt=new Set;let xe;function tr(){xe={r:0,c:[],p:xe}}function rr(){xe.r||Ue(xe.c),xe=xe.p}function C(t,e){t&&t.i&&(Dt.delete(t),t.i(e))}function R(t,e,r,n){if(t&&t.o){if(Dt.has(t))return;Dt.add(t),xe.c.push(()=>{Dt.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function Un(t,e){const r=e.token={};function n(i,s,o,a){if(e.token!==r)return;e.resolved=a;let c=e.ctx;o!==void 0&&(c=c.slice(),c[o]=a);const u=i&&(e.current=i)(c);let l=!1;e.block&&(e.blocks?e.blocks.forEach((h,d)=>{d!==s&&h&&(tr(),R(h,1,1,()=>{e.blocks[d]===h&&(e.blocks[d]=null)}),rr())}):e.block.d(1),u.c(),C(u,1),u.m(e.mount(),e.anchor),l=!0),e.block=u,e.blocks&&(e.blocks[s]=u),l&&nn()}if(ua(t)){const i=Bs();if(t.then(s=>{me(i),n(e.then,1,e.value,s),me(null)},s=>{if(me(i),n(e.catch,2,e.error,s),me(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function ga(t,e,r){const n=e.slice(),{resolved:i}=t;t.current===t.then&&(n[t.value]=i),t.current===t.catch&&(n[t.error]=i),t.block.p(n,r)}function $e(t,e,r){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function re(t){t&&t.c()}function X(t,e,r,n){const{fragment:i,on_mount:s,on_destroy:o,after_update:a}=t.$$;i&&i.m(e,r),n||Vt(()=>{const c=s.map(Ds).filter(Ns);o?o.push(...c):Ue(c),t.$$.on_mount=[]}),a.forEach(Vt)}function K(t,e){const r=t.$$;r.fragment!==null&&(Ue(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function ma(t,e){t.$$.dirty[0]===-1&&(it.push(t),va(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function fe(t,e,r,n,i,s,o,a=[-1]){const c=ot;me(t);const u=t.$$={fragment:null,ctx:null,props:s,update:P,not_equal:i,bound:Bn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Bn(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(u.root);let l=!1;if(u.ctx=r?r(t,e.props||{},(h,d,...f)=>{const v=f.length?f[0]:d;return u.ctx&&i(u.ctx[h],u.ctx[h]=v)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](v),l&&ma(t,h)),d}):[],u.update(),l=!0,Ue(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const h=ha(e.target);u.fragment&&u.fragment.l(h),h.forEach(O)}else u.fragment&&u.fragment.c();e.intro&&C(t.$$.fragment),X(t,e.target,e.anchor,e.customElement),nn()}me(c)}class he{$destroy(){K(this,1),this.$destroy=P}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!la(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Br=function(t,e){return Br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Br(t,e)};function ba(t,e){Br(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ue=function(){return ue=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ue.apply(this,arguments)};function Ee(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function ya(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z=function(t){try{return!!t()}catch{return!0}},_a=z,sn=!_a(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Us=sn,Ws=Function.prototype,wa=Ws.bind,Gr=Ws.call,Sa=Us&&wa.bind(Gr,Gr),q=Us?function(t){return t&&Sa(t)}:function(t){return t&&function(){return Gr.apply(t,arguments)}},Hs=q,Ia=Hs({}.toString),$a=Hs("".slice),ct=function(t){return $a(Ia(t),8,-1)},Pa=q,Ea=z,Ta=ct,lr=Object,xa=Pa("".split),on=Ea(function(){return!lr("z").propertyIsEnumerable(0)})?function(t){return Ta(t)=="String"?xa(t,""):lr(t)}:lr,We=function(t){return t==null},Oa=We,ka=TypeError,an=function(t){if(Oa(t))throw ka("Can't call method on "+t);return t},Ma=on,Aa=an,He=function(t){return Ma(Aa(t))},yt=function(t){return t&&t.Math==Math&&t},Q=yt(typeof globalThis=="object"&&globalThis)||yt(typeof window=="object"&&window)||yt(typeof self=="object"&&self)||yt(typeof Fe=="object"&&Fe)||function(){return this}()||Function("return this")(),cn={exports:{}},Wn=Q,Ca=Object.defineProperty,un=function(t,e){try{Ca(Wn,t,{value:e,configurable:!0,writable:!0})}catch{Wn[t]=e}return e},ja=Q,Ra=un,Hn="__core-js_shared__",qa=ja[Hn]||Ra(Hn,{}),ln=qa,Vn=ln;(cn.exports=function(t,e){return Vn[t]||(Vn[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.25.2",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.2/LICENSE",source:"https://github.com/zloirock/core-js"});var La=an,Fa=Object,ut=function(t){return Fa(La(t))},Da=q,Na=ut,za=Da({}.hasOwnProperty),ie=Object.hasOwn||function(e,r){return za(Na(e),r)},Ba=q,Ga=0,Ua=Math.random(),Wa=Ba(1 .toString),fn=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Wa(++Ga+Ua,36)},Ur=typeof document=="object"&&document.all,Ha=typeof Ur>"u"&&Ur!==void 0,Vs={all:Ur,IS_HTMLDDA:Ha},Xs=Vs,Va=Xs.all,L=Xs.IS_HTMLDDA?function(t){return typeof t=="function"||t===Va}:function(t){return typeof t=="function"},fr=Q,Xa=L,Ka=function(t){return Xa(t)?t:void 0},Ve=function(t,e){return arguments.length<2?Ka(fr[t]):fr[t]&&fr[t][e]},Ya=Ve,Qa=Ya("navigator","userAgent")||"",Ks=Q,hr=Qa,Xn=Ks.process,Kn=Ks.Deno,Yn=Xn&&Xn.versions||Kn&&Kn.version,Qn=Yn&&Yn.v8,te,Xt;Qn&&(te=Qn.split("."),Xt=te[0]>0&&te[0]<4?1:+(te[0]+te[1]));!Xt&&hr&&(te=hr.match(/Edge\/(\d+)/),(!te||te[1]>=74)&&(te=hr.match(/Chrome\/(\d+)/),te&&(Xt=+te[1])));var Ja=Xt,Jn=Ja,Za=z,Ys=!!Object.getOwnPropertySymbols&&!Za(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Jn&&Jn<41}),ec=Ys,Qs=ec&&!Symbol.sham&&typeof Symbol.iterator=="symbol",tc=Q,rc=cn.exports,Zn=ie,nc=fn,ei=Ys,Js=Qs,Ce=rc("wks"),Oe=tc.Symbol,ti=Oe&&Oe.for,ic=Js?Oe:Oe&&Oe.withoutSetter||nc,J=function(t){if(!Zn(Ce,t)||!(ei||typeof Ce[t]=="string")){var e="Symbol."+t;ei&&Zn(Oe,t)?Ce[t]=Oe[t]:Js&&ti?Ce[t]=ti(e):Ce[t]=ic(e)}return Ce[t]},ri=L,Zs=Vs,sc=Zs.all,U=Zs.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:ri(t)||t===sc}:function(t){return typeof t=="object"?t!==null:ri(t)},oc=U,ac=String,cc=TypeError,de=function(t){if(oc(t))return t;throw cc(ac(t)+" is not an object")},eo={},uc=z,Z=!uc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),lc=Z,fc=z,to=lc&&fc(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),ee={},hc=Q,ni=U,Wr=hc.document,dc=ni(Wr)&&ni(Wr.createElement),ro=function(t){return dc?Wr.createElement(t):{}},vc=Z,pc=z,gc=ro,no=!vc&&!pc(function(){return Object.defineProperty(gc("div"),"a",{get:function(){return 7}}).a!=7}),mc=sn,_t=Function.prototype.call,_e=mc?_t.bind(_t):function(){return _t.apply(_t,arguments)},bc=q,hn=bc({}.isPrototypeOf),yc=Ve,_c=L,wc=hn,Sc=Qs,Ic=Object,io=Sc?function(t){return typeof t=="symbol"}:function(t){var e=yc("Symbol");return _c(e)&&wc(e.prototype,Ic(t))},$c=String,dn=function(t){try{return $c(t)}catch{return"Object"}},Pc=L,Ec=dn,Tc=TypeError,vn=function(t){if(Pc(t))return t;throw Tc(Ec(t)+" is not a function")},xc=vn,Oc=We,pn=function(t,e){var r=t[e];return Oc(r)?void 0:xc(r)},dr=_e,vr=L,pr=U,kc=TypeError,Mc=function(t,e){var r,n;if(e==="string"&&vr(r=t.toString)&&!pr(n=dr(r,t))||vr(r=t.valueOf)&&!pr(n=dr(r,t))||e!=="string"&&vr(r=t.toString)&&!pr(n=dr(r,t)))return n;throw kc("Can't convert object to primitive value")},Ac=_e,ii=U,si=io,Cc=pn,jc=Mc,Rc=J,qc=TypeError,Lc=Rc("toPrimitive"),Fc=function(t,e){if(!ii(t)||si(t))return t;var r=Cc(t,Lc),n;if(r){if(e===void 0&&(e="default"),n=Ac(r,t,e),!ii(n)||si(n))return n;throw qc("Can't convert object to primitive value")}return e===void 0&&(e="number"),jc(t,e)},Dc=Fc,Nc=io,gn=function(t){var e=Dc(t,"string");return Nc(e)?e:e+""},zc=Z,Bc=no,Gc=to,wt=de,oi=gn,Uc=TypeError,gr=Object.defineProperty,Wc=Object.getOwnPropertyDescriptor,mr="enumerable",br="configurable",yr="writable";ee.f=zc?Gc?function(e,r,n){if(wt(e),r=oi(r),wt(n),typeof e=="function"&&r==="prototype"&&"value"in n&&yr in n&&!n[yr]){var i=Wc(e,r);i&&i[yr]&&(e[r]=n.value,n={configurable:br in n?n[br]:i[br],enumerable:mr in n?n[mr]:i[mr],writable:!1})}return gr(e,r,n)}:gr:function(e,r,n){if(wt(e),r=oi(r),wt(n),Bc)try{return gr(e,r,n)}catch{}if("get"in n||"set"in n)throw Uc("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var Hc=Math.ceil,Vc=Math.floor,Xc=Math.trunc||function(e){var r=+e;return(r>0?Vc:Hc)(r)},Kc=Xc,mn=function(t){var e=+t;return e!==e||e===0?0:Kc(e)},Yc=mn,Qc=Math.max,Jc=Math.min,so=function(t,e){var r=Yc(t);return r<0?Qc(r+e,0):Jc(r,e)},Zc=mn,eu=Math.min,tu=function(t){return t>0?eu(Zc(t),9007199254740991):0},ru=tu,lt=function(t){return ru(t.length)},nu=He,iu=so,su=lt,ai=function(t){return function(e,r,n){var i=nu(e),s=su(i),o=iu(n,s),a;if(t&&r!=r){for(;s>o;)if(a=i[o++],a!=a)return!0}else for(;s>o;o++)if((t||o in i)&&i[o]===r)return t||o||0;return!t&&-1}},ou={includes:ai(!0),indexOf:ai(!1)},nr={},au=q,_r=ie,cu=He,uu=ou.indexOf,lu=nr,ci=au([].push),oo=function(t,e){var r=cu(t),n=0,i=[],s;for(s in r)!_r(lu,s)&&_r(r,s)&&ci(i,s);for(;e.length>n;)_r(r,s=e[n++])&&(~uu(i,s)||ci(i,s));return i},bn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],fu=oo,hu=bn,ao=Object.keys||function(e){return fu(e,hu)},du=Z,vu=to,pu=ee,gu=de,mu=He,bu=ao;eo.f=du&&!vu?Object.defineProperties:function(e,r){gu(e);for(var n=mu(r),i=bu(r),s=i.length,o=0,a;s>o;)pu.f(e,a=i[o++],n[a]);return e};var yu=Ve,_u=yu("document","documentElement"),wu=cn.exports,Su=fn,ui=wu("keys"),yn=function(t){return ui[t]||(ui[t]=Su(t))},Iu=de,$u=eo,li=bn,Pu=nr,Eu=_u,Tu=ro,xu=yn,fi=">",hi="<",Hr="prototype",Vr="script",co=xu("IE_PROTO"),wr=function(){},uo=function(t){return hi+Vr+fi+t+hi+"/"+Vr+fi},di=function(t){t.write(uo("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ou=function(){var t=Tu("iframe"),e="java"+Vr+":",r;return t.style.display="none",Eu.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(uo("document.F=Object")),r.close(),r.F},St,Nt=function(){try{St=new ActiveXObject("htmlfile")}catch{}Nt=typeof document<"u"?document.domain&&St?di(St):Ou():di(St);for(var t=li.length;t--;)delete Nt[Hr][li[t]];return Nt()};Pu[co]=!0;var _n=Object.create||function(e,r){var n;return e!==null?(wr[Hr]=Iu(e),n=new wr,wr[Hr]=null,n[co]=e):n=Nt(),r===void 0?n:$u.f(n,r)},ku=J,Mu=_n,Au=ee.f,Xr=ku("unscopables"),Kr=Array.prototype;Kr[Xr]==null&&Au(Kr,Xr,{configurable:!0,value:Mu(null)});var Cu=function(t){Kr[Xr][t]=!0},ft={},ju=Q,Ru=L,vi=ju.WeakMap,lo=Ru(vi)&&/native code/.test(String(vi)),ir=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},qu=Z,Lu=ee,Fu=ir,wn=qu?function(t,e,r){return Lu.f(t,e,Fu(1,r))}:function(t,e,r){return t[e]=r,t},Du=lo,fo=Q,Sr=q,Nu=U,zu=wn,Ir=ie,$r=ln,Bu=yn,Gu=nr,pi="Object already initialized",Yr=fo.TypeError,Uu=fo.WeakMap,Kt,at,Yt,Wu=function(t){return Yt(t)?at(t):Kt(t,{})},Hu=function(t){return function(e){var r;if(!Nu(e)||(r=at(e)).type!==t)throw Yr("Incompatible receiver, "+t+" required");return r}};if(Du||$r.state){var Pe=$r.state||($r.state=new Uu),Vu=Sr(Pe.get),gi=Sr(Pe.has),Xu=Sr(Pe.set);Kt=function(t,e){if(gi(Pe,t))throw Yr(pi);return e.facade=t,Xu(Pe,t,e),e},at=function(t){return Vu(Pe,t)||{}},Yt=function(t){return gi(Pe,t)}}else{var je=Bu("state");Gu[je]=!0,Kt=function(t,e){if(Ir(t,je))throw Yr(pi);return e.facade=t,zu(t,je,e),e},at=function(t){return Ir(t,je)?t[je]:{}},Yt=function(t){return Ir(t,je)}}var Xe={set:Kt,get:at,has:Yt,enforce:Wu,getterFor:Hu},Sn={},In={},ho={}.propertyIsEnumerable,vo=Object.getOwnPropertyDescriptor,Ku=vo&&!ho.call({1:2},1);In.f=Ku?function(e){var r=vo(this,e);return!!r&&r.enumerable}:ho;var Yu=Z,Qu=_e,Ju=In,Zu=ir,el=He,tl=gn,rl=ie,nl=no,mi=Object.getOwnPropertyDescriptor;Sn.f=Yu?mi:function(e,r){if(e=el(e),r=tl(r),nl)try{return mi(e,r)}catch{}if(rl(e,r))return Zu(!Qu(Ju.f,e,r),e[r])};var po={exports:{}},Qr=Z,il=ie,go=Function.prototype,sl=Qr&&Object.getOwnPropertyDescriptor,$n=il(go,"name"),ol=$n&&function(){}.name==="something",al=$n&&(!Qr||Qr&&sl(go,"name").configurable),mo={EXISTS:$n,PROPER:ol,CONFIGURABLE:al},cl=q,ul=L,Jr=ln,ll=cl(Function.toString);ul(Jr.inspectSource)||(Jr.inspectSource=function(t){return ll(t)});var bo=Jr.inspectSource,fl=z,hl=L,It=ie,Zr=Z,dl=mo.CONFIGURABLE,vl=bo,yo=Xe,pl=yo.enforce,gl=yo.get,zt=Object.defineProperty,ml=Zr&&!fl(function(){return zt(function(){},"length",{value:8}).length!==8}),bl=String(String).split("String"),yl=po.exports=function(t,e,r){String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!It(t,"name")||dl&&t.name!==e)&&(Zr?zt(t,"name",{value:e,configurable:!0}):t.name=e),ml&&r&&It(r,"arity")&&t.length!==r.arity&&zt(t,"length",{value:r.arity});try{r&&It(r,"constructor")&&r.constructor?Zr&&zt(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=pl(t);return It(n,"source")||(n.source=bl.join(typeof e=="string"?e:"")),t};Function.prototype.toString=yl(function(){return hl(this)&&gl(this).source||vl(this)},"toString");var _l=L,wl=ee,Sl=po.exports,Il=un,Ke=function(t,e,r,n){n||(n={});var i=n.enumerable,s=n.name!==void 0?n.name:e;if(_l(r)&&Sl(r,s,n),n.global)i?t[e]=r:Il(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=r:wl.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},sr={},$l=oo,Pl=bn,El=Pl.concat("length","prototype");sr.f=Object.getOwnPropertyNames||function(e){return $l(e,El)};var Pn={};Pn.f=Object.getOwnPropertySymbols;var Tl=Ve,xl=q,Ol=sr,kl=Pn,Ml=de,Al=xl([].concat),Cl=Tl("Reflect","ownKeys")||function(e){var r=Ol.f(Ml(e)),n=kl.f;return n?Al(r,n(e)):r},bi=ie,jl=Cl,Rl=Sn,ql=ee,Ll=function(t,e,r){for(var n=jl(e),i=ql.f,s=Rl.f,o=0;o<n.length;o++){var a=n[o];!bi(t,a)&&!(r&&bi(r,a))&&i(t,a,s(e,a))}},Fl=z,Dl=L,Nl=/#|\.prototype\./,ht=function(t,e){var r=Bl[zl(t)];return r==Ul?!0:r==Gl?!1:Dl(e)?Fl(e):!!e},zl=ht.normalize=function(t){return String(t).replace(Nl,".").toLowerCase()},Bl=ht.data={},Gl=ht.NATIVE="N",Ul=ht.POLYFILL="P",_o=ht,Pr=Q,Wl=Sn.f,Hl=wn,Vl=Ke,Xl=un,Kl=Ll,Yl=_o,dt=function(t,e){var r=t.target,n=t.global,i=t.stat,s,o,a,c,u,l;if(n?o=Pr:i?o=Pr[r]||Xl(r,{}):o=(Pr[r]||{}).prototype,o)for(a in e){if(u=e[a],t.dontCallGetSet?(l=Wl(o,a),c=l&&l.value):c=o[a],s=Yl(n?a:r+(i?".":"#")+a,t.forced),!s&&c!==void 0){if(typeof u==typeof c)continue;Kl(u,c)}(t.sham||c&&c.sham)&&Hl(u,"sham",!0),Vl(o,a,u,t)}},Ql=z,Jl=!Ql(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Zl=ie,ef=L,tf=ut,rf=yn,nf=Jl,yi=rf("IE_PROTO"),en=Object,sf=en.prototype,wo=nf?en.getPrototypeOf:function(t){var e=tf(t);if(Zl(e,yi))return e[yi];var r=e.constructor;return ef(r)&&e instanceof r?r.prototype:e instanceof en?sf:null},of=z,af=L,cf=U,_i=wo,uf=Ke,lf=J,tn=lf("iterator"),So=!1,Me,Er,Tr;[].keys&&(Tr=[].keys(),"next"in Tr?(Er=_i(_i(Tr)),Er!==Object.prototype&&(Me=Er)):So=!0);var ff=!cf(Me)||of(function(){var t={};return Me[tn].call(t)!==t});ff&&(Me={});af(Me[tn])||uf(Me,tn,function(){return this});var Io={IteratorPrototype:Me,BUGGY_SAFARI_ITERATORS:So},hf=ee.f,df=ie,vf=J,wi=vf("toStringTag"),En=function(t,e,r){t&&!r&&(t=t.prototype),t&&!df(t,wi)&&hf(t,wi,{configurable:!0,value:e})},pf=Io.IteratorPrototype,gf=_n,mf=ir,bf=En,yf=ft,_f=function(){return this},wf=function(t,e,r,n){var i=e+" Iterator";return t.prototype=gf(pf,{next:mf(+!n,r)}),bf(t,i,!1),yf[i]=_f,t},Sf=L,If=String,$f=TypeError,Pf=function(t){if(typeof t=="object"||Sf(t))return t;throw $f("Can't set "+If(t)+" as a prototype")},Ef=q,Tf=de,xf=Pf,$o=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=Ef(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch{}return function(i,s){return Tf(i),xf(s),t?r(i,s):i.__proto__=s,i}}():void 0),Of=dt,kf=_e,Po=mo,Mf=L,Af=wf,Si=wo,Ii=$o,Cf=En,jf=wn,xr=Ke,Rf=J,qf=ft,Eo=Io,Lf=Po.PROPER,Ff=Po.CONFIGURABLE,$i=Eo.IteratorPrototype,$t=Eo.BUGGY_SAFARI_ITERATORS,Qe=Rf("iterator"),Pi="keys",Je="values",Ei="entries",Df=function(){return this},Tn=function(t,e,r,n,i,s,o){Af(r,e,n);var a=function(g){if(g===i&&d)return d;if(!$t&&g in l)return l[g];switch(g){case Pi:return function(){return new r(this,g)};case Je:return function(){return new r(this,g)};case Ei:return function(){return new r(this,g)}}return function(){return new r(this)}},c=e+" Iterator",u=!1,l=t.prototype,h=l[Qe]||l["@@iterator"]||i&&l[i],d=!$t&&h||a(i),f=e=="Array"&&l.entries||h,v,b,p;if(f&&(v=Si(f.call(new t)),v!==Object.prototype&&v.next&&(Si(v)!==$i&&(Ii?Ii(v,$i):Mf(v[Qe])||xr(v,Qe,Df)),Cf(v,c,!0))),Lf&&i==Je&&h&&h.name!==Je&&(Ff?jf(l,"name",Je):(u=!0,d=function(){return kf(h,this)})),i)if(b={values:a(Je),keys:s?d:a(Pi),entries:a(Ei)},o)for(p in b)($t||u||!(p in l))&&xr(l,p,b[p]);else Of({target:e,proto:!0,forced:$t||u},b);return l[Qe]!==d&&xr(l,Qe,d,{name:i}),qf[e]=d,b},xn=function(t,e){return{value:t,done:e}},Nf=He,On=Cu,Ti=ft,To=Xe,zf=ee.f,Bf=Tn,Pt=xn,Gf=Z,xo="Array Iterator",Uf=To.set,Wf=To.getterFor(xo);Bf(Array,"Array",function(t,e){Uf(this,{type:xo,target:Nf(t),index:0,kind:e})},function(){var t=Wf(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,Pt(void 0,!0)):r=="keys"?Pt(n,!1):r=="values"?Pt(e[n],!1):Pt([n,e[n]],!1)},"values");var xi=Ti.Arguments=Ti.Array;On("keys");On("values");On("entries");if(Gf&&xi.name!=="values")try{zf(xi,"name",{value:"values"})}catch{}var vt={exports:{}},Oo={},Hf=gn,Vf=ee,Xf=ir,ko=function(t,e,r){var n=Hf(e);n in t?Vf.f(t,n,Xf(0,r)):t[n]=r},Oi=so,Kf=lt,Yf=ko,Qf=Array,Jf=Math.max,Zf=function(t,e,r){for(var n=Kf(t),i=Oi(e,n),s=Oi(r===void 0?n:r,n),o=Qf(Jf(s-i,0)),a=0;i<s;i++,a++)Yf(o,a,t[i]);return o.length=a,o},eh=ct,th=He,Mo=sr.f,rh=Zf,Ao=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],nh=function(t){try{return Mo(t)}catch{return rh(Ao)}};Oo.f=function(e){return Ao&&eh(e)=="Window"?nh(e):Mo(th(e))};var ih=z,sh=ih(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),oh=z,ah=U,ch=ct,ki=sh,Bt=Object.isExtensible,uh=oh(function(){Bt(1)}),Co=uh||ki?function(e){return!ah(e)||ki&&ch(e)=="ArrayBuffer"?!1:Bt?Bt(e):!0}:Bt,lh=z,fh=!lh(function(){return Object.isExtensible(Object.preventExtensions({}))}),hh=dt,dh=q,vh=nr,ph=U,kn=ie,gh=ee.f,Mi=sr,mh=Oo,Mn=Co,bh=fn,yh=fh,jo=!1,ye=bh("meta"),_h=0,An=function(t){gh(t,ye,{value:{objectID:"O"+_h++,weakData:{}}})},wh=function(t,e){if(!ph(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!kn(t,ye)){if(!Mn(t))return"F";if(!e)return"E";An(t)}return t[ye].objectID},Sh=function(t,e){if(!kn(t,ye)){if(!Mn(t))return!0;if(!e)return!1;An(t)}return t[ye].weakData},Ih=function(t){return yh&&jo&&Mn(t)&&!kn(t,ye)&&An(t),t},$h=function(){Ph.enable=function(){},jo=!0;var t=Mi.f,e=dh([].splice),r={};r[ye]=1,t(r).length&&(Mi.f=function(n){for(var i=t(n),s=0,o=i.length;s<o;s++)if(i[s]===ye){e(i,s,1);break}return i},hh({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:mh.f}))},Ph=vt.exports={enable:$h,fastKey:wh,getWeakData:Sh,onFreeze:Ih};vh[ye]=!0;var Ai=q,Eh=vn,Th=sn,xh=Ai(Ai.bind),or=function(t,e){return Eh(t),e===void 0?t:Th?xh(t,e):function(){return t.apply(e,arguments)}},Oh=J,kh=ft,Mh=Oh("iterator"),Ah=Array.prototype,Ro=function(t){return t!==void 0&&(kh.Array===t||Ah[Mh]===t)},Ch=J,jh=Ch("toStringTag"),qo={};qo[jh]="z";var Cn=String(qo)==="[object z]",Rh=Cn,qh=L,Gt=ct,Lh=J,Fh=Lh("toStringTag"),Dh=Object,Nh=Gt(function(){return arguments}())=="Arguments",zh=function(t,e){try{return t[e]}catch{}},ar=Rh?Gt:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=zh(e=Dh(t),Fh))=="string"?r:Nh?Gt(e):(n=Gt(e))=="Object"&&qh(e.callee)?"Arguments":n},Bh=ar,Ci=pn,Gh=We,Uh=ft,Wh=J,Hh=Wh("iterator"),jn=function(t){if(!Gh(t))return Ci(t,Hh)||Ci(t,"@@iterator")||Uh[Bh(t)]},Vh=_e,Xh=vn,Kh=de,Yh=dn,Qh=jn,Jh=TypeError,Lo=function(t,e){var r=arguments.length<2?Qh(t):e;if(Xh(r))return Kh(Vh(r,t));throw Jh(Yh(t)+" is not iterable")},Zh=_e,ji=de,ed=pn,Fo=function(t,e,r){var n,i;ji(t);try{if(n=ed(t,"return"),!n){if(e==="throw")throw r;return r}n=Zh(n,t)}catch(s){i=!0,n=s}if(e==="throw")throw r;if(i)throw n;return ji(n),r},td=or,rd=_e,nd=de,id=dn,sd=Ro,od=lt,Ri=hn,ad=Lo,cd=jn,qi=Fo,ud=TypeError,Ut=function(t,e){this.stopped=t,this.result=e},Li=Ut.prototype,Rn=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),s=!!(r&&r.IS_RECORD),o=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),c=td(e,n),u,l,h,d,f,v,b,p=function(m){return u&&qi(u,"normal",m),new Ut(!0,m)},g=function(m){return i?(nd(m),a?c(m[0],m[1],p):c(m[0],m[1])):a?c(m,p):c(m)};if(s)u=t.iterator;else if(o)u=t;else{if(l=cd(t),!l)throw ud(id(t)+" is not iterable");if(sd(l)){for(h=0,d=od(t);d>h;h++)if(f=g(t[h]),f&&Ri(Li,f))return f;return new Ut(!1)}u=ad(t,l)}for(v=s?t.next:u.next;!(b=rd(v,u)).done;){try{f=g(b.value)}catch(m){qi(u,"throw",m)}if(typeof f=="object"&&f&&Ri(Li,f))return f}return new Ut(!1)},ld=hn,fd=TypeError,qn=function(t,e){if(ld(e,t))return t;throw fd("Incorrect invocation")},hd=J,Do=hd("iterator"),No=!1;try{var dd=0,Fi={next:function(){return{done:!!dd++}},return:function(){No=!0}};Fi[Do]=function(){return this},Array.from(Fi,function(){throw 2})}catch{}var zo=function(t,e){if(!e&&!No)return!1;var r=!1;try{var n={};n[Do]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch{}return r},vd=L,pd=U,Di=$o,gd=function(t,e,r){var n,i;return Di&&vd(n=e.constructor)&&n!==r&&pd(i=n.prototype)&&i!==r.prototype&&Di(t,i),t},md=dt,bd=Q,yd=q,Ni=_o,_d=Ke,wd=vt.exports,Sd=Rn,Id=qn,$d=L,Pd=We,Or=U,kr=z,Ed=zo,Td=En,xd=gd,Ln=function(t,e,r){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,s=n?"set":"add",o=bd[t],a=o&&o.prototype,c=o,u={},l=function(g){var m=yd(a[g]);_d(a,g,g=="add"?function(x){return m(this,x===0?0:x),this}:g=="delete"?function(S){return i&&!Or(S)?!1:m(this,S===0?0:S)}:g=="get"?function(x){return i&&!Or(x)?void 0:m(this,x===0?0:x)}:g=="has"?function(x){return i&&!Or(x)?!1:m(this,x===0?0:x)}:function(x,B){return m(this,x===0?0:x,B),this})},h=Ni(t,!$d(o)||!(i||a.forEach&&!kr(function(){new o().entries().next()})));if(h)c=r.getConstructor(e,t,n,s),wd.enable();else if(Ni(t,!0)){var d=new c,f=d[s](i?{}:-0,1)!=d,v=kr(function(){d.has(1)}),b=Ed(function(g){new o(g)}),p=!i&&kr(function(){for(var g=new o,m=5;m--;)g[s](m,m);return!g.has(-0)});b||(c=e(function(g,m){Id(g,a);var S=xd(new o,g,c);return Pd(m)||Sd(m,S[s],{that:S,AS_ENTRIES:n}),S}),c.prototype=a,a.constructor=c),(v||p)&&(l("delete"),l("has"),n&&l("get")),(p||f)&&l(s),i&&a.clear&&delete a.clear}return u[t]=c,md({global:!0,constructor:!0,forced:c!=o},u),Td(c,t),i||r.setStrong(c,t,n),c},Od=Ke,Fn=function(t,e,r){for(var n in e)Od(t,n,e[n],r);return t},kd=Ve,Md=ee,Ad=J,Cd=Z,zi=Ad("species"),jd=function(t){var e=kd(t),r=Md.f;Cd&&e&&!e[zi]&&r(e,zi,{configurable:!0,get:function(){return this}})},Rd=ee.f,qd=_n,Bi=Fn,Ld=or,Fd=qn,Dd=We,Nd=Rn,zd=Tn,Et=xn,Bd=jd,Ze=Z,Gi=vt.exports.fastKey,Bo=Xe,Ui=Bo.set,Mr=Bo.getterFor,Go={getConstructor:function(t,e,r,n){var i=t(function(u,l){Fd(u,s),Ui(u,{type:e,index:qd(null),first:void 0,last:void 0,size:0}),Ze||(u.size=0),Dd(l)||Nd(l,u[n],{that:u,AS_ENTRIES:r})}),s=i.prototype,o=Mr(e),a=function(u,l,h){var d=o(u),f=c(u,l),v,b;return f?f.value=h:(d.last=f={index:b=Gi(l,!0),key:l,value:h,previous:v=d.last,next:void 0,removed:!1},d.first||(d.first=f),v&&(v.next=f),Ze?d.size++:u.size++,b!=="F"&&(d.index[b]=f)),u},c=function(u,l){var h=o(u),d=Gi(l),f;if(d!=="F")return h.index[d];for(f=h.first;f;f=f.next)if(f.key==l)return f};return Bi(s,{clear:function(){for(var l=this,h=o(l),d=h.index,f=h.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete d[f.index],f=f.next;h.first=h.last=void 0,Ze?h.size=0:l.size=0},delete:function(u){var l=this,h=o(l),d=c(l,u);if(d){var f=d.next,v=d.previous;delete h.index[d.index],d.removed=!0,v&&(v.next=f),f&&(f.previous=v),h.first==d&&(h.first=f),h.last==d&&(h.last=v),Ze?h.size--:l.size--}return!!d},forEach:function(l){for(var h=o(this),d=Ld(l,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:h.first;)for(d(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(l){return!!c(this,l)}}),Bi(s,r?{get:function(l){var h=c(this,l);return h&&h.value},set:function(l,h){return a(this,l===0?0:l,h)}}:{add:function(l){return a(this,l=l===0?0:l,l)}}),Ze&&Rd(s,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,r){var n=e+" Iterator",i=Mr(e),s=Mr(n);zd(t,e,function(o,a){Ui(this,{type:n,target:o,state:i(o),kind:a,last:void 0})},function(){for(var o=s(this),a=o.kind,c=o.last;c&&c.removed;)c=c.previous;return!o.target||!(o.last=c=c?c.next:o.state.first)?(o.target=void 0,Et(void 0,!0)):a=="keys"?Et(c.key,!1):a=="values"?Et(c.value,!1):Et([c.key,c.value],!1)},r?"entries":"values",!r,!0),Bd(e)}},Gd=Ln,Ud=Go;Gd("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Ud);var Wd=Cn,Hd=ar,Vd=Wd?{}.toString:function(){return"[object "+Hd(this)+"]"},Xd=Cn,Kd=Ke,Yd=Vd;Xd||Kd(Object.prototype,"toString",Yd,{unsafe:!0});var Qd=ar,Jd=String,Uo=function(t){if(Qd(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Jd(t)},Dn=q,Zd=mn,ev=Uo,tv=an,rv=Dn("".charAt),Wi=Dn("".charCodeAt),nv=Dn("".slice),Hi=function(t){return function(e,r){var n=ev(tv(e)),i=Zd(r),s=n.length,o,a;return i<0||i>=s?t?"":void 0:(o=Wi(n,i),o<55296||o>56319||i+1===s||(a=Wi(n,i+1))<56320||a>57343?t?rv(n,i):o:t?nv(n,i,i+2):(o-55296<<10)+(a-56320)+65536)}},iv={codeAt:Hi(!1),charAt:Hi(!0)},sv=iv.charAt,ov=Uo,Wo=Xe,av=Tn,Vi=xn,Ho="String Iterator",cv=Wo.set,uv=Wo.getterFor(Ho);av(String,"String",function(t){cv(this,{type:Ho,string:ov(t),index:0})},function(){var e=uv(this),r=e.string,n=e.index,i;return n>=r.length?Vi(void 0,!0):(i=sv(r,n),e.index+=i.length,Vi(i,!1))});var lv=Q,pt=lv,fv=pt;fv.Map;var hv=Ln,dv=Go;hv("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},dv);var vv=pt;vv.Set;var pv=ct,gv=Array.isArray||function(e){return pv(e)=="Array"},mv=q,bv=z,Vo=L,yv=ar,_v=Ve,wv=bo,Xo=function(){},Sv=[],Ko=_v("Reflect","construct"),Nn=/^\s*(?:class|function)\b/,Iv=mv(Nn.exec),$v=!Nn.exec(Xo),et=function(e){if(!Vo(e))return!1;try{return Ko(Xo,Sv,e),!0}catch{return!1}},Yo=function(e){if(!Vo(e))return!1;switch(yv(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return $v||!!Iv(Nn,wv(e))}catch{return!0}};Yo.sham=!0;var Qo=!Ko||bv(function(){var t;return et(et.call)||!et(Object)||!et(function(){t=!0})||t})?Yo:et,Xi=gv,Pv=Qo,Ev=U,Tv=J,xv=Tv("species"),Ki=Array,Ov=function(t){var e;return Xi(t)&&(e=t.constructor,Pv(e)&&(e===Ki||Xi(e.prototype))?e=void 0:Ev(e)&&(e=e[xv],e===null&&(e=void 0))),e===void 0?Ki:e},kv=Ov,Mv=function(t,e){return new(kv(t))(e===0?0:e)},Av=or,Cv=q,jv=on,Rv=ut,qv=lt,Lv=Mv,Yi=Cv([].push),we=function(t){var e=t==1,r=t==2,n=t==3,i=t==4,s=t==6,o=t==7,a=t==5||s;return function(c,u,l,h){for(var d=Rv(c),f=jv(d),v=Av(u,l),b=qv(f),p=0,g=h||Lv,m=e?g(c,b):r||o?g(c,0):void 0,S,x;b>p;p++)if((a||p in f)&&(S=f[p],x=v(S,p,d),t))if(e)m[p]=x;else if(x)switch(t){case 3:return!0;case 5:return S;case 6:return p;case 2:Yi(m,S)}else switch(t){case 4:return!1;case 7:Yi(m,S)}return s?-1:n||i?i:m}},Fv={forEach:we(0),map:we(1),filter:we(2),some:we(3),every:we(4),find:we(5),findIndex:we(6),filterReject:we(7)},Dv=q,Qi=Fn,Tt=vt.exports.getWeakData,Nv=qn,zv=de,Bv=We,Ar=U,Gv=Rn,Jo=Fv,Ji=ie,Zo=Xe,Uv=Zo.set,Wv=Zo.getterFor,Hv=Jo.find,Vv=Jo.findIndex,Xv=Dv([].splice),Kv=0,xt=function(t){return t.frozen||(t.frozen=new ea)},ea=function(){this.entries=[]},Cr=function(t,e){return Hv(t.entries,function(r){return r[0]===e})};ea.prototype={get:function(t){var e=Cr(this,t);if(e)return e[1]},has:function(t){return!!Cr(this,t)},set:function(t,e){var r=Cr(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=Vv(this.entries,function(r){return r[0]===t});return~e&&Xv(this.entries,e,1),!!~e}};var Yv={getConstructor:function(t,e,r,n){var i=t(function(c,u){Nv(c,s),Uv(c,{type:e,id:Kv++,frozen:void 0}),Bv(u)||Gv(u,c[n],{that:c,AS_ENTRIES:r})}),s=i.prototype,o=Wv(e),a=function(c,u,l){var h=o(c),d=Tt(zv(u),!0);return d===!0?xt(h).set(u,l):d[h.id]=l,c};return Qi(s,{delete:function(c){var u=o(this);if(!Ar(c))return!1;var l=Tt(c);return l===!0?xt(u).delete(c):l&&Ji(l,u.id)&&delete l[u.id]},has:function(u){var l=o(this);if(!Ar(u))return!1;var h=Tt(u);return h===!0?xt(l).has(u):h&&Ji(h,l.id)}}),Qi(s,r?{get:function(u){var l=o(this);if(Ar(u)){var h=Tt(u);return h===!0?xt(l).get(u):h?h[l.id]:void 0}},set:function(u,l){return a(this,u,l)}}:{add:function(u){return a(this,u,!0)}}),i}},Zi=Q,Ot=q,Qv=Fn,Jv=vt.exports,Zv=Ln,ta=Yv,kt=U,Mt=Co,At=Xe.enforce,ep=lo,tp=!Zi.ActiveXObject&&"ActiveXObject"in Zi,tt,ra=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},rp=Zv("WeakMap",ra,ta);if(ep&&tp){tt=ta.getConstructor(ra,"WeakMap",!0),Jv.enable();var rt=rp.prototype,es=Ot(rt.delete),Ct=Ot(rt.has),ts=Ot(rt.get),rs=Ot(rt.set);Qv(rt,{delete:function(t){if(kt(t)&&!Mt(t)){var e=At(this);return e.frozen||(e.frozen=new tt),es(this,t)||e.frozen.delete(t)}return es(this,t)},has:function(e){if(kt(e)&&!Mt(e)){var r=At(this);return r.frozen||(r.frozen=new tt),Ct(this,e)||r.frozen.has(e)}return Ct(this,e)},get:function(e){if(kt(e)&&!Mt(e)){var r=At(this);return r.frozen||(r.frozen=new tt),Ct(this,e)?ts(this,e):r.frozen.get(e)}return ts(this,e)},set:function(e,r){if(kt(e)&&!Mt(e)){var n=At(this);n.frozen||(n.frozen=new tt),Ct(this,e)?rs(this,e,r):n.frozen.set(e,r)}else rs(this,e,r);return this}})}var np=pt;np.WeakMap;var ip=de,sp=Fo,op=function(t,e,r,n){try{return n?e(ip(r)[0],r[1]):e(r)}catch(i){sp(t,"throw",i)}},ap=or,cp=_e,up=ut,lp=op,fp=Ro,hp=Qo,dp=lt,ns=ko,vp=Lo,pp=jn,is=Array,gp=function(e){var r=up(e),n=hp(this),i=arguments.length,s=i>1?arguments[1]:void 0,o=s!==void 0;o&&(s=ap(s,i>2?arguments[2]:void 0));var a=pp(r),c=0,u,l,h,d,f,v;if(a&&!(this===is&&fp(a)))for(d=vp(r,a),f=d.next,l=n?new this:[];!(h=cp(f,d)).done;c++)v=o?lp(d,s,[h.value,c],!0):h.value,ns(l,c,v);else for(u=dp(r),l=n?new this(u):is(u);u>c;c++)v=o?s(r[c],c):r[c],ns(l,c,v);return l.length=c,l},mp=dt,bp=gp,yp=zo,_p=!yp(function(t){Array.from(t)});mp({target:"Array",stat:!0,forced:_p},{from:bp});var wp=pt;wp.Array.from;var ss=Z,Sp=q,Ip=_e,$p=z,jr=ao,Pp=Pn,Ep=In,Tp=ut,xp=on,Re=Object.assign,os=Object.defineProperty,Op=Sp([].concat),kp=!Re||$p(function(){if(ss&&Re({b:1},Re(os({},"a",{enumerable:!0,get:function(){os(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),Re({},t)[r]!=7||jr(Re({},e)).join("")!=n})?function(e,r){for(var n=Tp(e),i=arguments.length,s=1,o=Pp.f,a=Ep.f;i>s;)for(var c=xp(arguments[s++]),u=o?Op(jr(c),o(c)):jr(c),l=u.length,h=0,d;l>h;)d=u[h++],(!ss||Ip(a,c,d))&&(n[d]=c[d]);return n}:Re,Mp=dt,as=kp;Mp({target:"Object",stat:!0,arity:2,forced:Object.assign!==as},{assign:as});var Ap=pt;Ap.Object.assign;var cs=0/0,Cp="[object Symbol]",jp=/^\s+|\s+$/g,Rp=/^[-+]0x[0-9a-f]+$/i,qp=/^0b[01]+$/i,Lp=/^0o[0-7]+$/i,Fp=parseInt,Dp=Object.prototype,Np=Dp.toString;function zp(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}function us(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Bp(t){return!!t&&typeof t=="object"}function Gp(t){return typeof t=="symbol"||Bp(t)&&Np.call(t)==Cp}function Rr(t){if(typeof t=="number")return t;if(Gp(t))return cs;if(us(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=us(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(jp,"");var r=qp.test(t);return r||Lp.test(t)?Fp(t.slice(2),r?2:8):Rp.test(t)?cs:+t}function Up(t,e,r){return r===void 0&&(r=e,e=void 0),r!==void 0&&(r=Rr(r),r=r===r?r:0),e!==void 0&&(e=Rr(e),e=e===e?e:0),zp(Rr(t),e,r)}var Y=Up;function ls(t,e){return t===void 0&&(t=-1/0),e===void 0&&(e=1/0),function(r,n){var i="_"+n;Object.defineProperty(r,n,{get:function(){return this[i]},set:function(s){Object.defineProperty(this,i,{value:Y(s,t,e),enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}}function qr(t,e){var r="_"+e;Object.defineProperty(t,e,{get:function(){return this[r]},set:function(n){Object.defineProperty(this,r,{value:!!n,enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}var Wp="Expected a function",fs=0/0,Hp="[object Symbol]",Vp=/^\s+|\s+$/g,Xp=/^[-+]0x[0-9a-f]+$/i,Kp=/^0b[01]+$/i,Yp=/^0o[0-7]+$/i,Qp=parseInt,Jp=typeof Fe=="object"&&Fe&&Fe.Object===Object&&Fe,Zp=typeof self=="object"&&self&&self.Object===Object&&self,eg=Jp||Zp||Function("return this")(),tg=Object.prototype,rg=tg.toString,ng=Math.max,ig=Math.min,Lr=function(){return eg.Date.now()};function sg(t,e,r){var n,i,s,o,a,c,u=0,l=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(Wp);e=hs(e)||0,rn(r)&&(l=!!r.leading,h="maxWait"in r,s=h?ng(hs(r.maxWait)||0,e):s,d="trailing"in r?!!r.trailing:d);function f(I){var F=n,j=i;return n=i=void 0,u=I,o=t.apply(j,F),o}function v(I){return u=I,a=setTimeout(g,e),l?f(I):o}function b(I){var F=I-c,j=I-u,D=e-F;return h?ig(D,s-j):D}function p(I){var F=I-c,j=I-u;return c===void 0||F>=e||F<0||h&&j>=s}function g(){var I=Lr();if(p(I))return m(I);a=setTimeout(g,b(I))}function m(I){return a=void 0,d&&n?f(I):(n=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,n=c=i=a=void 0}function x(){return a===void 0?o:m(Lr())}function B(){var I=Lr(),F=p(I);if(n=arguments,i=this,c=I,F){if(a===void 0)return v(c);if(h)return a=setTimeout(g,e),f(c)}return a===void 0&&(a=setTimeout(g,e)),o}return B.cancel=S,B.flush=x,B}function rn(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function og(t){return!!t&&typeof t=="object"}function ag(t){return typeof t=="symbol"||og(t)&&rg.call(t)==Hp}function hs(t){if(typeof t=="number")return t;if(ag(t))return fs;if(rn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Vp,"");var r=Kp.test(t);return r||Yp.test(t)?Qp(t.slice(2),r?2:8):Xp.test(t)?fs:+t}var na=sg;function ia(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r,n,i){var s=i.value;return{get:function(){return this.hasOwnProperty(n)||Object.defineProperty(this,n,{value:na.apply(void 0,ya([s],t))}),this[n]}}}}var cg=function(){function t(e){var r=this;e===void 0&&(e={}),this.damping=.1,this.thumbMinSize=20,this.renderByPixels=!0,this.alwaysShowTracks=!1,this.continuousScrolling=!0,this.delegateTo=null,this.plugins={},Object.keys(e).forEach(function(n){r[n]=e[n]})}return Object.defineProperty(t.prototype,"wheelEventTarget",{get:function(){return this.delegateTo},set:function(e){console.warn("[smooth-scrollbar]: `options.wheelEventTarget` is deprecated and will be removed in the future, use `options.delegateTo` instead."),this.delegateTo=e},enumerable:!0,configurable:!0}),Ee([ls(0,1)],t.prototype,"damping",void 0),Ee([ls(0,1/0)],t.prototype,"thumbMinSize",void 0),Ee([qr],t.prototype,"renderByPixels",void 0),Ee([qr],t.prototype,"alwaysShowTracks",void 0),Ee([qr],t.prototype,"continuousScrolling",void 0),t}(),jt,Qt=new WeakMap;function sa(){if(jt!==void 0)return jt;var t=!1;try{var e=function(){},r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",e,r),window.removeEventListener("testPassive",e,r)}catch{}return jt=t?{passive:!1}:!1,jt}function Ye(t){var e=Qt.get(t)||[];return Qt.set(t,e),function(n,i,s){function o(a){a.defaultPrevented||s(a)}i.split(/\s+/g).forEach(function(a){e.push({elem:n,eventName:a,handler:o}),n.addEventListener(a,o,sa())})}}function ug(t){var e=Qt.get(t);!e||(e.forEach(function(r){var n=r.elem,i=r.eventName,s=r.handler;n.removeEventListener(i,s,sa())}),Qt.delete(t))}function lg(t){return t.touches?t.touches[t.touches.length-1]:t}function Ne(t){var e=lg(t);return{x:e.clientX,y:e.clientY}}function Rt(t,e){return e===void 0&&(e=[]),e.some(function(r){return t===r})}var oa=["webkit","moz","ms","o"],fg=new RegExp("^-(?!(?:"+oa.join("|")+")-)");function hg(t){var e={};return Object.keys(t).forEach(function(r){if(!fg.test(r)){e[r]=t[r];return}var n=t[r];r=r.replace(/^-/,""),e[r]=n,oa.forEach(function(i){e["-"+i+"-"+r]=n})}),e}function Ae(t,e){e=hg(e),Object.keys(e).forEach(function(r){var n=r.replace(/^-/,"").replace(/-([a-z])/g,function(i,s){return s.toUpperCase()});t.style[n]=e[r]})}var dg=function(){function t(e){this.velocityMultiplier=window.devicePixelRatio,this.updateTime=Date.now(),this.delta={x:0,y:0},this.velocity={x:0,y:0},this.lastPosition={x:0,y:0},this.lastPosition=Ne(e)}return t.prototype.update=function(e){var r=this,n=r.velocity,i=r.updateTime,s=r.lastPosition,o=Date.now(),a=Ne(e),c={x:-(a.x-s.x),y:-(a.y-s.y)},u=o-i||16.7,l=c.x/u*16.7,h=c.y/u*16.7;n.x=l*this.velocityMultiplier,n.y=h*this.velocityMultiplier,this.delta=c,this.updateTime=o,this.lastPosition=a},t}(),vg=function(){function t(){this._touchList={}}return Object.defineProperty(t.prototype,"_primitiveValue",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.isActive=function(){return this._activeTouchID!==void 0},t.prototype.getDelta=function(){var e=this._getActiveTracker();return e?ue({},e.delta):this._primitiveValue},t.prototype.getVelocity=function(){var e=this._getActiveTracker();return e?ue({},e.velocity):this._primitiveValue},t.prototype.getEasingDistance=function(e){var r=1-e,n={x:0,y:0},i=this.getVelocity();return Object.keys(i).forEach(function(s){for(var o=Math.abs(i[s])<=10?0:i[s];o!==0;)n[s]+=o,o=o*r|0}),n},t.prototype.track=function(e){var r=this,n=e.targetTouches;return Array.from(n).forEach(function(i){r._add(i)}),this._touchList},t.prototype.update=function(e){var r=this,n=e.touches,i=e.changedTouches;return Array.from(n).forEach(function(s){r._renew(s)}),this._setActiveID(i),this._touchList},t.prototype.release=function(e){var r=this;delete this._activeTouchID,Array.from(e.changedTouches).forEach(function(n){r._delete(n)})},t.prototype._add=function(e){this._has(e)&&this._delete(e);var r=new dg(e);this._touchList[e.identifier]=r},t.prototype._renew=function(e){if(!!this._has(e)){var r=this._touchList[e.identifier];r.update(e)}},t.prototype._delete=function(e){delete this._touchList[e.identifier]},t.prototype._has=function(e){return this._touchList.hasOwnProperty(e.identifier)},t.prototype._setActiveID=function(e){this._activeTouchID=e[e.length-1].identifier},t.prototype._getActiveTracker=function(){var e=this,r=e._touchList,n=e._activeTouchID;return r[n]},t}(),Ge;(function(t){t.X="x",t.Y="y"})(Ge||(Ge={}));var pg=function(){function t(e,r){r===void 0&&(r=0),this._direction=e,this._minSize=r,this.element=document.createElement("div"),this.displaySize=0,this.realSize=0,this.offset=0,this.element.className="scrollbar-thumb scrollbar-thumb-"+e}return t.prototype.attachTo=function(e){e.appendChild(this.element)},t.prototype.update=function(e,r,n){this.realSize=Math.min(r/n,1)*r,this.displaySize=Math.max(this.realSize,this._minSize),this.offset=e/n*(r+(this.realSize-this.displaySize)),Ae(this.element,this._getStyle())},t.prototype._getStyle=function(){switch(this._direction){case Ge.X:return{width:this.displaySize+"px","-transform":"translate3d("+this.offset+"px, 0, 0)"};case Ge.Y:return{height:this.displaySize+"px","-transform":"translate3d(0, "+this.offset+"px, 0)"};default:return null}},t}(),ds=function(){function t(e,r){r===void 0&&(r=0),this.element=document.createElement("div"),this._isShown=!1,this.element.className="scrollbar-track scrollbar-track-"+e,this.thumb=new pg(e,r),this.thumb.attachTo(this.element)}return t.prototype.attachTo=function(e){e.appendChild(this.element)},t.prototype.show=function(){this._isShown||(this._isShown=!0,this.element.classList.add("show"))},t.prototype.hide=function(){!this._isShown||(this._isShown=!1,this.element.classList.remove("show"))},t.prototype.update=function(e,r,n){Ae(this.element,{display:n<=r?"none":"block"}),this.thumb.update(e,r,n)},t}(),gg=function(){function t(e){this._scrollbar=e;var r=e.options.thumbMinSize;this.xAxis=new ds(Ge.X,r),this.yAxis=new ds(Ge.Y,r),this.xAxis.attachTo(e.containerEl),this.yAxis.attachTo(e.containerEl),e.options.alwaysShowTracks&&(this.xAxis.show(),this.yAxis.show())}return t.prototype.update=function(){var e=this._scrollbar,r=e.size,n=e.offset;this.xAxis.update(n.x,r.container.width,r.content.width),this.yAxis.update(n.y,r.container.height,r.content.height)},t.prototype.autoHideOnIdle=function(){this._scrollbar.options.alwaysShowTracks||(this.xAxis.hide(),this.yAxis.hide())},Ee([ia(300)],t.prototype,"autoHideOnIdle",null),t}();function mg(t){var e=t.containerEl,r=t.contentEl,n=getComputedStyle(e),i=["paddingTop","paddingBottom","paddingLeft","paddingRight"].map(function(a){return n[a]?parseFloat(n[a]):0}),s=i[0]+i[1],o=i[2]+i[3];return{container:{width:e.clientWidth,height:e.clientHeight},content:{width:r.offsetWidth-r.clientWidth+r.scrollWidth+o,height:r.offsetHeight-r.clientHeight+r.scrollHeight+s}}}function bg(t,e){var r=t.bounding,n=e.getBoundingClientRect(),i=Math.max(r.top,n.top),s=Math.max(r.left,n.left),o=Math.min(r.right,n.right),a=Math.min(r.bottom,n.bottom);return i<a&&s<o}function yg(t){var e=t.getSize(),r={x:Math.max(e.content.width-e.container.width,0),y:Math.max(e.content.height-e.container.height,0)},n=t.containerEl.getBoundingClientRect(),i={top:Math.max(n.top,0),right:Math.min(n.right,window.innerWidth),bottom:Math.min(n.bottom,window.innerHeight),left:Math.max(n.left,0)};t.size=e,t.limit=r,t.bounding=i,t.track.update(),t.setPosition()}function _g(t,e,r){var n=t.options,i=t.offset,s=t.limit,o=t.track,a=t.contentEl;return n.renderByPixels&&(e=Math.round(e),r=Math.round(r)),e=Y(e,0,s.x),r=Y(r,0,s.y),e!==i.x&&o.xAxis.show(),r!==i.y&&o.yAxis.show(),n.alwaysShowTracks||o.autoHideOnIdle(),e===i.x&&r===i.y?null:(i.x=e,i.y=r,Ae(a,{"-transform":"translate3d("+-e+"px, "+-r+"px, 0)"}),o.update(),{offset:ue({},i),limit:ue({},s)})}var vs=new WeakMap;function wg(t,e,r,n,i){n===void 0&&(n=0);var s=i===void 0?{}:i,o=s.easing,a=o===void 0?Sg:o,c=s.callback,u=t.options,l=t.offset,h=t.limit;u.renderByPixels&&(e=Math.round(e),r=Math.round(r));var d=l.x,f=l.y,v=Y(e,0,h.x)-d,b=Y(r,0,h.y)-f,p=Date.now();function g(){var m=Date.now()-p,S=n?a(Math.min(m/n,1)):1;if(t.setPosition(d+v*S,f+b*S),m>=n)typeof c=="function"&&c.call(t);else{var x=requestAnimationFrame(g);vs.set(t,x)}}cancelAnimationFrame(vs.get(t)),g()}function Sg(t){return Math.pow(t-1,3)+1}function Ig(t,e,r){var n=r===void 0?{}:r,i=n.alignToTop,s=i===void 0?!0:i,o=n.onlyScrollIfNeeded,a=o===void 0?!1:o,c=n.offsetTop,u=c===void 0?0:c,l=n.offsetLeft,h=l===void 0?0:l,d=n.offsetBottom,f=d===void 0?0:d,v=t.containerEl,b=t.bounding,p=t.offset,g=t.limit;if(!(!e||!v.contains(e))){var m=e.getBoundingClientRect();if(!(a&&t.isVisible(e))){var S=s?m.top-b.top-u:m.bottom-b.bottom+f;t.setMomentum(m.left-b.left-h,Y(S,-p.y,g.y-p.y))}}}var $g=function(){function t(e,r){var n=this.constructor;this.scrollbar=e,this.name=n.pluginName,this.options=ue(ue({},n.defaultOptions),r)}return t.prototype.onInit=function(){},t.prototype.onDestroy=function(){},t.prototype.onUpdate=function(){},t.prototype.onRender=function(e){},t.prototype.transformDelta=function(e,r){return ue({},e)},t.pluginName="",t.defaultOptions={},t}(),Jt={order:new Set,constructors:{}};function Pg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(r){var n=r.pluginName;if(!n)throw new TypeError("plugin name is required");Jt.order.add(n),Jt.constructors[n]=r})}function Eg(t,e){return Array.from(Jt.order).filter(function(r){return e[r]!==!1}).map(function(r){var n=Jt.constructors[r],i=new n(t,e[r]);return e[r]=i.options,i})}var W;(function(t){t[t.TAB=9]="TAB",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN"})(W||(W={}));function Tg(t){var e=Ye(t),r=t.containerEl;e(r,"keydown",function(n){var i=document.activeElement;if(!(i!==r&&!r.contains(i))&&!kg(i)){var s=xg(t,n.keyCode||n.which);if(!!s){var o=s[0],a=s[1];t.addTransformableMomentum(o,a,n,function(c){c?n.preventDefault():(t.containerEl.blur(),t.parent&&t.parent.containerEl.focus())})}}})}function xg(t,e){var r=t.size,n=t.limit,i=t.offset;switch(e){case W.TAB:return Og(t);case W.SPACE:return[0,200];case W.PAGE_UP:return[0,-r.container.height+40];case W.PAGE_DOWN:return[0,r.container.height-40];case W.END:return[0,n.y-i.y];case W.HOME:return[0,-i.y];case W.LEFT:return[-40,0];case W.UP:return[0,-40];case W.RIGHT:return[40,0];case W.DOWN:return[0,40];default:return null}}function Og(t){requestAnimationFrame(function(){t.scrollIntoView(document.activeElement,{offsetTop:t.size.container.height/2,offsetLeft:t.size.container.width/2,onlyScrollIfNeeded:!0})})}function kg(t){return t.tagName==="INPUT"||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.isContentEditable?!t.disabled:!1}var ae;(function(t){t[t.X=0]="X",t[t.Y=1]="Y"})(ae||(ae={}));function Mg(t){var e=Ye(t),r=t.containerEl,n=t.track,i=n.xAxis,s=n.yAxis;function o(f,v){var b=t.size,p=t.limit,g=t.offset;if(f===ae.X){var m=b.container.width+(i.thumb.realSize-i.thumb.displaySize);return Y(v/m*b.content.width,0,p.x)-g.x}if(f===ae.Y){var S=b.container.height+(s.thumb.realSize-s.thumb.displaySize);return Y(v/S*b.content.height,0,p.y)-g.y}return 0}function a(f){if(Rt(f,[i.element,i.thumb.element]))return ae.X;if(Rt(f,[s.element,s.thumb.element]))return ae.Y}var c,u,l,h,d;e(r,"click",function(f){if(!(u||!Rt(f.target,[i.element,s.element]))){var v=f.target,b=a(v),p=v.getBoundingClientRect(),g=Ne(f);if(b===ae.X){var m=g.x-p.left-i.thumb.displaySize/2;t.setMomentum(o(b,m),0)}if(b===ae.Y){var m=g.y-p.top-s.thumb.displaySize/2;t.setMomentum(0,o(b,m))}}}),e(r,"mousedown",function(f){if(!!Rt(f.target,[i.thumb.element,s.thumb.element])){c=!0;var v=f.target,b=Ne(f),p=v.getBoundingClientRect();h=a(v),l={x:b.x-p.left,y:b.y-p.top},d=r.getBoundingClientRect(),Ae(t.containerEl,{"-user-select":"none"})}}),e(window,"mousemove",function(f){if(!!c){u=!0;var v=Ne(f);if(h===ae.X){var b=v.x-l.x-d.left;t.setMomentum(o(h,b),0)}if(h===ae.Y){var b=v.y-l.y-d.top;t.setMomentum(0,o(h,b))}}}),e(window,"mouseup blur",function(){c=u=!1,Ae(t.containerEl,{"-user-select":""})})}function Ag(t){var e=Ye(t);e(window,"resize",na(t.update.bind(t),300))}function Cg(t){var e=Ye(t),r=t.containerEl,n=t.contentEl,i=!1,s=!1,o;function a(c){var u=c.x,l=c.y;if(!(!u&&!l)){var h=t.offset,d=t.limit;t.setMomentum(Y(h.x+u,0,d.x)-h.x,Y(h.y+l,0,d.y)-h.y),o=requestAnimationFrame(function(){a({x:u,y:l})})}}e(window,"mousemove",function(c){if(!!i){cancelAnimationFrame(o);var u=jg(t,c);a(u)}}),e(n,"contextmenu",function(){s=!0,cancelAnimationFrame(o),i=!1}),e(n,"mousedown",function(){s=!1}),e(n,"selectstart",function(){s||(cancelAnimationFrame(o),i=!0)}),e(window,"mouseup blur",function(){cancelAnimationFrame(o),i=!1,s=!1}),e(r,"scroll",function(c){c.preventDefault(),r.scrollTop=r.scrollLeft=0})}function jg(t,e){var r=t.bounding,n=r.top,i=r.right,s=r.bottom,o=r.left,a=Ne(e),c=a.x,u=a.y,l={x:0,y:0},h=20;return c===0&&u===0||(c>i-h?l.x=c-i+h:c<o+h&&(l.x=c-o-h),u>s-h?l.y=u-s+h:u<n+h&&(l.y=u-n-h),l.x*=2,l.y*=2),l}var qt;function Rg(t){var e=t.options.delegateTo||t.containerEl,r=new vg,n=Ye(t),i,s=0;n(e,"touchstart",function(o){r.track(o),t.setMomentum(0,0),s===0&&(i=t.options.damping,t.options.damping=Math.max(i,.5)),s++}),n(e,"touchmove",function(o){if(!(qt&&qt!==t)){r.update(o);var a=r.getDelta(),c=a.x,u=a.y;t.addTransformableMomentum(c,u,o,function(l){l&&o.cancelable&&(o.preventDefault(),qt=t)})}}),n(e,"touchcancel touchend",function(o){var a=r.getEasingDistance(i);t.addTransformableMomentum(a.x,a.y,o),s--,s===0&&(t.options.damping=i),r.release(o),qt=null})}function qg(t){var e=Ye(t),r=t.options.delegateTo||t.containerEl,n="onwheel"in window||document.implementation.hasFeature("Events.wheel","3.0")?"wheel":"mousewheel";e(r,n,function(i){var s=Fg(i),o=s.x,a=s.y;t.addTransformableMomentum(o,a,i,function(c){c&&i.preventDefault()})})}var nt={STANDARD:1,OTHERS:-3},ps=[1,28,500],Lg=function(t){return ps[t]||ps[0]};function Fg(t){if("deltaX"in t){var e=Lg(t.deltaMode);return{x:t.deltaX/nt.STANDARD*e,y:t.deltaY/nt.STANDARD*e}}return"wheelDeltaX"in t?{x:t.wheelDeltaX/nt.OTHERS,y:t.wheelDeltaY/nt.OTHERS}:{x:0,y:t.wheelDelta/nt.OTHERS}}const gs=Object.freeze(Object.defineProperty({__proto__:null,keyboardHandler:Tg,mouseHandler:Mg,resizeHandler:Ag,selectHandler:Cg,touchHandler:Rg,wheelHandler:qg},Symbol.toStringTag,{value:"Module"}));var ce=new Map,ms=function(){function t(e,r){var n=this;this.offset={x:0,y:0},this.limit={x:1/0,y:1/0},this.bounding={top:0,right:0,bottom:0,left:0},this._plugins=[],this._momentum={x:0,y:0},this._listeners=new Set,this.containerEl=e;var i=this.contentEl=document.createElement("div");this.options=new cg(r),e.setAttribute("data-scrollbar","true"),e.setAttribute("tabindex","-1"),Ae(e,{overflow:"hidden",outline:"none"}),window.navigator.msPointerEnabled&&(e.style.msTouchAction="none"),i.className="scroll-content",Array.from(e.childNodes).forEach(function(c){i.appendChild(c)}),e.appendChild(i),this.track=new gg(this),this.size=this.getSize(),this._plugins=Eg(this,this.options.plugins);var s=e.scrollLeft,o=e.scrollTop;e.scrollLeft=e.scrollTop=0,this.setPosition(s,o,{withoutCallbacks:!0});var a=window.ResizeObserver;typeof a=="function"&&(this._observer=new a(function(){n.update()}),this._observer.observe(i)),ce.set(e,this),requestAnimationFrame(function(){n._init()})}return Object.defineProperty(t.prototype,"parent",{get:function(){for(var e=this.containerEl.parentElement;e;){var r=ce.get(e);if(r)return r;e=e.parentElement}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.offset.y},set:function(e){this.setPosition(this.scrollLeft,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this.offset.x},set:function(e){this.setPosition(e,this.scrollTop)},enumerable:!0,configurable:!0}),t.prototype.getSize=function(){return mg(this)},t.prototype.update=function(){yg(this),this._plugins.forEach(function(e){e.onUpdate()})},t.prototype.isVisible=function(e){return bg(this,e)},t.prototype.setPosition=function(e,r,n){var i=this;e===void 0&&(e=this.offset.x),r===void 0&&(r=this.offset.y),n===void 0&&(n={});var s=_g(this,e,r);!s||n.withoutCallbacks||this._listeners.forEach(function(o){o.call(i,s)})},t.prototype.scrollTo=function(e,r,n,i){e===void 0&&(e=this.offset.x),r===void 0&&(r=this.offset.y),n===void 0&&(n=0),i===void 0&&(i={}),wg(this,e,r,n,i)},t.prototype.scrollIntoView=function(e,r){r===void 0&&(r={}),Ig(this,e,r)},t.prototype.addListener=function(e){if(typeof e!="function")throw new TypeError("[smooth-scrollbar] scrolling listener should be a function");this._listeners.add(e)},t.prototype.removeListener=function(e){this._listeners.delete(e)},t.prototype.addTransformableMomentum=function(e,r,n,i){this._updateDebounced();var s=this._plugins.reduce(function(a,c){return c.transformDelta(a,n)||a},{x:e,y:r}),o=!this._shouldPropagateMomentum(s.x,s.y);o&&this.addMomentum(s.x,s.y),i&&i.call(this,o)},t.prototype.addMomentum=function(e,r){this.setMomentum(this._momentum.x+e,this._momentum.y+r)},t.prototype.setMomentum=function(e,r){this.limit.x===0&&(e=0),this.limit.y===0&&(r=0),this.options.renderByPixels&&(e=Math.round(e),r=Math.round(r)),this._momentum.x=e,this._momentum.y=r},t.prototype.updatePluginOptions=function(e,r){this._plugins.forEach(function(n){n.name===e&&Object.assign(n.options,r)})},t.prototype.destroy=function(){var e=this,r=e.containerEl,n=e.contentEl;ug(this),this._listeners.clear(),this.setMomentum(0,0),cancelAnimationFrame(this._renderID),this._observer&&this._observer.disconnect(),ce.delete(this.containerEl);for(var i=Array.from(n.childNodes);r.firstChild;)r.removeChild(r.firstChild);i.forEach(function(s){r.appendChild(s)}),Ae(r,{overflow:""}),r.scrollTop=this.scrollTop,r.scrollLeft=this.scrollLeft,this._plugins.forEach(function(s){s.onDestroy()}),this._plugins.length=0},t.prototype._init=function(){var e=this;this.update(),Object.keys(gs).forEach(function(r){gs[r](e)}),this._plugins.forEach(function(r){r.onInit()}),this._render()},t.prototype._updateDebounced=function(){this.update()},t.prototype._shouldPropagateMomentum=function(e,r){e===void 0&&(e=0),r===void 0&&(r=0);var n=this,i=n.options,s=n.offset,o=n.limit;if(!i.continuousScrolling)return!1;o.x===0&&o.y===0&&this._updateDebounced();var a=Y(e+s.x,0,o.x),c=Y(r+s.y,0,o.y),u=!0;return u=u&&a===s.x,u=u&&c===s.y,u=u&&(s.x===o.x||s.x===0||s.y===o.y||s.y===0),u},t.prototype._render=function(){var e=this._momentum;if(e.x||e.y){var r=this._nextTick("x"),n=this._nextTick("y");e.x=r.momentum,e.y=n.momentum,this.setPosition(r.position,n.position)}var i=ue({},this._momentum);this._plugins.forEach(function(s){s.onRender(i)}),this._renderID=requestAnimationFrame(this._render.bind(this))},t.prototype._nextTick=function(e){var r=this,n=r.options,i=r.offset,s=r._momentum,o=i[e],a=s[e];if(Math.abs(a)<=.1)return{momentum:0,position:o+a};var c=a*(1-n.damping);return n.renderByPixels&&(c|=0),{momentum:c,position:o+a-c}},Ee([ia(100,{leading:!0})],t.prototype,"_updateDebounced",null),t}(),Dg="rgba(222, 222, 222, .75)",Ng="rgba(0, 0, 0, .5)",zg=`
[data-scrollbar] {
  display: block;
  position: relative;
}

.scroll-content {
  display: flow-root;
  -webkit-transform: translate3d(0, 0, 0);
          transform: translate3d(0, 0, 0);
}

.scrollbar-track {
  position: absolute;
  opacity: 0;
  z-index: 1;
  background: `+Dg+`;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  -webkit-transition: opacity 0.5s 0.5s ease-out;
          transition: opacity 0.5s 0.5s ease-out;
}
.scrollbar-track.show,
.scrollbar-track:hover {
  opacity: 1;
  -webkit-transition-delay: 0s;
          transition-delay: 0s;
}

.scrollbar-track-x {
  bottom: 0;
  left: 0;
  width: 100%;
  height: 8px;
}
.scrollbar-track-y {
  top: 0;
  right: 0;
  width: 8px;
  height: 100%;
}
.scrollbar-thumb {
  position: absolute;
  top: 0;
  left: 0;
  width: 8px;
  height: 8px;
  background: `+Ng+`;
  border-radius: 4px;
}
`,aa="smooth-scrollbar-style",Zt=!1;function bs(){if(!(Zt||typeof window>"u")){var t=document.createElement("style");t.id=aa,t.textContent=zg,document.head&&document.head.appendChild(t),Zt=!0}}function Bg(){if(!(!Zt||typeof window>"u")){var t=document.getElementById(aa);!t||!t.parentNode||(t.parentNode.removeChild(t),Zt=!1)}}var Gg=function(t){ba(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.init=function(r,n){if(!r||r.nodeType!==1)throw new TypeError("expect element to be DOM Element, but got "+r);return bs(),ce.has(r)?ce.get(r):new ms(r,n)},e.initAll=function(r){return Array.from(document.querySelectorAll("[data-scrollbar]"),function(n){return e.init(n,r)})},e.has=function(r){return ce.has(r)},e.get=function(r){return ce.get(r)},e.getAll=function(){return Array.from(ce.values())},e.destroy=function(r){var n=ce.get(r);n&&n.destroy()},e.destroyAll=function(){ce.forEach(function(r){r.destroy()})},e.use=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Pg.apply(void 0,r)},e.attachStyle=function(){return bs()},e.detachStyle=function(){return Bg()},e.version="8.8.1",e.ScrollbarPlugin=$g,e}(ms);const qe=[];function Ug(t,e){return{subscribe:gt(t,e).subscribe}}function gt(t,e=P){let r;const n=new Set;function i(a){if(ne(t,a)&&(t=a,r)){const c=!qe.length;for(const u of n)u[1](),qe.push(u,t);if(c){for(let u=0;u<qe.length;u+=2)qe[u][0](qe[u+1]);qe.length=0}}}function s(a){i(a(t))}function o(a,c=P){const u=[a,c];return n.add(u),n.size===1&&(r=e(i)||P),a(t),()=>{n.delete(u),n.size===0&&(r(),r=null)}}return{set:i,update:s,subscribe:o}}const be=gt(null),Wt=gt(1),Wg=Ug(3),er=gt(0),ze=gt(null);function Hg(t){let e,r,n,i;return{c(){e=$("div"),r=H(t[2]),_(e,"class",Ht(t[4])+" svelte-yw0l3s"),Se(e,"active",t[0]===t[1]+1),Se(e,"failed",t[1]===t[3]),Se(e,"pointer",t[0]!==null)},m(s,o){M(s,e,o),w(e,r),n||(i=ge(e,"click",t[5]),n=!0)},p(s,[o]){o&4&&De(r,s[2]),o&3&&Se(e,"active",s[0]===s[1]+1),o&10&&Se(e,"failed",s[1]===s[3]),o&1&&Se(e,"pointer",s[0]!==null)},i:P,o:P,d(s){s&&O(e),n=!1,i()}}}function Vg(t,e,r){let n,i;G(t,be,d=>r(6,n=d)),G(t,ze,d=>r(3,i=d));let{moveIndex:s}=e,{activeFenIndex:o=null}=e,a="";const c=n.fens[s].split(" ")[1],u=d=>Number(d.split(" ").at(-1)),l=1+u(n.fens[s+1])-u(n.fens[1]);a+=String(l)+(c==="w"?".":"..."),a+=n.san_moves[s];const h=()=>{o!==null&&r(0,o=s+1)};return t.$$set=d=>{"moveIndex"in d&&r(1,s=d.moveIndex),"activeFenIndex"in d&&r(0,o=d.activeFenIndex)},[o,s,a,i,c,h]}class Xg extends he{constructor(e){super(),fe(this,e,Vg,Hg,ne,{moveIndex:1,activeFenIndex:0})}}function ys(t,e,r){const n=t.slice();return n[5]=e[r],n[7]=r,n}function _s(t){let e,r,n,i,s;function o(c){t[4](c)}let a={moveIndex:t[7]};return t[0]!==void 0&&(a.activeFenIndex=t[0]),r=new Xg({props:a}),le.push(()=>$e(r,"activeFenIndex",o)),{c(){e=$("div"),re(r.$$.fragment),i=N(),_(e,"class","svelte-45trzg")},m(c,u){M(c,e,u),X(r,e,null),w(e,i),s=!0},p(c,u){const l={};!n&&u&1&&(n=!0,l.activeFenIndex=c[0],Ie(()=>n=!1)),r.$set(l)},i(c){s||(C(r.$$.fragment,c),s=!0)},o(c){R(r.$$.fragment,c),s=!1},d(c){c&&O(e),K(r)}}}function Kg(t){let e,r,n,i=t[3].san_moves.slice(0,t[1]+1),s=[];for(let a=0;a<i.length;a+=1)s[a]=_s(ys(t,i,a));const o=a=>R(s[a],1,1,()=>{s[a]=null});return{c(){e=$("div");for(let a=0;a<s.length;a+=1)s[a].c();_(e,"id","line"),_(e,"class",r=Ht(t[2])+" svelte-45trzg"),Se(e,"scrollbar",t[2]==="column")},m(a,c){M(a,e,c);for(let u=0;u<s.length;u+=1)s[u].m(e,null);n=!0},p(a,[c]){if(c&11){i=a[3].san_moves.slice(0,a[1]+1);let u;for(u=0;u<i.length;u+=1){const l=ys(a,i,u);s[u]?(s[u].p(l,c),C(s[u],1)):(s[u]=_s(l),s[u].c(),C(s[u],1),s[u].m(e,null))}for(tr(),u=i.length;u<s.length;u+=1)o(u);rr()}(!n||c&4&&r!==(r=Ht(a[2])+" svelte-45trzg"))&&_(e,"class",r),(!n||c&4)&&Se(e,"scrollbar",a[2]==="column")},i(a){if(!n){for(let c=0;c<i.length;c+=1)C(s[c]);n=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)R(s[c]);n=!1},d(a){a&&O(e),ke(s,a)}}}function Yg(t,e,r){let n;G(t,be,c=>r(3,n=c));let{activeFenIndex:i=null}=e,{lastMoveIndex:s=n.san_moves.length}=e,{direction:o="column"}=e;Gs(()=>{document.querySelector(".scrollbar")&&Gg.init(document.querySelector(".scrollbar"),{})});function a(c){i=c,r(0,i)}return t.$$set=c=>{"activeFenIndex"in c&&r(0,i=c.activeFenIndex),"lastMoveIndex"in c&&r(1,s=c.lastMoveIndex),"direction"in c&&r(2,o=c.direction)},[i,s,o,n,a]}class zn extends he{constructor(e){super(),fe(this,e,Yg,Kg,ne,{activeFenIndex:0,lastMoveIndex:1,direction:2})}}const Qg="/noboardchess/assets/chevron_right.7ea5f89f.svg",Jg="/noboardchess/assets/chevron_left.5f0c5e3b.svg",Zg="/noboardchess/assets/first_page.f5439e4d.svg",em="/noboardchess/assets/last_page.06c0e9ba.svg",tm="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",rm="8/8/8/8/8/8/8/8",st={start:tm,empty:rm};class A{constructor(e=void 0){this.squares=new Array(64).fill(null),this.setFen(e)}setFen(e=st.empty){let r;e==="start"?(console.warn("setting the position with the strings 'start' or 'empty' is deprecated, use FEN.start or FEN.empty"),r=st.start):e==="empty"||e===void 0?(console.warn("setting the position with the strings 'start' or 'empty' is deprecated, use FEN.start or FEN.empty"),r=st.empty):r=e;const n=r.replace(/^\s*/,"").replace(/\s*$/,"").split(/\/|\s/);for(let i=0;i<8;i++){const s=n[7-i].replace(/\d/g,o=>{const a=parseInt(o);let c="";for(let u=0;u<a;u++)c+="-";return c});for(let o=0;o<8;o++){const a=s.substring(o,o+1);let c=null;a!=="-"&&(a.toUpperCase()===a?c=`w${a.toLowerCase()}`:c=`b${a}`),this.squares[i*8+o]=c}}}getFen(){let e=new Array(8).fill("");for(let r=0;r<8;r++){let n=0;for(let i=0;i<8;i++){const s=this.squares[r*8+i];if(!s)n++;else{n>0&&(e[7-r]+=n,n=0);const o=s.substring(0,1),a=s.substring(1,2);o==="w"?e[7-r]+=a.toUpperCase():e[7-r]+=a}}n>0&&(e[7-r]+=n,n=0)}return e.join("/")}getPieces(e=["k","q","r","b","n","p"]){const r=[],n=(i,s)=>e.indexOf(i.name)-e.indexOf(s.name);for(let i=0;i<64;i++){const s=this.squares[i];s&&r.push({name:s.charAt(1),color:s.charAt(0),position:A.indexToSquare(i)})}return e&&r.sort(n),r}movePiece(e,r){if(!this.squares[A.squareToIndex(e)]){console.warn("no piece on",e);return}this.squares[A.squareToIndex(r)]=this.squares[A.squareToIndex(e)],this.squares[A.squareToIndex(e)]=void 0}setPiece(e,r){this.squares[A.squareToIndex(e)]=r}getPiece(e){return this.squares[A.squareToIndex(e)]}static squareToIndex(e){const r=e.substring(0,1).charCodeAt(0)-97,n=e.substring(1,2)-1;return 8*n+r}static indexToSquare(e){const r=String.fromCharCode(e%8+97),n=Math.floor(e/8)+1;return r+n}clone(){const e=new A;return e.squares=this.squares.slice(0),e}}function ca(){let t,e;const r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}class nm{constructor(){this.position=new A,this.orientation=void 0,this.markers=[],this.inputWhiteEnabled=!1,this.inputBlackEnabled=!1,this.inputEnabled=!1,this.squareSelectEnabled=!1,this.extensionPoints={},this.moveInputProcess=ca().resolve()}setPosition(e,r=!1){this.position=new A(e,r)}movePiece(e,r,n=!1){const i=this._position.clone();i.animated=n;const s=i.getPiece(e);s||console.error("no piece on",e),i.setPiece(e,void 0),i.setPiece(r,s),this._position=i}setPiece(e,r,n=!1){const i=this._position.clone();i.animated=n,i.setPiece(e,r),this._position=i}addMarker(e,r){this.markers.push({square:e,type:r})}removeMarkers(e=void 0,r=void 0){!e&&!r?this.markers=[]:this.markers=this.markers.filter(n=>{if(r){if(e){if(n.type===r&&e===n.square)return!1}else if(n.type===r)return!1}else if(e===n.square)return!1;return!0})}invokeExtensionPoints(e,r={}){const n=this.extensionPoints[e],i=Object.assign({},r);if(i.extensionPoint=e,n)for(const s of n)setTimeout(()=>{s(i)})}}const y={waitForInputStart:0,pieceClickedThreshold:1,clickTo:2,secondClickThreshold:3,dragTo:4,clickDragTo:5,moveDone:6,reset:7},Lt={secondClick:"secondClick",movedOutOfBoard:"movedOutOfBoard",draggedBack:"draggedBack",clickedAnotherPiece:"clickedAnotherPiece"},ws=4;class im{constructor(e,r,n,i){this.view=e,this.chessboard=e.chessboard,this.moveInputStartedCallback=s=>{const o=r(s);return o&&(this.chessboard.state.moveInputProcess=ca()),o},this.validateMoveInputCallback=(s,o)=>{const a=n(s,o);return this.chessboard.state.moveInputProcess.resolve(a),a},this.moveInputCanceledCallback=(s,o,a)=>{i(s,o,a),this.chessboard.state.moveInputProcess.resolve()},this.setMoveInputState(y.waitForInputStart)}setMoveInputState(e,r=void 0){const n=this.moveInputState;switch(this.moveInputState=e,e){case y.waitForInputStart:break;case y.pieceClickedThreshold:if(y.waitForInputStart!==n&&y.clickTo!==n)throw new Error("moveInputState");if(this.pointerMoveListener&&(removeEventListener(this.pointerMoveListener.type,this.pointerMoveListener),this.pointerMoveListener=void 0),this.pointerUpListener&&(removeEventListener(this.pointerUpListener.type,this.pointerUpListener),this.pointerUpListener=void 0),this.fromSquare=r.square,this.toSquare=void 0,this.movedPiece=r.piece,this.updateStartEndMarkers(),this.startPoint=r.point,!this.pointerMoveListener&&!this.pointerUpListener)if(r.type==="mousedown")this.pointerMoveListener=this.onPointerMove.bind(this),this.pointerMoveListener.type="mousemove",addEventListener("mousemove",this.pointerMoveListener),this.pointerUpListener=this.onPointerUp.bind(this),this.pointerUpListener.type="mouseup",addEventListener("mouseup",this.pointerUpListener);else if(r.type==="touchstart")this.pointerMoveListener=this.onPointerMove.bind(this),this.pointerMoveListener.type="touchmove",addEventListener("touchmove",this.pointerMoveListener),this.pointerUpListener=this.onPointerUp.bind(this),this.pointerUpListener.type="touchend",addEventListener("touchend",this.pointerUpListener);else throw Error("event type");else throw Error("_pointerMoveListener or _pointerUpListener");break;case y.clickTo:this.draggablePiece&&(k.removeElement(this.draggablePiece),this.draggablePiece=void 0),n===y.dragTo&&this.view.setPieceVisibility(r.square,!0);break;case y.secondClickThreshold:if(y.clickTo!==n)throw new Error("moveInputState");this.startPoint=r.point;break;case y.dragTo:if(y.pieceClickedThreshold!==n)throw new Error("moveInputState");this.view.chessboard.state.inputEnabled&&(this.view.setPieceVisibility(r.square,!1),this.createDraggablePiece(r.piece));break;case y.clickDragTo:if(y.secondClickThreshold!==n)throw new Error("moveInputState");this.view.chessboard.state.inputEnabled&&(this.view.setPieceVisibility(r.square,!1),this.createDraggablePiece(r.piece));break;case y.moveDone:if([y.dragTo,y.clickTo,y.clickDragTo].indexOf(n)===-1)throw new Error("moveInputState");this.toSquare=r.square,this.toSquare&&this.validateMoveInputCallback(this.fromSquare,this.toSquare)?n===y.clickTo?this.chessboard.movePiece(this.fromSquare,this.toSquare,!0).then(()=>{this.setMoveInputState(y.reset)}):this.chessboard.movePiece(this.fromSquare,this.toSquare,!1).then(()=>{this.view.setPieceVisibility(this.toSquare,!0),this.setMoveInputState(y.reset)}):(this.view.setPieceVisibility(this.fromSquare,!0),this.setMoveInputState(y.reset));break;case y.reset:this.fromSquare&&!this.toSquare&&this.movedPiece&&this.chessboard.state.position.setPiece(this.fromSquare,this.movedPiece),this.fromSquare=void 0,this.toSquare=void 0,this.movedPiece=void 0,this.updateStartEndMarkers(),this.draggablePiece&&(k.removeElement(this.draggablePiece),this.draggablePiece=void 0),this.pointerMoveListener&&(removeEventListener(this.pointerMoveListener.type,this.pointerMoveListener),this.pointerMoveListener=void 0),this.pointerUpListener&&(removeEventListener(this.pointerUpListener.type,this.pointerUpListener),this.pointerUpListener=void 0),this.setMoveInputState(y.waitForInputStart);break;default:throw Error(`moveInputState ${e}`)}}createDraggablePiece(e){if(this.draggablePiece)throw Error("draggablePiece exists");this.draggablePiece=k.createSvg(document.body),this.draggablePiece.classList.add("cm-chessboard-draggable-piece"),this.draggablePiece.setAttribute("width",this.view.squareWidth),this.draggablePiece.setAttribute("height",this.view.squareHeight),this.draggablePiece.setAttribute("style","pointer-events: none"),this.draggablePiece.name=e;const r=this.chessboard.props.sprite.cache?"":this.chessboard.props.sprite.url,n=k.addElement(this.draggablePiece,"use",{href:`${r}#${e}`}),i=this.view.squareHeight/this.chessboard.props.sprite.size,s=this.draggablePiece.createSVGTransform();s.setScale(i,i),n.transform.baseVal.appendItem(s)}moveDraggablePiece(e,r){this.draggablePiece.setAttribute("style",`pointer-events: none; position: absolute; left: ${e-this.view.squareHeight/2}px; top: ${r-this.view.squareHeight/2}px`)}onPointerDown(e){if(e.type==="mousedown"&&e.button===0||e.type==="touchstart"){const r=e.target.getAttribute("data-square");if(r){const n=this.chessboard.getPiece(r);let i;if(n&&(i=n?n.substring(0,1):void 0,(i==="w"&&this.chessboard.state.inputWhiteEnabled||i==="b"&&this.chessboard.state.inputBlackEnabled)&&e.preventDefault()),this.moveInputState!==y.waitForInputStart||this.chessboard.state.inputWhiteEnabled&&i==="w"||this.chessboard.state.inputBlackEnabled&&i==="b"){let s;if(e.type==="mousedown"?s={x:e.clientX,y:e.clientY}:e.type==="touchstart"&&(s={x:e.touches[0].clientX,y:e.touches[0].clientY}),this.moveInputState===y.waitForInputStart&&n&&this.moveInputStartedCallback(r))this.setMoveInputState(y.pieceClickedThreshold,{square:r,piece:n,point:s,type:e.type});else if(this.moveInputState===y.clickTo)if(r===this.fromSquare)this.setMoveInputState(y.secondClickThreshold,{square:r,piece:n,point:s,type:e.type});else{const o=this.chessboard.getPiece(r),a=o?o.substring(0,1):void 0,c=this.chessboard.getPiece(this.fromSquare),u=c?c.substring(0,1):void 0;i&&u===a?(this.moveInputCanceledCallback(Lt.clickedAnotherPiece,this.fromSquare,r),this.moveInputStartedCallback(r)?this.setMoveInputState(y.pieceClickedThreshold,{square:r,piece:o,point:s,type:e.type}):this.setMoveInputState(y.reset)):this.setMoveInputState(y.moveDone,{square:r})}}}}}onPointerMove(e){let r,n,i,s,o;if(e.type==="mousemove"?(i=e.clientX,s=e.clientY,r=e.pageX,n=e.pageY,o=e.target):e.type==="touchmove"&&(i=e.touches[0].clientX,s=e.touches[0].clientY,r=e.touches[0].pageX,n=e.touches[0].pageY,o=document.elementFromPoint(i,s)),this.moveInputState===y.pieceClickedThreshold||this.moveInputState===y.secondClickThreshold)(Math.abs(this.startPoint.x-i)>ws||Math.abs(this.startPoint.y-s)>ws)&&(this.moveInputState===y.secondClickThreshold?this.setMoveInputState(y.clickDragTo,{square:this.fromSquare,piece:this.movedPiece}):this.setMoveInputState(y.dragTo,{square:this.fromSquare,piece:this.movedPiece}),this.view.chessboard.state.inputEnabled&&this.moveDraggablePiece(r,n));else if(this.moveInputState===y.dragTo||this.moveInputState===y.clickDragTo||this.moveInputState===y.clickTo){if(o&&o.getAttribute&&o.parentElement===this.view.boardGroup){const a=o.getAttribute("data-square");a!==this.fromSquare&&a!==this.toSquare?(this.toSquare=a,this.updateStartEndMarkers()):a===this.fromSquare&&this.toSquare!==void 0&&(this.toSquare=void 0,this.updateStartEndMarkers())}else this.toSquare!==void 0&&(this.toSquare=void 0,this.updateStartEndMarkers());this.view.chessboard.state.inputEnabled&&(this.moveInputState===y.dragTo||this.moveInputState===y.clickDragTo)&&this.moveDraggablePiece(r,n)}}onPointerUp(e){let r;if(e.type==="mouseup"?r=e.target:e.type==="touchend"&&(r=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY)),r&&r.getAttribute){const n=r.getAttribute("data-square");if(n)this.moveInputState===y.dragTo||this.moveInputState===y.clickDragTo?this.fromSquare===n?this.moveInputState===y.clickDragTo?(this.chessboard.state.position.setPiece(this.fromSquare,this.movedPiece),this.view.setPieceVisibility(this.fromSquare),this.moveInputCanceledCallback(Lt.draggedBack,n,n),this.setMoveInputState(y.reset)):this.setMoveInputState(y.clickTo,{square:n}):this.setMoveInputState(y.moveDone,{square:n}):this.moveInputState===y.pieceClickedThreshold?this.setMoveInputState(y.clickTo,{square:n}):this.moveInputState===y.secondClickThreshold&&(this.setMoveInputState(y.reset),this.moveInputCanceledCallback(Lt.secondClick,n,n));else{this.view.redrawPieces();const i=this.fromSquare;this.setMoveInputState(y.reset),this.moveInputCanceledCallback(Lt.movedOutOfBoard,i,void 0)}}else this.view.redrawPieces(),this.setMoveInputState(y.reset)}updateStartEndMarkers(){this.chessboard.props.style.moveFromMarker&&this.chessboard.state.removeMarkers(void 0,this.chessboard.props.style.moveFromMarker),this.chessboard.props.style.moveToMarker&&this.chessboard.state.removeMarkers(void 0,this.chessboard.props.style.moveToMarker),this.chessboard.props.style.moveFromMarker&&this.fromSquare&&this.chessboard.state.addMarker(this.fromSquare,this.chessboard.props.style.moveFromMarker),this.chessboard.props.style.moveToMarker&&this.toSquare&&this.chessboard.state.addMarker(this.toSquare,this.chessboard.props.style.moveToMarker),this.view.drawMarkers()}reset(){this.setMoveInputState(y.reset)}destroy(){this.reset()}}const V={positionChanged:"positionChanged",boardChanged:"boardChanged",moveInputToggled:"moveInputToggled",moveInput:"moveInput",moveInputStateChanged:"moveInput",destroy:"destroy",redrawBoard:"redrawBoard"};class sm{constructor(e){this.chessboard=e,this.moveInput=new im(this,this.moveInputStartedCallback.bind(this),this.validateMoveInputCallback.bind(this),this.moveInputCanceledCallback.bind(this)),e.props.sprite.cache&&this.cacheSpriteToDiv("chessboardSpriteCache",this.chessboard.props.sprite.url),this.context=document.createElement("div"),this.chessboard.context.appendChild(this.context),e.props.responsive&&(typeof ResizeObserver<"u"?(this.resizeObserver=new ResizeObserver(()=>{this.handleResize()}),this.resizeObserver.observe(this.chessboard.context)):(this.resizeListener=this.handleResize.bind(this),window.addEventListener("resize",this.resizeListener))),this.pointerDownListener=this.pointerDownHandler.bind(this),this.pointerDownListener=this.pointerDownHandler.bind(this),this.context.addEventListener("mousedown",this.pointerDownListener),this.context.addEventListener("touchstart",this.pointerDownListener),this.createSvgAndGroups(),this.updateMetrics(),this.handleResize(),this.redrawBoard()}pointerDownHandler(e){this.moveInput.onPointerDown(e)}destroy(){this.moveInput.destroy(),this.resizeObserver&&this.resizeObserver.unobserve(this.chessboard.context),this.resizeListener&&window.removeEventListener("resize",this.resizeListener),this.chessboard.context.removeEventListener("mousedown",this.pointerDownListener),this.chessboard.context.removeEventListener("touchstart",this.pointerDownListener),this.animationQueue=[],this.currentAnimation&&cancelAnimationFrame(this.currentAnimation.frameHandle),k.removeElement(this.svg)}cacheSpriteToDiv(e,r){if(!document.getElementById(e)){const n=document.createElement("div");n.style.display="none",n.id=e,document.body.appendChild(n);const i=new XMLHttpRequest;i.open("GET",r,!0),i.onload=function(){n.insertAdjacentHTML("afterbegin",i.response)},i.send()}}createSvgAndGroups(){this.svg=k.createSvg(this.context);let e=this.chessboard.props.style.cssClass?this.chessboard.props.style.cssClass:"default";this.svg.setAttribute("class","cm-chessboard border-type-"+this.chessboard.props.style.borderType+" "+e),this.svg.setAttribute("role","img"),this.updateMetrics(),this.boardGroup=k.addElement(this.svg,"g",{class:"board"}),this.coordinatesGroup=k.addElement(this.svg,"g",{class:"coordinates"}),this.markersLayer=k.addElement(this.svg,"g",{class:"markers-layer"}),this.markersGroup=k.addElement(this.markersLayer,"g",{class:"markers"}),this.piecesLayer=k.addElement(this.svg,"g",{class:"pieces-layer"}),this.piecesGroup=k.addElement(this.piecesLayer,"g",{class:"pieces"})}updateMetrics(){this.width=this.context.clientWidth,this.height=this.context.clientWidth*(this.chessboard.props.style.aspectRatio||1),this.chessboard.props.style.borderType===Le.frame?this.borderSize=this.width/25:this.chessboard.props.style.borderType===Le.thin?this.borderSize=this.width/320:this.borderSize=0,this.innerWidth=this.width-2*this.borderSize,this.innerHeight=this.height-2*this.borderSize,this.squareWidth=this.innerWidth/8,this.squareHeight=this.innerHeight/8,this.scalingX=this.squareWidth/this.chessboard.props.sprite.size,this.scalingY=this.squareHeight/this.chessboard.props.sprite.size,this.pieceXTranslate=this.squareWidth/2-this.chessboard.props.sprite.size*this.scalingY/2}handleResize(){this.context.style.width=this.chessboard.context.clientWidth+"px",this.context.style.height=this.chessboard.context.clientWidth*this.chessboard.props.style.aspectRatio+"px",(this.context.clientWidth!==this.width||this.context.clientHeight!==this.height)&&(this.updateMetrics(),this.redrawBoard(),this.redrawPieces()),this.svg.setAttribute("width","100%"),this.svg.setAttribute("height","100%")}redrawBoard(){this.redrawSquares(),this.drawCoordinates(),this.drawMarkers(),this.chessboard.state.invokeExtensionPoints(V.redrawBoard),this.visualizeInputState()}redrawSquares(){for(;this.boardGroup.firstChild;)this.boardGroup.removeChild(this.boardGroup.lastChild);if(k.addElement(this.boardGroup,"rect",{width:this.width,height:this.height}).setAttribute("class","border"),this.chessboard.props.style.borderType===Le.frame){const r=this.borderSize;k.addElement(this.boardGroup,"rect",{x:r,y:r,width:this.width-r*2,height:this.height-r*2}).setAttribute("class","border-inner")}for(let r=0;r<64;r++){const n=this.chessboard.state.orientation===ve.white?r:63-r,s=`square ${(9*n&8)===0?"black":"white"}`,o=this.squareToPoint(A.indexToSquare(n)),a=k.addElement(this.boardGroup,"rect",{x:o.x,y:o.y,width:this.squareWidth,height:this.squareHeight});a.setAttribute("class",s),a.setAttribute("data-square",A.indexToSquare(n))}}drawCoordinates(){if(!this.chessboard.props.style.showCoordinates)return;for(;this.coordinatesGroup.firstChild;)this.coordinatesGroup.removeChild(this.coordinatesGroup.lastChild);const e=this.chessboard.props.style.borderType!==Le.frame;for(let r=0;r<8;r++){let n=this.borderSize+(17+this.chessboard.props.sprite.size*r)*this.scalingX,i=this.height-this.scalingY*3.5,s="coordinate file";e&&(n=n+this.scalingX*15.5,s+=r%2?" white":" black");const o=k.addElement(this.coordinatesGroup,"text",{class:s,x:n,y:i,style:`font-size: ${this.scalingY*10}px`});this.chessboard.state.orientation===ve.white?o.textContent=String.fromCharCode(97+r):o.textContent=String.fromCharCode(104-r)}for(let r=0;r<8;r++){let n=this.borderSize/3.7,i=this.borderSize+25*this.scalingY+r*this.squareHeight,s="coordinate rank";e&&(s+=r%2?" black":" white",this.chessboard.props.style.borderType===Le.frame?(n=n+this.scalingX*10,i=i-this.scalingY*15):(n=n+this.scalingX*2,i=i-this.scalingY*15));const o=k.addElement(this.coordinatesGroup,"text",{class:s,x:n,y:i,style:`font-size: ${this.scalingY*10}px`});this.chessboard.state.orientation===ve.white?o.textContent=""+(8-r):o.textContent=""+(1+r)}}redrawPieces(e=this.chessboard.state.position.squares){const r=Array.from(this.piecesGroup.childNodes);for(let n=0;n<64;n++){const i=e[n];i&&this.drawPiece(A.indexToSquare(n),i)}for(const n of r)this.piecesGroup.removeChild(n)}drawPiece(e,r){const n=k.addElement(this.piecesGroup,"g");n.setAttribute("data-piece",r),n.setAttribute("data-square",e);const i=this.squareToPoint(e),s=this.svg.createSVGTransform();s.setTranslate(i.x,i.y),n.transform.baseVal.appendItem(s);const o=this.chessboard.props.sprite.cache?"":this.chessboard.props.sprite.url,a=k.addElement(n,"use",{href:`${o}#${r}`,class:"piece"}),c=this.svg.createSVGTransform();c.setTranslate(this.pieceXTranslate,0),a.transform.baseVal.appendItem(c);const u=this.svg.createSVGTransform();return u.setScale(this.scalingY,this.scalingY),a.transform.baseVal.appendItem(u),n}setPieceVisibility(e,r=!0){const n=this.getPieceElement(e);n?r?n.setAttribute("visibility","visible"):n.setAttribute("visibility","hidden"):console.warn("no piece on",e)}getPieceElement(e){if(e.length<2)throw new Error("980e03");const r=this.piecesGroup.querySelector(`g[data-square='${e}']`);return r||console.warn("no piece on",e),r}drawMarkers(){for(;this.markersGroup.firstChild;)this.markersGroup.removeChild(this.markersGroup.firstChild);this.chessboard.state.markers.forEach(e=>{this.drawMarker(e)})}drawMarker(e){const r=k.addElement(this.markersGroup,"g");r.setAttribute("data-square",e.square);const n=this.squareToPoint(e.square),i=this.svg.createSVGTransform();i.setTranslate(n.x,n.y),r.transform.baseVal.appendItem(i);const s=this.chessboard.props.sprite.cache?"":this.chessboard.props.sprite.url,o=k.addElement(r,"use",{href:`${s}#${e.type.slice}`,class:"marker "+e.type.class}),a=this.svg.createSVGTransform();return a.setScale(this.scalingX,this.scalingY),o.transform.baseVal.appendItem(a),r}enableMoveInput(e,r=void 0){r===ve.white?this.chessboard.state.inputWhiteEnabled=!0:r===ve.black?this.chessboard.state.inputBlackEnabled=!0:(this.chessboard.state.inputWhiteEnabled=!0,this.chessboard.state.inputBlackEnabled=!0),this.chessboard.state.inputEnabled=!0,this.moveInputCallback=e,this.chessboard.state.invokeExtensionPoints(V.moveInputToggled,{enabled:!0,color:r}),this.visualizeInputState()}disableMoveInput(){this.chessboard.state.inputWhiteEnabled=!1,this.chessboard.state.inputBlackEnabled=!1,this.chessboard.state.inputEnabled=!1,this.moveInputCallback=void 0,this.chessboard.state.invokeExtensionPoints(V.moveInputToggled,{enabled:!1}),this.visualizeInputState()}moveInputStartedCallback(e){const r={chessboard:this.chessboard,type:Fr.moveInputStarted,square:e};return this.chessboard.state.invokeExtensionPoints(V.moveInput,r),this.moveInputCallback?this.moveInputCallback(r):!0}validateMoveInputCallback(e,r){const n={chessboard:this.chessboard,type:Fr.validateMoveInput,squareFrom:e,squareTo:r};return this.chessboard.state.invokeExtensionPoints(V.moveInput,n),this.moveInputCallback?this.moveInputCallback(n):!0}moveInputCanceledCallback(e,r,n){const i={chessboard:this.chessboard,type:Fr.moveInputCanceled,reason:e,squareFrom:r,squareTo:n};this.chessboard.state.invokeExtensionPoints(V.moveInput,i),this.moveInputCallback&&this.moveInputCallback(i)}visualizeInputState(){this.chessboard.state&&(this.chessboard.state.inputWhiteEnabled||this.chessboard.state.inputBlackEnabled||this.chessboard.state.squareSelectEnabled?this.boardGroup.setAttribute("class","board input-enabled"):this.boardGroup.setAttribute("class","board"))}indexToPoint(e){let r,n;return this.chessboard.state.orientation===ve.white?(r=this.borderSize+e%8*this.squareWidth,n=this.borderSize+(7-Math.floor(e/8))*this.squareHeight):(r=this.borderSize+(7-e%8)*this.squareWidth,n=this.borderSize+Math.floor(e/8)*this.squareHeight),{x:r,y:n}}squareToPoint(e){const r=A.squareToIndex(e);return this.indexToPoint(r)}}const Ss="http://www.w3.org/2000/svg";class k{static createSvg(e=void 0){let r=document.createElementNS(Ss,"svg");return e&&(r.setAttribute("width","100%"),r.setAttribute("height","100%"),e.appendChild(r)),r}static addElement(e,r,n,i=void 0){let s=document.createElementNS(Ss,r);r==="use"&&(n["xlink:href"]=n.href);for(let o in n)if(n.hasOwnProperty(o))if(o.indexOf(":")!==-1){const a=o.split(":");s.setAttributeNS("http://www.w3.org/1999/"+a[0],a[1],n[o])}else s.setAttribute(o,n[o]);return i!==void 0?e.appendChild(s):e.insertBefore(s,i),s}static removeElement(e){e.parentNode?e.parentNode.removeChild(e):console.warn(e,"without parentNode")}}class om{constructor(){this.queue=[],this.workingOnPromise=!1,this.stop=!1}async enqueue(e){return new Promise((r,n)=>{this.queue.push({promise:e,resolve:r,reject:n}),this.dequeue()})}dequeue(){if(this.workingOnPromise)return;if(this.stop){this.queue=[],this.stop=!1;return}const e=this.queue.shift();if(!!e){try{this.workingOnPromise=!0,e.promise().then(r=>{this.workingOnPromise=!1,e.resolve(r),this.dequeue()}).catch(r=>{this.workingOnPromise=!1,e.reject(r),this.dequeue()})}catch(r){this.workingOnPromise=!1,e.reject(r),this.dequeue()}return!0}}destroy(){this.stop=!0}}const oe={move:0,appear:1,disappear:2};class Be{constructor(e,r,n,i,s){this.view=e,r&&n?(this.animatedElements=this.createAnimation(r.squares,n.squares),this.duration=i,this.callback=s,this.frameHandle=requestAnimationFrame(this.animationStep.bind(this))):console.error("fromPosition",r,"toPosition",n)}static seekChanges(e,r){const n=[],i=[],s=[];for(let o=0;o<64;o++){const a=e[o],c=r[o];c!==a&&(c&&n.push({piece:c,index:o}),a&&i.push({piece:a,index:o}))}return n.forEach(o=>{let a=8,c;i.forEach(u=>{if(o.piece===u.piece){const l=Be.squareDistance(o.index,u.index);l<a&&(c=u,a=l)}}),c?(i.splice(i.indexOf(c),1),s.push({type:oe.move,piece:o.piece,atIndex:c.index,toIndex:o.index})):s.push({type:oe.appear,piece:o.piece,atIndex:o.index})}),i.forEach(o=>{s.push({type:oe.disappear,piece:o.piece,atIndex:o.index})}),s}createAnimation(e,r){const n=Be.seekChanges(e,r),i=[];return n.forEach(s=>{const o={type:s.type};switch(s.type){case oe.move:o.element=this.view.getPieceElement(A.indexToSquare(s.atIndex)),o.element.parentNode.appendChild(o.element),o.atPoint=this.view.indexToPoint(s.atIndex),o.toPoint=this.view.indexToPoint(s.toIndex);break;case oe.appear:o.element=this.view.drawPiece(A.indexToSquare(s.atIndex),s.piece),o.element.style.opacity=0;break;case oe.disappear:o.element=this.view.getPieceElement(A.indexToSquare(s.atIndex));break}i.push(o)}),i}animationStep(e){this.startTime||(this.startTime=e);const r=e-this.startTime;if(r<=this.duration)this.frameHandle=requestAnimationFrame(this.animationStep.bind(this));else{cancelAnimationFrame(this.frameHandle),this.animatedElements.forEach(s=>{s.type===oe.disappear&&k.removeElement(s.element)}),this.callback();return}const n=Math.min(1,r/this.duration);let i=n<.5?2*n*n:-1+(4-2*n)*n;isNaN(i)&&(i=1),this.animatedElements.forEach(s=>{if(s.element)switch(s.type){case oe.move:s.element.transform.baseVal.removeItem(0);const o=this.view.svg.createSVGTransform();o.setTranslate(s.atPoint.x+(s.toPoint.x-s.atPoint.x)*i,s.atPoint.y+(s.toPoint.y-s.atPoint.y)*i),s.element.transform.baseVal.appendItem(o);break;case oe.appear:s.element.style.opacity=Math.round(i*100)/100;break;case oe.disappear:s.element.style.opacity=Math.round((1-i)*100)/100;break}else console.warn("animatedItem has no element",s)})}static squareDistance(e,r){const n=e%8,i=Math.floor(e/8),s=r%8,o=Math.floor(r/8);return Math.max(Math.abs(o-i),Math.abs(s-n))}}class am extends om{constructor(e){super(),this.chessboard=e}async enqueuePositionChange(e,r,n){return e.getFen()===r.getFen()?Promise.resolve():super.enqueue(()=>new Promise(i=>{let s=n?this.chessboard.props.animationDuration:0;this.queue.length>0&&(s=s/(1+Math.pow(this.queue.length/5,2))),new Be(this.chessboard.view,e,r,n?s:0,()=>{this.chessboard.view&&this.chessboard.view.redrawPieces(r.squares),i()})}))}async enqueueTurnBoard(e,r,n){return super.enqueue(()=>new Promise(i=>{const s=new A(st.empty);let o=n?this.chessboard.props.animationDuration:0;this.queue.length>0&&(o=o/(1+Math.pow(this.queue.length/5,2))),new Be(this.chessboard.view,e,s,n?o:0,()=>{this.chessboard.state.orientation=r,this.chessboard.view.redrawBoard(),this.chessboard.view.redrawPieces(s.squares),new Be(this.chessboard.view,s,e,n?o:0,()=>{this.chessboard.view.redrawPieces(e.squares),i()})})}))}}const ve={white:"w",black:"b"},Fr={moveStart:"moveInputStarted",moveInputStarted:"moveInputStarted",moveDone:"validateMoveInput",validateMoveInput:"validateMoveInput",moveCanceled:"moveInputCanceled",moveInputCanceled:"moveInputCanceled"},Is={primary:"primary",secondary:"secondary"},Le={none:"none",thin:"thin",frame:"frame"},$s={frame:{class:"marker-frame",slice:"markerFrame"},square:{class:"marker-square",slice:"markerSquare"},dot:{class:"marker-dot",slice:"markerDot"},circle:{class:"marker-circle",slice:"markerCircle"}};class cm{constructor(e,r={}){if(!e)throw new Error("container element is "+e);this.context=e,this.id=(Math.random()+1).toString(36).substring(2,8),this.extensions=[];let n={position:st.empty,orientation:ve.white,responsive:!0,animationDuration:300,language:navigator.language.substring(0,2).toLowerCase(),style:{cssClass:"default",showCoordinates:!0,borderType:Le.none,aspectRatio:1,moveFromMarker:$s.frame,moveToMarker:$s.frame},sprite:{url:"./assets/images/chessboard-sprite.svg",size:40,cache:!0},extensions:[]};this.props={},Object.assign(this.props,n),Object.assign(this.props,r),this.props.sprite=n.sprite,this.props.style=n.style,r.sprite&&Object.assign(this.props.sprite,r.sprite),r.style&&Object.assign(this.props.style,r.style),r.extensions&&(this.props.extensions=r.extensions),this.props.language!=="de"&&this.props.language!=="en"&&(this.props.language="en"),this.state=new nm,this.view=new sm(this),this.positionAnimationsQueue=new am(this),this.state.orientation=this.props.orientation;for(const i of this.props.extensions)this.extensions.push(new i.class(this,i.props));this.view.redrawBoard(),this.state.position=new A(this.props.position),this.view.redrawPieces(),this.state.invokeExtensionPoints(V.positionChanged)}async setPiece(e,r,n=!1){const i=this.state.position.clone();return this.state.position.setPiece(e,r),this.state.invokeExtensionPoints(V.positionChanged),this.positionAnimationsQueue.enqueuePositionChange(i,this.state.position.clone(),n)}async movePiece(e,r,n=!1){const i=this.state.position.clone();return this.state.position.movePiece(e,r),this.state.invokeExtensionPoints(V.positionChanged),this.positionAnimationsQueue.enqueuePositionChange(i,this.state.position.clone(),n)}async setPosition(e,r=!1){const n=this.state.position.clone(),i=new A(e);return n.getFen()!==i.getFen()&&(this.state.position.setFen(e),this.state.invokeExtensionPoints(V.positionChanged)),this.positionAnimationsQueue.enqueuePositionChange(n,this.state.position.clone(),r)}async setOrientation(e,r=!1){const n=this.state.position.clone();if(this.boardTurning){console.log("setOrientation is only once in queue allowed");return}return this.boardTurning=!0,this.positionAnimationsQueue.enqueueTurnBoard(n,e,r).then(()=>{this.boardTurning=!1,this.state.invokeExtensionPoints(V.boardChanged)})}getPiece(e){return this.state.position.getPiece(e)}getPosition(){return this.state.position.getFen()}getOrientation(){return this.state.orientation}addMarker(e,r){if(typeof e=="string"||typeof r=="object"){console.error("changed the signature of `addMarker` to `(type, square)` with v5.1.x");return}this.state.addMarker(r,e),this.view.drawMarkers()}getMarkers(e=void 0,r=void 0){if(typeof e=="string"||typeof r=="object"){console.error("changed the signature of `getMarkers` to `(type, square)` with v5.1.x");return}const n=[];return this.state.markers.forEach(i=>{const s=i.square;(!r&&(!e||e===i.type)||!e&&r===s||e===i.type&&r===s)&&n.push({square:i.square,type:i.type})}),n}removeMarkers(e=void 0,r=void 0){if(typeof e=="string"||typeof r=="object"){console.error("changed the signature of `removeMarkers` to `(type, square)` with v5.1.x");return}this.state.removeMarkers(r,e),this.view.drawMarkers()}enableMoveInput(e,r=void 0){this.view.enableMoveInput(e,r)}disableMoveInput(){this.view.disableMoveInput()}enableSquareSelect(e){if(this.squareSelectListener){console.warn("squareSelectListener already existing");return}this.squareSelectListener=function(r){const n=r.target.getAttribute("data-square");if(r.type==="contextmenu"){r.preventDefault();return}e({chessboard:this,type:r.button===2?Is.secondary:Is.primary,square:n})},this.context.addEventListener("contextmenu",this.squareSelectListener),this.context.addEventListener("mouseup",this.squareSelectListener),this.context.addEventListener("touchend",this.squareSelectListener),this.state.squareSelectEnabled=!0,this.view.visualizeInputState()}disableSquareSelect(){this.context.removeEventListener("contextmenu",this.squareSelectListener),this.context.removeEventListener("mouseup",this.squareSelectListener),this.context.removeEventListener("touchend",this.squareSelectListener),this.squareSelectListener=void 0,this.state.squareSelectEnabled=!1,this.view.visualizeInputState()}destroy(){this.state.invokeExtensionPoints(V.destroy),this.positionAnimationsQueue.destroy(),this.view.destroy(),this.view=void 0,this.state=void 0,this.squareSelectListener&&(this.context.removeEventListener("contextmenu",this.squareSelectListener),this.context.removeEventListener("mouseup",this.squareSelectListener),this.context.removeEventListener("touchend",this.squareSelectListener))}}const um="/noboardchess/assets/chessboard-sprite-staunty.485981d8.svg";function lm(t){let e,r,n,i,s,o,a,c,u,l,h,d,f,v,b,p,g,m,S,x,B;return{c(){e=$("div"),r=$("div"),r.innerHTML='<div id="chessboard"></div>',n=N(),i=$("div"),s=$("button"),o=$("img"),c=N(),u=$("button"),l=$("img"),d=N(),f=$("button"),v=$("img"),p=N(),g=$("button"),m=$("img"),_(r,"id","container"),_(r,"class","svelte-1g5yj9o"),Te(o.src,a=Zg)||_(o,"src",a),_(o,"alt","first"),_(o,"class","svelte-1g5yj9o"),Te(l.src,h=Jg)||_(l,"src",h),_(l,"alt","prev"),_(l,"class","svelte-1g5yj9o"),Te(v.src,b=Qg)||_(v,"src",b),_(v,"alt","next"),_(v,"class","svelte-1g5yj9o"),Te(m.src,S=em)||_(m,"src",S),_(m,"alt","last"),_(m,"class","svelte-1g5yj9o"),_(i,"id","controls"),_(i,"class","svelte-1g5yj9o"),_(e,"id","board"),_(e,"class","svelte-1g5yj9o")},m(I,F){M(I,e,F),w(e,r),w(e,n),w(e,i),w(i,s),w(s,o),w(i,c),w(i,u),w(u,l),w(i,d),w(i,f),w(f,v),w(i,p),w(i,g),w(g,m),x||(B=[ge(s,"click",t[0]),ge(u,"click",t[1]),ge(f,"click",t[2]),ge(g,"click",t[3])],x=!0)},p:P,i:P,o:P,d(I){I&&O(e),x=!1,Ue(B)}}}function fm(t,e,r){let n;G(t,be,l=>r(6,n=l));let i;Gs(()=>{r(5,i=new cm(document.getElementById("chessboard"),{position:n.fen,orientation:n.fen.split(" ")[1]==="b"?ve.white:ve.black,sprite:{url:um},style:{cssClass:"black-and-white"}}))});let{activeFenIndex:s=0}=e;const o=()=>{r(4,s=0)},a=()=>{s&&r(4,s--,s)},c=()=>{s<n.san_moves.length&&r(4,s++,s)},u=()=>{r(4,s=n.san_moves.length)};return t.$$set=l=>{"activeFenIndex"in l&&r(4,s=l.activeFenIndex)},t.$$.update=()=>{t.$$.dirty&112&&i&&i.setPosition(n.fens[s],!0)},[o,a,c,u,s,i,n]}class hm extends he{constructor(e){super(),fe(this,e,fm,lm,ne,{activeFenIndex:4})}}function dm(t){let e,r,n;function i(o){t[5](o)}let s={direction:"column"};return t[0]!==void 0&&(s.activeFenIndex=t[0]),e=new zn({props:s}),le.push(()=>$e(e,"activeFenIndex",i)),{c(){re(e.$$.fragment)},m(o,a){X(e,o,a),n=!0},p(o,a){const c={};!r&&a&1&&(r=!0,c.activeFenIndex=o[0],Ie(()=>r=!1)),e.$set(c)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function vm(t){let e,r,n;function i(o){t[4](o)}let s={direction:"row"};return t[0]!==void 0&&(s.activeFenIndex=t[0]),e=new zn({props:s}),le.push(()=>$e(e,"activeFenIndex",i)),{c(){re(e.$$.fragment)},m(o,a){X(e,o,a),n=!0},p(o,a){const c={};!r&&a&1&&(r=!0,c.activeFenIndex=o[0],Ie(()=>r=!1)),e.$set(c)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function pm(t){let e,r,n,i,s,o,a,c,u,l;Vt(t[2]);function h(p){t[3](p)}let d={};t[0]!==void 0&&(d.activeFenIndex=t[0]),r=new hm({props:d}),le.push(()=>$e(r,"activeFenIndex",h));const f=[vm,dm],v=[];function b(p,g){return p[1]<Dr?0:1}return o=b(t),a=v[o]=f[o](t),{c(){e=$("div"),re(r.$$.fragment),i=N(),s=$("div"),a.c(),_(e,"id","answer"),_(e,"class","svelte-cm1e28"),Gn(e,"flex-direction",t[1]<Dr?"column":"row",!1)},m(p,g){M(p,e,g),X(r,e,null),w(e,i),w(e,s),v[o].m(s,null),c=!0,u||(l=ge(window,"resize",t[2]),u=!0)},p(p,[g]){const m={};!n&&g&1&&(n=!0,m.activeFenIndex=p[0],Ie(()=>n=!1)),r.$set(m);let S=o;o=b(p),o===S?v[o].p(p,g):(tr(),R(v[S],1,1,()=>{v[S]=null}),rr(),a=v[o],a?a.p(p,g):(a=v[o]=f[o](p),a.c()),C(a,1),a.m(s,null)),g&2&&Gn(e,"flex-direction",p[1]<Dr?"column":"row",!1)},i(p){c||(C(r.$$.fragment,p),C(a),c=!0)},o(p){R(r.$$.fragment,p),R(a),c=!1},d(p){p&&O(e),K(r),v[o].d(),u=!1,l()}}}const Dr=800;function gm(t,e,r){let n=0,i;function s(){r(1,i=window.innerWidth)}function o(u){n=u,r(0,n)}function a(u){n=u,r(0,n)}function c(u){n=u,r(0,n)}return[n,i,s,o,a,c]}class mm extends he{constructor(e){super(),fe(this,e,gm,pm,ne,{})}}const bm="/noboardchess/assets/heart.8da15a2b.svg",ym="/noboardchess/assets/broken_heart.dc79b59f.svg";function Ps(t,e,r){const n=t.slice();return n[8]=e[r],n}function Es(t,e,r){const n=t.slice();return n[8]=e[r],n}function Ts(t){let e,r;return{c(){e=$("img"),Te(e.src,r=bm)||_(e,"src",r),_(e,"alt","heart"),_(e,"class","heart svelte-1xhoy2m")},m(n,i){M(n,e,i)},p:P,d(n){n&&O(e)}}}function xs(t){let e,r;return{c(){e=$("img"),Te(e.src,r=ym)||_(e,"src",r),_(e,"alt","broken heart"),_(e,"class","broken-heart svelte-1xhoy2m")},m(n,i){M(n,e,i)},p:P,d(n){n&&O(e)}}}function Os(t){let e;function r(s,o){return s[3]<s[2]?wm:_m}let n=r(t),i=n(t);return{c(){i.c(),e=zs()},m(s,o){i.m(s,o),M(s,e,o)},p(s,o){n===(n=r(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&O(e)}}}function _m(t){let e,r,n;return{c(){e=$("button"),e.textContent="restart"},m(i,s){M(i,e,s),r||(n=ge(e,"click",t[7]),r=!0)},p:P,d(i){i&&O(e),r=!1,n()}}}function wm(t){let e,r,n;return{c(){e=$("button"),e.textContent="next"},m(i,s){M(i,e,s),r||(n=ge(e,"click",t[6]),r=!0)},p:P,d(i){i&&O(e),r=!1,n()}}}function Sm(t){let e,r,n,i,s,o,a,c,u,l,h,d,f,v=t[5].elo+"",b,p,g,m,S=t[5].n_pieces+"",x,B=Array(t[2]-t[3]),I=[];for(let E=0;E<B.length;E+=1)I[E]=Ts(Es(t,B,E));let F=Array(t[3]),j=[];for(let E=0;E<F.length;E+=1)j[E]=xs(Ps(t,F,E));let D=!t[0]&&Os(t);return{c(){e=$("div"),r=$("div"),n=H("#"),i=H(t[1]),s=N(),o=$("div");for(let E=0;E<I.length;E+=1)I[E].c();a=N();for(let E=0;E<j.length;E+=1)j[E].c();c=N(),D&&D.c(),u=N(),l=$("div"),h=$("ul"),d=$("li"),f=H("Rating: "),b=H(v),p=N(),g=$("li"),m=H("Number of pieces: "),x=H(S),_(r,"id","level"),_(r,"class","svelte-1xhoy2m"),_(o,"id","lives"),_(o,"class","svelte-1xhoy2m"),_(h,"class","svelte-1xhoy2m"),_(l,"class","svelte-1xhoy2m"),_(e,"id","infos"),_(e,"class","svelte-1xhoy2m")},m(E,se){M(E,e,se),w(e,r),w(r,n),w(r,i),w(e,s),w(e,o);for(let T=0;T<I.length;T+=1)I[T].m(o,null);w(o,a);for(let T=0;T<j.length;T+=1)j[T].m(o,null);w(e,c),D&&D.m(e,null),w(e,u),w(e,l),w(l,h),w(h,d),w(d,f),w(d,b),w(h,p),w(h,g),w(g,m),w(g,x)},p(E,[se]){if(se&2&&De(i,E[1]),se&12){B=Array(E[2]-E[3]);let T;for(T=0;T<B.length;T+=1){const cr=Es(E,B,T);I[T]?I[T].p(cr,se):(I[T]=Ts(),I[T].c(),I[T].m(o,a))}for(;T<I.length;T+=1)I[T].d(1);I.length=B.length}if(se&8){F=Array(E[3]);let T;for(T=0;T<F.length;T+=1){const cr=Ps(E,F,T);j[T]?j[T].p(cr,se):(j[T]=xs(),j[T].c(),j[T].m(o,null))}for(;T<j.length;T+=1)j[T].d(1);j.length=F.length}E[0]?D&&(D.d(1),D=null):D?D.p(E,se):(D=Os(E),D.c(),D.m(e,u)),se&32&&v!==(v=E[5].elo+"")&&De(b,v),se&32&&S!==(S=E[5].n_pieces+"")&&De(x,S)},i:P,o:P,d(E){E&&O(e),ke(I,E),ke(j,E),D&&D.d()}}}function Im(t,e,r){let n,i,s,o,a;G(t,Wt,h=>r(1,n=h)),G(t,Wg,h=>r(2,i=h)),G(t,er,h=>r(3,s=h)),G(t,ze,h=>r(4,o=h)),G(t,be,h=>r(5,a=h));let{guessing:c}=e;const u=()=>{r(0,c=!0),pe(Wt,n++,n),pe(ze,o=null,o)},l=()=>{r(0,c=!0),pe(Wt,n=1,n),pe(er,s=0,s),pe(ze,o=null,o)};return t.$$set=h=>{"guessing"in h&&r(0,c=h.guessing)},[c,n,i,s,o,a,u,l]}class $m extends he{constructor(e){super(),fe(this,e,Im,Sm,ne,{guessing:0})}}const Pm="/noboardchess/assets/bB.4ad35327.svg",Em="/noboardchess/assets/bK.470b3ff1.svg",Tm="/noboardchess/assets/bN.147a1c46.svg",xm="/noboardchess/assets/bP.02f7ecfe.svg",Om="/noboardchess/assets/bQ.cc8f0224.svg",km="/noboardchess/assets/bR.f9b05d72.svg",Mm="/noboardchess/assets/wB.ea0a664a.svg",Am="/noboardchess/assets/wK.fe4a8d94.svg",Cm="/noboardchess/assets/wN.e0c94b20.svg",jm="/noboardchess/assets/wP.93fed888.svg",Rm="/noboardchess/assets/wQ.461e7e3d.svg",qm="/noboardchess/assets/wR.afb9d215.svg";function ks(t,e,r){const n=t.slice();return n[3]=e[r],n}function Ms(t,e,r){const n=t.slice();return n[6]=e[r],n}function As(t,e,r){const n=t.slice();return n[9]=e[r],n}function Cs(t){let e,r=t[9]+"",n;return{c(){e=$("li"),n=H(r),_(e,"class","svelte-1rbu1ex")},m(i,s){M(i,e,s),w(e,n)},p:P,d(i){i&&O(e)}}}function js(t){let e,r,n,i,s,o=t[3].pieces[t[6]],a=[];for(let c=0;c<o.length;c+=1)a[c]=Cs(As(t,o,c));return{c(){e=$("div"),r=$("img"),i=N(),s=$("ul");for(let c=0;c<a.length;c+=1)a[c].c();Te(r.src,n=t[0][t[6]])||_(r,"src",n),_(r,"alt",t[6]),_(r,"class","svelte-1rbu1ex"),_(s,"class","svelte-1rbu1ex"),_(e,"class",Ht(t[6])+" svelte-1rbu1ex")},m(c,u){M(c,e,u),w(e,r),w(e,i),w(e,s);for(let l=0;l<a.length;l+=1)a[l].m(s,null)},p(c,u){if(u&2){o=c[3].pieces[c[6]];let l;for(l=0;l<o.length;l+=1){const h=As(c,o,l);a[l]?a[l].p(h,u):(a[l]=Cs(h),a[l].c(),a[l].m(s,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=o.length}},d(c){c&&O(e),ke(a,c)}}}function Rs(t){let e,r,n=Object.keys(t[3].pieces),i=[];for(let s=0;s<n.length;s+=1)i[s]=js(Ms(t,n,s));return{c(){e=$("div");for(let s=0;s<i.length;s+=1)i[s].c();r=N(),_(e,"class",t[3].color+" container svelte-1rbu1ex")},m(s,o){M(s,e,o);for(let a=0;a<i.length;a+=1)i[a].m(e,null);w(e,r)},p(s,o){if(o&3){n=Object.keys(s[3].pieces);let a;for(a=0;a<n.length;a+=1){const c=Ms(s,n,a);i[a]?i[a].p(c,o):(i[a]=js(c),i[a].c(),i[a].m(e,r))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(s){s&&O(e),ke(i,s)}}}function Lm(t){let e,r=t[1],n=[];for(let i=0;i<r.length;i+=1)n[i]=Rs(ks(t,r,i));return{c(){e=$("div");for(let i=0;i<n.length;i+=1)n[i].c();_(e,"id","pieces"),_(e,"class","svelte-1rbu1ex")},m(i,s){M(i,e,s);for(let o=0;o<n.length;o+=1)n[o].m(e,null)},p(i,[s]){if(s&3){r=i[1];let o;for(o=0;o<r.length;o+=1){const a=ks(i,r,o);n[o]?n[o].p(a,s):(n[o]=Rs(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:P,o:P,d(i){i&&O(e),ke(n,i)}}}function Fm(t,e,r){let n;G(t,be,o=>r(2,n=o));const i={b:Pm,k:Em,n:Tm,p:xm,q:Om,r:km,B:Mm,K:Am,N:Cm,P:jm,Q:Rm,R:qm};let s=[{color:"white",pieces:Object.fromEntries(Object.entries(n.pieces).filter(([o,a])=>o===o.toUpperCase()))},{color:"black",pieces:Object.fromEntries(Object.entries(n.pieces).filter(([o,a])=>o===o.toLowerCase()))}];return[i,s]}class Dm extends he{constructor(e){super(),fe(this,e,Fm,Lm,ne,{})}}function qs(t,e,r){const n=t.slice();return n[10]=e[r],n}function Ls(t){let e,r=t[10]+"",n,i,s;return{c(){e=$("button"),n=H(r)},m(o,a){M(o,e,a),w(e,n),i||(s=ge(e,"click",function(){Ns(t[2](t[10]))&&t[2](t[10]).apply(this,arguments)}),i=!0)},p(o,a){t=o,a&2&&r!==(r=t[10]+"")&&De(n,r)},d(o){o&&O(e),i=!1,s()}}}function Nm(t){let e,r,n,i,s=t[1],o=[];for(let a=0;a<s.length;a+=1)o[a]=Ls(qs(t,s,a));return{c(){e=$("div"),r=$("div"),n=H(t[0]),i=N();for(let a=0;a<o.length;a+=1)o[a].c()},m(a,c){M(a,e,c),w(e,r),w(r,n),w(e,i);for(let u=0;u<o.length;u+=1)o[u].m(e,null)},p(a,[c]){if(c&1&&De(n,a[0]),c&6){s=a[1];let u;for(u=0;u<s.length;u+=1){const l=qs(a,s,u);o[u]?o[u].p(l,c):(o[u]=Ls(l),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=s.length}},i:P,o:P,d(a){a&&O(e),ke(o,a)}}}function zm(t,e,r){let n,i,s,o;G(t,ze,f=>r(7,i=f)),G(t,er,f=>r(8,s=f)),G(t,be,f=>r(5,o=f));let{currentMoveIndex:a}=e,{guessing:c}=e,u="";const l=()=>{let f=[];return a<o.legal_san_moves.length&&u!==n&&(o.legal_san_moves[a].forEach(v=>{v.startsWith(u)&&!f.includes(v[u.length])&&(f=[...f,v[u.length]])}),f=f.sort()),f};let h=l();const d=f=>()=>{if(f===n[u.length]){for(r(0,u+=f);l().length===1;)r(0,u+=l()[0]);u===n&&(r(3,a+=2),r(0,u=""),a>o.san_moves.length-1&&r(4,c=!1)),r(1,h=l())}else pe(er,s++,s),pe(ze,i=a,i),r(4,c=!1)};return t.$$set=f=>{"currentMoveIndex"in f&&r(3,a=f.currentMoveIndex),"guessing"in f&&r(4,c=f.guessing)},t.$$.update=()=>{t.$$.dirty&40&&(n=o.san_moves[a])},[u,h,d,a,c,o]}class Bm extends he{constructor(e){super(),fe(this,e,zm,Nm,ne,{currentMoveIndex:3,guessing:4})}}function Gm(t){let e,r,n,i,s,o,a,c;e=new Dm({}),n=new zn({props:{lastMoveIndex:t[1]-1,direction:"row"}});function u(d){t[2](d)}function l(d){t[3](d)}let h={};return t[1]!==void 0&&(h.currentMoveIndex=t[1]),t[0]!==void 0&&(h.guessing=t[0]),s=new Bm({props:h}),le.push(()=>$e(s,"currentMoveIndex",u)),le.push(()=>$e(s,"guessing",l)),{c(){re(e.$$.fragment),r=N(),re(n.$$.fragment),i=N(),re(s.$$.fragment)},m(d,f){X(e,d,f),M(d,r,f),X(n,d,f),M(d,i,f),X(s,d,f),c=!0},p(d,[f]){const v={};f&2&&(v.lastMoveIndex=d[1]-1),n.$set(v);const b={};!o&&f&2&&(o=!0,b.currentMoveIndex=d[1],Ie(()=>o=!1)),!a&&f&1&&(a=!0,b.guessing=d[0],Ie(()=>a=!1)),s.$set(b)},i(d){c||(C(e.$$.fragment,d),C(n.$$.fragment,d),C(s.$$.fragment,d),c=!0)},o(d){R(e.$$.fragment,d),R(n.$$.fragment,d),R(s.$$.fragment,d),c=!1},d(d){K(e,d),d&&O(r),K(n,d),d&&O(i),K(s,d)}}}function Um(t,e,r){let{guessing:n}=e,i=1;function s(a){i=a,r(1,i)}function o(a){n=a,r(0,n)}return t.$$set=a=>{"guessing"in a&&r(0,n=a.guessing)},[n,i,s,o]}class Wm extends he{constructor(e){super(),fe(this,e,Um,Gm,ne,{guessing:0})}}const Fs=async t=>{const e=await fetch(`https://valenbel123.pythonanywhere.com/level/${t}`),r=await e.json();if(e.ok)return r;throw new Error(r)};function Hm(t){return{c:P,m:P,p:P,i:P,o:P,d:P}}function Vm(t){let e,r,n,i,s,o,a;function c(f){t[3](f)}let u={};t[1]!==void 0&&(u.guessing=t[1]),e=new $m({props:u}),le.push(()=>$e(e,"guessing",c));const l=[Km,Xm],h=[];function d(f,v){return f[1]?0:1}return i=d(t),s=h[i]=l[i](t),{c(){re(e.$$.fragment),n=N(),s.c(),o=zs()},m(f,v){X(e,f,v),M(f,n,v),h[i].m(f,v),M(f,o,v),a=!0},p(f,v){const b={};!r&&v&2&&(r=!0,b.guessing=f[1],Ie(()=>r=!1)),e.$set(b);let p=i;i=d(f),i===p?h[i].p(f,v):(tr(),R(h[p],1,1,()=>{h[p]=null}),rr(),s=h[i],s?s.p(f,v):(s=h[i]=l[i](f),s.c()),C(s,1),s.m(o.parentNode,o))},i(f){a||(C(e.$$.fragment,f),C(s),a=!0)},o(f){R(e.$$.fragment,f),R(s),a=!1},d(f){K(e,f),f&&O(n),h[i].d(f),f&&O(o)}}}function Xm(t){let e,r;return e=new mm({}),{c(){re(e.$$.fragment)},m(n,i){X(e,n,i),r=!0},p:P,i(n){r||(C(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){K(e,n)}}}function Km(t){let e,r,n;function i(o){t[4](o)}let s={};return t[1]!==void 0&&(s.guessing=t[1]),e=new Wm({props:s}),le.push(()=>$e(e,"guessing",i)),{c(){re(e.$$.fragment)},m(o,a){X(e,o,a),n=!0},p(o,a){const c={};!r&&a&2&&(r=!0,c.guessing=o[1],Ie(()=>r=!1)),e.$set(c)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Ym(t){return{c:P,m:P,p:P,i:P,o:P,d:P}}function Qm(t){let e,r,n,i={ctx:t,current:null,token:null,hasCatch:!1,pending:Ym,then:Vm,catch:Hm,blocks:[,,,]};return Un(r=t[0],i),{c(){e=$("div"),i.block.c(),_(e,"id","game")},m(s,o){M(s,e,o),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null,n=!0},p(s,[o]){t=s,i.ctx=t,o&1&&r!==(r=t[0])&&Un(r,i)||ga(i,t,o)},i(s){n||(C(i.block),n=!0)},o(s){for(let o=0;o<3;o+=1){const a=i.blocks[o];R(a)}n=!1},d(s){s&&O(e),i.block.d(),i.token=null,i=null}}}function Jm(t,e,r){let n,i;G(t,be,u=>r(5,n=u)),G(t,Wt,u=>r(2,i=u));let s=Fs(i);s.then(u=>{pe(be,n=u,n)});let o=!0;function a(u){o=u,r(1,o)}function c(u){o=u,r(1,o)}return t.$$.update=()=>{t.$$.dirty&5&&i&&(r(0,s=Fs(i)),s.then(u=>{pe(be,n=u,n)}))},[s,o,i,a,c]}class Zm extends he{constructor(e){super(),fe(this,e,Jm,Qm,ne,{})}}function eb(t){let e,r;return e=new Zm({}),{c(){re(e.$$.fragment)},m(n,i){X(e,n,i),r=!0},p:P,i(n){r||(C(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){K(e,n)}}}class tb extends he{constructor(e){super(),fe(this,e,null,eb,ne,{})}}new tb({target:document.getElementById("app")});

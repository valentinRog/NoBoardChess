(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function P(){}function fa(t){return t&&typeof t=="object"&&typeof t.then=="function"}function Ns(t){return t()}function Gn(){return Object.create(null)}function Ce(t){t.forEach(Ns)}function nn(t){return typeof t=="function"}function ne(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let mt;function Ee(t,e){return mt||(mt=document.createElement("a")),mt.href=e,t===mt.href}function ha(t){return Object.keys(t).length===0}function zs(t,...e){if(t==null)return P;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function G(t,e,r){t.$$.on_destroy.push(zs(e,r))}function Dr(t){return t==null?"":t}function Wt(t,e,r){return t.set(r),e}function _(t,e){t.appendChild(e)}function j(t,e,r){t.insertBefore(e,r||null)}function A(t){t.parentNode.removeChild(t)}function ke(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function $(t){return document.createElement(t)}function U(t){return document.createTextNode(t)}function N(){return U(" ")}function da(){return U("")}function _e(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function w(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function va(t){return Array.from(t.childNodes)}function xe(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Un(t,e,r,n){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function we(t,e,r){t.classList[r?"add":"remove"](e)}let st;function pe(t){st=t}function Bs(){if(!st)throw new Error("Function called outside component initialization");return st}function Gs(t){Bs().$$.on_mount.push(t)}const rt=[],le=[],Ft=[],Nr=[],pa=Promise.resolve();let zr=!1;function ga(){zr||(zr=!0,pa.then(sn))}function Ht(t){Ft.push(t)}function Se(t){Nr.push(t)}const cr=new Set;let bt=0;function sn(){const t=st;do{for(;bt<rt.length;){const e=rt[bt];bt++,pe(e),ma(e.$$)}for(pe(null),rt.length=0,bt=0;le.length;)le.pop()();for(let e=0;e<Ft.length;e+=1){const r=Ft[e];cr.has(r)||(cr.add(r),r())}Ft.length=0}while(rt.length);for(;Nr.length;)Nr.pop()();zr=!1,cr.clear(),pe(t)}function ma(t){if(t.fragment!==null){t.update(),Ce(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ht)}}const Dt=new Set;let Te;function er(){Te={r:0,c:[],p:Te}}function tr(){Te.r||Ce(Te.c),Te=Te.p}function M(t,e){t&&t.i&&(Dt.delete(t),t.i(e))}function R(t,e,r,n){if(t&&t.o){if(Dt.has(t))return;Dt.add(t),Te.c.push(()=>{Dt.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function Wn(t,e){const r=e.token={};function n(i,s,o,a){if(e.token!==r)return;e.resolved=a;let c=e.ctx;o!==void 0&&(c=c.slice(),c[o]=a);const u=i&&(e.current=i)(c);let l=!1;e.block&&(e.blocks?e.blocks.forEach((h,d)=>{d!==s&&h&&(er(),R(h,1,1,()=>{e.blocks[d]===h&&(e.blocks[d]=null)}),tr())}):e.block.d(1),u.c(),M(u,1),u.m(e.mount(),e.anchor),l=!0),e.block=u,e.blocks&&(e.blocks[s]=u),l&&sn()}if(fa(t)){const i=Bs();if(t.then(s=>{pe(i),n(e.then,1,e.value,s),pe(null)},s=>{if(pe(i),n(e.catch,2,e.error,s),pe(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function ba(t,e,r){const n=e.slice(),{resolved:i}=t;t.current===t.then&&(n[t.value]=i),t.current===t.catch&&(n[t.error]=i),t.block.p(n,r)}function Ie(t,e,r){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function re(t){t&&t.c()}function X(t,e,r,n){const{fragment:i,on_mount:s,on_destroy:o,after_update:a}=t.$$;i&&i.m(e,r),n||Ht(()=>{const c=s.map(Ns).filter(nn);o?o.push(...c):Ce(c),t.$$.on_mount=[]}),a.forEach(Ht)}function K(t,e){const r=t.$$;r.fragment!==null&&(Ce(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function ya(t,e){t.$$.dirty[0]===-1&&(rt.push(t),ga(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function fe(t,e,r,n,i,s,o,a=[-1]){const c=st;pe(t);const u=t.$$={fragment:null,ctx:null,props:s,update:P,not_equal:i,bound:Gn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Gn(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(u.root);let l=!1;if(u.ctx=r?r(t,e.props||{},(h,d,...f)=>{const v=f.length?f[0]:d;return u.ctx&&i(u.ctx[h],u.ctx[h]=v)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](v),l&&ya(t,h)),d}):[],u.update(),l=!0,Ce(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const h=va(e.target);u.fragment&&u.fragment.l(h),h.forEach(A)}else u.fragment&&u.fragment.c();e.intro&&M(t.$$.fragment),X(t,e.target,e.anchor,e.customElement),sn()}pe(c)}class he{$destroy(){K(this,1),this.$destroy=P}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!ha(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Br=function(t,e){return Br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Br(t,e)};function wa(t,e){Br(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ue=function(){return ue=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ue.apply(this,arguments)};function Pe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function _a(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z=function(t){try{return!!t()}catch{return!0}},Sa=z,on=!Sa(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Us=on,Ws=Function.prototype,Ia=Ws.bind,Gr=Ws.call,$a=Us&&Ia.bind(Gr,Gr),q=Us?function(t){return t&&$a(t)}:function(t){return t&&function(){return Gr.apply(t,arguments)}},Hs=q,Pa=Hs({}.toString),Ea=Hs("".slice),ct=function(t){return Ea(Pa(t),8,-1)},Ta=q,xa=z,Oa=ct,ur=Object,ka=Ta("".split),an=xa(function(){return!ur("z").propertyIsEnumerable(0)})?function(t){return Oa(t)=="String"?ka(t,""):ur(t)}:ur,Ge=function(t){return t==null},Ma=Ge,Aa=TypeError,cn=function(t){if(Ma(t))throw Aa("Can't call method on "+t);return t},Ca=an,ja=cn,Ue=function(t){return Ca(ja(t))},yt=function(t){return t&&t.Math==Math&&t},Q=yt(typeof globalThis=="object"&&globalThis)||yt(typeof window=="object"&&window)||yt(typeof self=="object"&&self)||yt(typeof De=="object"&&De)||function(){return this}()||Function("return this")(),un={exports:{}},Hn=Q,Ra=Object.defineProperty,ln=function(t,e){try{Ra(Hn,t,{value:e,configurable:!0,writable:!0})}catch{Hn[t]=e}return e},qa=Q,La=ln,Vn="__core-js_shared__",Fa=qa[Vn]||La(Vn,{}),fn=Fa,Xn=fn;(un.exports=function(t,e){return Xn[t]||(Xn[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.25.2",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Da=cn,Na=Object,ut=function(t){return Na(Da(t))},za=q,Ba=ut,Ga=za({}.hasOwnProperty),ie=Object.hasOwn||function(e,r){return Ga(Ba(e),r)},Ua=q,Wa=0,Ha=Math.random(),Va=Ua(1 .toString),hn=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Va(++Wa+Ha,36)},Ur=typeof document=="object"&&document.all,Xa=typeof Ur>"u"&&Ur!==void 0,Vs={all:Ur,IS_HTMLDDA:Xa},Xs=Vs,Ka=Xs.all,L=Xs.IS_HTMLDDA?function(t){return typeof t=="function"||t===Ka}:function(t){return typeof t=="function"},lr=Q,Ya=L,Qa=function(t){return Ya(t)?t:void 0},We=function(t,e){return arguments.length<2?Qa(lr[t]):lr[t]&&lr[t][e]},Ja=We,Za=Ja("navigator","userAgent")||"",Ks=Q,fr=Za,Kn=Ks.process,Yn=Ks.Deno,Qn=Kn&&Kn.versions||Yn&&Yn.version,Jn=Qn&&Qn.v8,te,Vt;Jn&&(te=Jn.split("."),Vt=te[0]>0&&te[0]<4?1:+(te[0]+te[1]));!Vt&&fr&&(te=fr.match(/Edge\/(\d+)/),(!te||te[1]>=74)&&(te=fr.match(/Chrome\/(\d+)/),te&&(Vt=+te[1])));var ec=Vt,Zn=ec,tc=z,Ys=!!Object.getOwnPropertySymbols&&!tc(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Zn&&Zn<41}),rc=Ys,Qs=rc&&!Symbol.sham&&typeof Symbol.iterator=="symbol",nc=Q,ic=un.exports,ei=ie,sc=hn,ti=Ys,Js=Qs,je=ic("wks"),Oe=nc.Symbol,ri=Oe&&Oe.for,oc=Js?Oe:Oe&&Oe.withoutSetter||sc,J=function(t){if(!ei(je,t)||!(ti||typeof je[t]=="string")){var e="Symbol."+t;ti&&ei(Oe,t)?je[t]=Oe[t]:Js&&ri?je[t]=ri(e):je[t]=oc(e)}return je[t]},ni=L,Zs=Vs,ac=Zs.all,W=Zs.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:ni(t)||t===ac}:function(t){return typeof t=="object"?t!==null:ni(t)},cc=W,uc=String,lc=TypeError,de=function(t){if(cc(t))return t;throw lc(uc(t)+" is not an object")},eo={},fc=z,Z=!fc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),hc=Z,dc=z,to=hc&&dc(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),ee={},vc=Q,ii=W,Wr=vc.document,pc=ii(Wr)&&ii(Wr.createElement),ro=function(t){return pc?Wr.createElement(t):{}},gc=Z,mc=z,bc=ro,no=!gc&&!mc(function(){return Object.defineProperty(bc("div"),"a",{get:function(){return 7}}).a!=7}),yc=on,wt=Function.prototype.call,be=yc?wt.bind(wt):function(){return wt.apply(wt,arguments)},wc=q,dn=wc({}.isPrototypeOf),_c=We,Sc=L,Ic=dn,$c=Qs,Pc=Object,io=$c?function(t){return typeof t=="symbol"}:function(t){var e=_c("Symbol");return Sc(e)&&Ic(e.prototype,Pc(t))},Ec=String,vn=function(t){try{return Ec(t)}catch{return"Object"}},Tc=L,xc=vn,Oc=TypeError,pn=function(t){if(Tc(t))return t;throw Oc(xc(t)+" is not a function")},kc=pn,Mc=Ge,gn=function(t,e){var r=t[e];return Mc(r)?void 0:kc(r)},hr=be,dr=L,vr=W,Ac=TypeError,Cc=function(t,e){var r,n;if(e==="string"&&dr(r=t.toString)&&!vr(n=hr(r,t))||dr(r=t.valueOf)&&!vr(n=hr(r,t))||e!=="string"&&dr(r=t.toString)&&!vr(n=hr(r,t)))return n;throw Ac("Can't convert object to primitive value")},jc=be,si=W,oi=io,Rc=gn,qc=Cc,Lc=J,Fc=TypeError,Dc=Lc("toPrimitive"),Nc=function(t,e){if(!si(t)||oi(t))return t;var r=Rc(t,Dc),n;if(r){if(e===void 0&&(e="default"),n=jc(r,t,e),!si(n)||oi(n))return n;throw Fc("Can't convert object to primitive value")}return e===void 0&&(e="number"),qc(t,e)},zc=Nc,Bc=io,mn=function(t){var e=zc(t,"string");return Bc(e)?e:e+""},Gc=Z,Uc=no,Wc=to,_t=de,ai=mn,Hc=TypeError,pr=Object.defineProperty,Vc=Object.getOwnPropertyDescriptor,gr="enumerable",mr="configurable",br="writable";ee.f=Gc?Wc?function(e,r,n){if(_t(e),r=ai(r),_t(n),typeof e=="function"&&r==="prototype"&&"value"in n&&br in n&&!n[br]){var i=Vc(e,r);i&&i[br]&&(e[r]=n.value,n={configurable:mr in n?n[mr]:i[mr],enumerable:gr in n?n[gr]:i[gr],writable:!1})}return pr(e,r,n)}:pr:function(e,r,n){if(_t(e),r=ai(r),_t(n),Uc)try{return pr(e,r,n)}catch{}if("get"in n||"set"in n)throw Hc("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var Xc=Math.ceil,Kc=Math.floor,Yc=Math.trunc||function(e){var r=+e;return(r>0?Kc:Xc)(r)},Qc=Yc,bn=function(t){var e=+t;return e!==e||e===0?0:Qc(e)},Jc=bn,Zc=Math.max,eu=Math.min,so=function(t,e){var r=Jc(t);return r<0?Zc(r+e,0):eu(r,e)},tu=bn,ru=Math.min,nu=function(t){return t>0?ru(tu(t),9007199254740991):0},iu=nu,lt=function(t){return iu(t.length)},su=Ue,ou=so,au=lt,ci=function(t){return function(e,r,n){var i=su(e),s=au(i),o=ou(n,s),a;if(t&&r!=r){for(;s>o;)if(a=i[o++],a!=a)return!0}else for(;s>o;o++)if((t||o in i)&&i[o]===r)return t||o||0;return!t&&-1}},cu={includes:ci(!0),indexOf:ci(!1)},rr={},uu=q,yr=ie,lu=Ue,fu=cu.indexOf,hu=rr,ui=uu([].push),oo=function(t,e){var r=lu(t),n=0,i=[],s;for(s in r)!yr(hu,s)&&yr(r,s)&&ui(i,s);for(;e.length>n;)yr(r,s=e[n++])&&(~fu(i,s)||ui(i,s));return i},yn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],du=oo,vu=yn,ao=Object.keys||function(e){return du(e,vu)},pu=Z,gu=to,mu=ee,bu=de,yu=Ue,wu=ao;eo.f=pu&&!gu?Object.defineProperties:function(e,r){bu(e);for(var n=yu(r),i=wu(r),s=i.length,o=0,a;s>o;)mu.f(e,a=i[o++],n[a]);return e};var _u=We,Su=_u("document","documentElement"),Iu=un.exports,$u=hn,li=Iu("keys"),wn=function(t){return li[t]||(li[t]=$u(t))},Pu=de,Eu=eo,fi=yn,Tu=rr,xu=Su,Ou=ro,ku=wn,hi=">",di="<",Hr="prototype",Vr="script",co=ku("IE_PROTO"),wr=function(){},uo=function(t){return di+Vr+hi+t+di+"/"+Vr+hi},vi=function(t){t.write(uo("")),t.close();var e=t.parentWindow.Object;return t=null,e},Mu=function(){var t=Ou("iframe"),e="java"+Vr+":",r;return t.style.display="none",xu.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(uo("document.F=Object")),r.close(),r.F},St,Nt=function(){try{St=new ActiveXObject("htmlfile")}catch{}Nt=typeof document<"u"?document.domain&&St?vi(St):Mu():vi(St);for(var t=fi.length;t--;)delete Nt[Hr][fi[t]];return Nt()};Tu[co]=!0;var _n=Object.create||function(e,r){var n;return e!==null?(wr[Hr]=Pu(e),n=new wr,wr[Hr]=null,n[co]=e):n=Nt(),r===void 0?n:Eu.f(n,r)},Au=J,Cu=_n,ju=ee.f,Xr=Au("unscopables"),Kr=Array.prototype;Kr[Xr]==null&&ju(Kr,Xr,{configurable:!0,value:Cu(null)});var Ru=function(t){Kr[Xr][t]=!0},ft={},qu=Q,Lu=L,pi=qu.WeakMap,lo=Lu(pi)&&/native code/.test(String(pi)),nr=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},Fu=Z,Du=ee,Nu=nr,Sn=Fu?function(t,e,r){return Du.f(t,e,Nu(1,r))}:function(t,e,r){return t[e]=r,t},zu=lo,fo=Q,_r=q,Bu=W,Gu=Sn,Sr=ie,Ir=fn,Uu=wn,Wu=rr,gi="Object already initialized",Yr=fo.TypeError,Hu=fo.WeakMap,Xt,ot,Kt,Vu=function(t){return Kt(t)?ot(t):Xt(t,{})},Xu=function(t){return function(e){var r;if(!Bu(e)||(r=ot(e)).type!==t)throw Yr("Incompatible receiver, "+t+" required");return r}};if(zu||Ir.state){var $e=Ir.state||(Ir.state=new Hu),Ku=_r($e.get),mi=_r($e.has),Yu=_r($e.set);Xt=function(t,e){if(mi($e,t))throw Yr(gi);return e.facade=t,Yu($e,t,e),e},ot=function(t){return Ku($e,t)||{}},Kt=function(t){return mi($e,t)}}else{var Re=Uu("state");Wu[Re]=!0,Xt=function(t,e){if(Sr(t,Re))throw Yr(gi);return e.facade=t,Gu(t,Re,e),e},ot=function(t){return Sr(t,Re)?t[Re]:{}},Kt=function(t){return Sr(t,Re)}}var He={set:Xt,get:ot,has:Kt,enforce:Vu,getterFor:Xu},In={},$n={},ho={}.propertyIsEnumerable,vo=Object.getOwnPropertyDescriptor,Qu=vo&&!ho.call({1:2},1);$n.f=Qu?function(e){var r=vo(this,e);return!!r&&r.enumerable}:ho;var Ju=Z,Zu=be,el=$n,tl=nr,rl=Ue,nl=mn,il=ie,sl=no,bi=Object.getOwnPropertyDescriptor;In.f=Ju?bi:function(e,r){if(e=rl(e),r=nl(r),sl)try{return bi(e,r)}catch{}if(il(e,r))return tl(!Zu(el.f,e,r),e[r])};var po={exports:{}},Qr=Z,ol=ie,go=Function.prototype,al=Qr&&Object.getOwnPropertyDescriptor,Pn=ol(go,"name"),cl=Pn&&function(){}.name==="something",ul=Pn&&(!Qr||Qr&&al(go,"name").configurable),mo={EXISTS:Pn,PROPER:cl,CONFIGURABLE:ul},ll=q,fl=L,Jr=fn,hl=ll(Function.toString);fl(Jr.inspectSource)||(Jr.inspectSource=function(t){return hl(t)});var bo=Jr.inspectSource,dl=z,vl=L,It=ie,Zr=Z,pl=mo.CONFIGURABLE,gl=bo,yo=He,ml=yo.enforce,bl=yo.get,zt=Object.defineProperty,yl=Zr&&!dl(function(){return zt(function(){},"length",{value:8}).length!==8}),wl=String(String).split("String"),_l=po.exports=function(t,e,r){String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!It(t,"name")||pl&&t.name!==e)&&(Zr?zt(t,"name",{value:e,configurable:!0}):t.name=e),yl&&r&&It(r,"arity")&&t.length!==r.arity&&zt(t,"length",{value:r.arity});try{r&&It(r,"constructor")&&r.constructor?Zr&&zt(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=ml(t);return It(n,"source")||(n.source=wl.join(typeof e=="string"?e:"")),t};Function.prototype.toString=_l(function(){return vl(this)&&bl(this).source||gl(this)},"toString");var Sl=L,Il=ee,$l=po.exports,Pl=ln,Ve=function(t,e,r,n){n||(n={});var i=n.enumerable,s=n.name!==void 0?n.name:e;if(Sl(r)&&$l(r,s,n),n.global)i?t[e]=r:Pl(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=r:Il.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},ir={},El=oo,Tl=yn,xl=Tl.concat("length","prototype");ir.f=Object.getOwnPropertyNames||function(e){return El(e,xl)};var En={};En.f=Object.getOwnPropertySymbols;var Ol=We,kl=q,Ml=ir,Al=En,Cl=de,jl=kl([].concat),Rl=Ol("Reflect","ownKeys")||function(e){var r=Ml.f(Cl(e)),n=Al.f;return n?jl(r,n(e)):r},yi=ie,ql=Rl,Ll=In,Fl=ee,Dl=function(t,e,r){for(var n=ql(e),i=Fl.f,s=Ll.f,o=0;o<n.length;o++){var a=n[o];!yi(t,a)&&!(r&&yi(r,a))&&i(t,a,s(e,a))}},Nl=z,zl=L,Bl=/#|\.prototype\./,ht=function(t,e){var r=Ul[Gl(t)];return r==Hl?!0:r==Wl?!1:zl(e)?Nl(e):!!e},Gl=ht.normalize=function(t){return String(t).replace(Bl,".").toLowerCase()},Ul=ht.data={},Wl=ht.NATIVE="N",Hl=ht.POLYFILL="P",wo=ht,$r=Q,Vl=In.f,Xl=Sn,Kl=Ve,Yl=ln,Ql=Dl,Jl=wo,dt=function(t,e){var r=t.target,n=t.global,i=t.stat,s,o,a,c,u,l;if(n?o=$r:i?o=$r[r]||Yl(r,{}):o=($r[r]||{}).prototype,o)for(a in e){if(u=e[a],t.dontCallGetSet?(l=Vl(o,a),c=l&&l.value):c=o[a],s=Jl(n?a:r+(i?".":"#")+a,t.forced),!s&&c!==void 0){if(typeof u==typeof c)continue;Ql(u,c)}(t.sham||c&&c.sham)&&Xl(u,"sham",!0),Kl(o,a,u,t)}},Zl=z,ef=!Zl(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),tf=ie,rf=L,nf=ut,sf=wn,of=ef,wi=sf("IE_PROTO"),en=Object,af=en.prototype,_o=of?en.getPrototypeOf:function(t){var e=nf(t);if(tf(e,wi))return e[wi];var r=e.constructor;return rf(r)&&e instanceof r?r.prototype:e instanceof en?af:null},cf=z,uf=L,lf=W,_i=_o,ff=Ve,hf=J,tn=hf("iterator"),So=!1,Me,Pr,Er;[].keys&&(Er=[].keys(),"next"in Er?(Pr=_i(_i(Er)),Pr!==Object.prototype&&(Me=Pr)):So=!0);var df=!lf(Me)||cf(function(){var t={};return Me[tn].call(t)!==t});df&&(Me={});uf(Me[tn])||ff(Me,tn,function(){return this});var Io={IteratorPrototype:Me,BUGGY_SAFARI_ITERATORS:So},vf=ee.f,pf=ie,gf=J,Si=gf("toStringTag"),Tn=function(t,e,r){t&&!r&&(t=t.prototype),t&&!pf(t,Si)&&vf(t,Si,{configurable:!0,value:e})},mf=Io.IteratorPrototype,bf=_n,yf=nr,wf=Tn,_f=ft,Sf=function(){return this},If=function(t,e,r,n){var i=e+" Iterator";return t.prototype=bf(mf,{next:yf(+!n,r)}),wf(t,i,!1),_f[i]=Sf,t},$f=L,Pf=String,Ef=TypeError,Tf=function(t){if(typeof t=="object"||$f(t))return t;throw Ef("Can't set "+Pf(t)+" as a prototype")},xf=q,Of=de,kf=Tf,$o=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=xf(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch{}return function(i,s){return Of(i),kf(s),t?r(i,s):i.__proto__=s,i}}():void 0),Mf=dt,Af=be,Po=mo,Cf=L,jf=If,Ii=_o,$i=$o,Rf=Tn,qf=Sn,Tr=Ve,Lf=J,Ff=ft,Eo=Io,Df=Po.PROPER,Nf=Po.CONFIGURABLE,Pi=Eo.IteratorPrototype,$t=Eo.BUGGY_SAFARI_ITERATORS,Ke=Lf("iterator"),Ei="keys",Ye="values",Ti="entries",zf=function(){return this},xn=function(t,e,r,n,i,s,o){jf(r,e,n);var a=function(g){if(g===i&&d)return d;if(!$t&&g in l)return l[g];switch(g){case Ei:return function(){return new r(this,g)};case Ye:return function(){return new r(this,g)};case Ti:return function(){return new r(this,g)}}return function(){return new r(this)}},c=e+" Iterator",u=!1,l=t.prototype,h=l[Ke]||l["@@iterator"]||i&&l[i],d=!$t&&h||a(i),f=e=="Array"&&l.entries||h,v,b,p;if(f&&(v=Ii(f.call(new t)),v!==Object.prototype&&v.next&&(Ii(v)!==Pi&&($i?$i(v,Pi):Cf(v[Ke])||Tr(v,Ke,zf)),Rf(v,c,!0))),Df&&i==Ye&&h&&h.name!==Ye&&(Nf?qf(l,"name",Ye):(u=!0,d=function(){return Af(h,this)})),i)if(b={values:a(Ye),keys:s?d:a(Ei),entries:a(Ti)},o)for(p in b)($t||u||!(p in l))&&Tr(l,p,b[p]);else Mf({target:e,proto:!0,forced:$t||u},b);return l[Ke]!==d&&Tr(l,Ke,d,{name:i}),Ff[e]=d,b},On=function(t,e){return{value:t,done:e}},Bf=Ue,kn=Ru,xi=ft,To=He,Gf=ee.f,Uf=xn,Pt=On,Wf=Z,xo="Array Iterator",Hf=To.set,Vf=To.getterFor(xo);Uf(Array,"Array",function(t,e){Hf(this,{type:xo,target:Bf(t),index:0,kind:e})},function(){var t=Vf(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,Pt(void 0,!0)):r=="keys"?Pt(n,!1):r=="values"?Pt(e[n],!1):Pt([n,e[n]],!1)},"values");var Oi=xi.Arguments=xi.Array;kn("keys");kn("values");kn("entries");if(Wf&&Oi.name!=="values")try{Gf(Oi,"name",{value:"values"})}catch{}var vt={exports:{}},Oo={},Xf=mn,Kf=ee,Yf=nr,ko=function(t,e,r){var n=Xf(e);n in t?Kf.f(t,n,Yf(0,r)):t[n]=r},ki=so,Qf=lt,Jf=ko,Zf=Array,eh=Math.max,th=function(t,e,r){for(var n=Qf(t),i=ki(e,n),s=ki(r===void 0?n:r,n),o=Zf(eh(s-i,0)),a=0;i<s;i++,a++)Jf(o,a,t[i]);return o.length=a,o},rh=ct,nh=Ue,Mo=ir.f,ih=th,Ao=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],sh=function(t){try{return Mo(t)}catch{return ih(Ao)}};Oo.f=function(e){return Ao&&rh(e)=="Window"?sh(e):Mo(nh(e))};var oh=z,ah=oh(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),ch=z,uh=W,lh=ct,Mi=ah,Bt=Object.isExtensible,fh=ch(function(){Bt(1)}),Co=fh||Mi?function(e){return!uh(e)||Mi&&lh(e)=="ArrayBuffer"?!1:Bt?Bt(e):!0}:Bt,hh=z,dh=!hh(function(){return Object.isExtensible(Object.preventExtensions({}))}),vh=dt,ph=q,gh=rr,mh=W,Mn=ie,bh=ee.f,Ai=ir,yh=Oo,An=Co,wh=hn,_h=dh,jo=!1,me=wh("meta"),Sh=0,Cn=function(t){bh(t,me,{value:{objectID:"O"+Sh++,weakData:{}}})},Ih=function(t,e){if(!mh(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!Mn(t,me)){if(!An(t))return"F";if(!e)return"E";Cn(t)}return t[me].objectID},$h=function(t,e){if(!Mn(t,me)){if(!An(t))return!0;if(!e)return!1;Cn(t)}return t[me].weakData},Ph=function(t){return _h&&jo&&An(t)&&!Mn(t,me)&&Cn(t),t},Eh=function(){Th.enable=function(){},jo=!0;var t=Ai.f,e=ph([].splice),r={};r[me]=1,t(r).length&&(Ai.f=function(n){for(var i=t(n),s=0,o=i.length;s<o;s++)if(i[s]===me){e(i,s,1);break}return i},vh({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:yh.f}))},Th=vt.exports={enable:Eh,fastKey:Ih,getWeakData:$h,onFreeze:Ph};gh[me]=!0;var Ci=q,xh=pn,Oh=on,kh=Ci(Ci.bind),sr=function(t,e){return xh(t),e===void 0?t:Oh?kh(t,e):function(){return t.apply(e,arguments)}},Mh=J,Ah=ft,Ch=Mh("iterator"),jh=Array.prototype,Ro=function(t){return t!==void 0&&(Ah.Array===t||jh[Ch]===t)},Rh=J,qh=Rh("toStringTag"),qo={};qo[qh]="z";var jn=String(qo)==="[object z]",Lh=jn,Fh=L,Gt=ct,Dh=J,Nh=Dh("toStringTag"),zh=Object,Bh=Gt(function(){return arguments}())=="Arguments",Gh=function(t,e){try{return t[e]}catch{}},or=Lh?Gt:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=Gh(e=zh(t),Nh))=="string"?r:Bh?Gt(e):(n=Gt(e))=="Object"&&Fh(e.callee)?"Arguments":n},Uh=or,ji=gn,Wh=Ge,Hh=ft,Vh=J,Xh=Vh("iterator"),Rn=function(t){if(!Wh(t))return ji(t,Xh)||ji(t,"@@iterator")||Hh[Uh(t)]},Kh=be,Yh=pn,Qh=de,Jh=vn,Zh=Rn,ed=TypeError,Lo=function(t,e){var r=arguments.length<2?Zh(t):e;if(Yh(r))return Qh(Kh(r,t));throw ed(Jh(t)+" is not iterable")},td=be,Ri=de,rd=gn,Fo=function(t,e,r){var n,i;Ri(t);try{if(n=rd(t,"return"),!n){if(e==="throw")throw r;return r}n=td(n,t)}catch(s){i=!0,n=s}if(e==="throw")throw r;if(i)throw n;return Ri(n),r},nd=sr,id=be,sd=de,od=vn,ad=Ro,cd=lt,qi=dn,ud=Lo,ld=Rn,Li=Fo,fd=TypeError,Ut=function(t,e){this.stopped=t,this.result=e},Fi=Ut.prototype,qn=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),s=!!(r&&r.IS_RECORD),o=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),c=nd(e,n),u,l,h,d,f,v,b,p=function(m){return u&&Li(u,"normal",m),new Ut(!0,m)},g=function(m){return i?(sd(m),a?c(m[0],m[1],p):c(m[0],m[1])):a?c(m,p):c(m)};if(s)u=t.iterator;else if(o)u=t;else{if(l=ld(t),!l)throw fd(od(t)+" is not iterable");if(ad(l)){for(h=0,d=cd(t);d>h;h++)if(f=g(t[h]),f&&qi(Fi,f))return f;return new Ut(!1)}u=ud(t,l)}for(v=s?t.next:u.next;!(b=id(v,u)).done;){try{f=g(b.value)}catch(m){Li(u,"throw",m)}if(typeof f=="object"&&f&&qi(Fi,f))return f}return new Ut(!1)},hd=dn,dd=TypeError,Ln=function(t,e){if(hd(e,t))return t;throw dd("Incorrect invocation")},vd=J,Do=vd("iterator"),No=!1;try{var pd=0,Di={next:function(){return{done:!!pd++}},return:function(){No=!0}};Di[Do]=function(){return this},Array.from(Di,function(){throw 2})}catch{}var zo=function(t,e){if(!e&&!No)return!1;var r=!1;try{var n={};n[Do]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch{}return r},gd=L,md=W,Ni=$o,bd=function(t,e,r){var n,i;return Ni&&gd(n=e.constructor)&&n!==r&&md(i=n.prototype)&&i!==r.prototype&&Ni(t,i),t},yd=dt,wd=Q,_d=q,zi=wo,Sd=Ve,Id=vt.exports,$d=qn,Pd=Ln,Ed=L,Td=Ge,xr=W,Or=z,xd=zo,Od=Tn,kd=bd,Fn=function(t,e,r){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,s=n?"set":"add",o=wd[t],a=o&&o.prototype,c=o,u={},l=function(g){var m=_d(a[g]);Sd(a,g,g=="add"?function(x){return m(this,x===0?0:x),this}:g=="delete"?function(S){return i&&!xr(S)?!1:m(this,S===0?0:S)}:g=="get"?function(x){return i&&!xr(x)?void 0:m(this,x===0?0:x)}:g=="has"?function(x){return i&&!xr(x)?!1:m(this,x===0?0:x)}:function(x,B){return m(this,x===0?0:x,B),this})},h=zi(t,!Ed(o)||!(i||a.forEach&&!Or(function(){new o().entries().next()})));if(h)c=r.getConstructor(e,t,n,s),Id.enable();else if(zi(t,!0)){var d=new c,f=d[s](i?{}:-0,1)!=d,v=Or(function(){d.has(1)}),b=xd(function(g){new o(g)}),p=!i&&Or(function(){for(var g=new o,m=5;m--;)g[s](m,m);return!g.has(-0)});b||(c=e(function(g,m){Pd(g,a);var S=kd(new o,g,c);return Td(m)||$d(m,S[s],{that:S,AS_ENTRIES:n}),S}),c.prototype=a,a.constructor=c),(v||p)&&(l("delete"),l("has"),n&&l("get")),(p||f)&&l(s),i&&a.clear&&delete a.clear}return u[t]=c,yd({global:!0,constructor:!0,forced:c!=o},u),Od(c,t),i||r.setStrong(c,t,n),c},Md=Ve,Dn=function(t,e,r){for(var n in e)Md(t,n,e[n],r);return t},Ad=We,Cd=ee,jd=J,Rd=Z,Bi=jd("species"),qd=function(t){var e=Ad(t),r=Cd.f;Rd&&e&&!e[Bi]&&r(e,Bi,{configurable:!0,get:function(){return this}})},Ld=ee.f,Fd=_n,Gi=Dn,Dd=sr,Nd=Ln,zd=Ge,Bd=qn,Gd=xn,Et=On,Ud=qd,Qe=Z,Ui=vt.exports.fastKey,Bo=He,Wi=Bo.set,kr=Bo.getterFor,Go={getConstructor:function(t,e,r,n){var i=t(function(u,l){Nd(u,s),Wi(u,{type:e,index:Fd(null),first:void 0,last:void 0,size:0}),Qe||(u.size=0),zd(l)||Bd(l,u[n],{that:u,AS_ENTRIES:r})}),s=i.prototype,o=kr(e),a=function(u,l,h){var d=o(u),f=c(u,l),v,b;return f?f.value=h:(d.last=f={index:b=Ui(l,!0),key:l,value:h,previous:v=d.last,next:void 0,removed:!1},d.first||(d.first=f),v&&(v.next=f),Qe?d.size++:u.size++,b!=="F"&&(d.index[b]=f)),u},c=function(u,l){var h=o(u),d=Ui(l),f;if(d!=="F")return h.index[d];for(f=h.first;f;f=f.next)if(f.key==l)return f};return Gi(s,{clear:function(){for(var l=this,h=o(l),d=h.index,f=h.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete d[f.index],f=f.next;h.first=h.last=void 0,Qe?h.size=0:l.size=0},delete:function(u){var l=this,h=o(l),d=c(l,u);if(d){var f=d.next,v=d.previous;delete h.index[d.index],d.removed=!0,v&&(v.next=f),f&&(f.previous=v),h.first==d&&(h.first=f),h.last==d&&(h.last=v),Qe?h.size--:l.size--}return!!d},forEach:function(l){for(var h=o(this),d=Dd(l,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:h.first;)for(d(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(l){return!!c(this,l)}}),Gi(s,r?{get:function(l){var h=c(this,l);return h&&h.value},set:function(l,h){return a(this,l===0?0:l,h)}}:{add:function(l){return a(this,l=l===0?0:l,l)}}),Qe&&Ld(s,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,r){var n=e+" Iterator",i=kr(e),s=kr(n);Gd(t,e,function(o,a){Wi(this,{type:n,target:o,state:i(o),kind:a,last:void 0})},function(){for(var o=s(this),a=o.kind,c=o.last;c&&c.removed;)c=c.previous;return!o.target||!(o.last=c=c?c.next:o.state.first)?(o.target=void 0,Et(void 0,!0)):a=="keys"?Et(c.key,!1):a=="values"?Et(c.value,!1):Et([c.key,c.value],!1)},r?"entries":"values",!r,!0),Ud(e)}},Wd=Fn,Hd=Go;Wd("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Hd);var Vd=jn,Xd=or,Kd=Vd?{}.toString:function(){return"[object "+Xd(this)+"]"},Yd=jn,Qd=Ve,Jd=Kd;Yd||Qd(Object.prototype,"toString",Jd,{unsafe:!0});var Zd=or,ev=String,Uo=function(t){if(Zd(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return ev(t)},Nn=q,tv=bn,rv=Uo,nv=cn,iv=Nn("".charAt),Hi=Nn("".charCodeAt),sv=Nn("".slice),Vi=function(t){return function(e,r){var n=rv(nv(e)),i=tv(r),s=n.length,o,a;return i<0||i>=s?t?"":void 0:(o=Hi(n,i),o<55296||o>56319||i+1===s||(a=Hi(n,i+1))<56320||a>57343?t?iv(n,i):o:t?sv(n,i,i+2):(o-55296<<10)+(a-56320)+65536)}},ov={codeAt:Vi(!1),charAt:Vi(!0)},av=ov.charAt,cv=Uo,Wo=He,uv=xn,Xi=On,Ho="String Iterator",lv=Wo.set,fv=Wo.getterFor(Ho);uv(String,"String",function(t){lv(this,{type:Ho,string:cv(t),index:0})},function(){var e=fv(this),r=e.string,n=e.index,i;return n>=r.length?Xi(void 0,!0):(i=av(r,n),e.index+=i.length,Xi(i,!1))});var hv=Q,pt=hv,dv=pt;dv.Map;var vv=Fn,pv=Go;vv("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},pv);var gv=pt;gv.Set;var mv=ct,bv=Array.isArray||function(e){return mv(e)=="Array"},yv=q,wv=z,Vo=L,_v=or,Sv=We,Iv=bo,Xo=function(){},$v=[],Ko=Sv("Reflect","construct"),zn=/^\s*(?:class|function)\b/,Pv=yv(zn.exec),Ev=!zn.exec(Xo),Je=function(e){if(!Vo(e))return!1;try{return Ko(Xo,$v,e),!0}catch{return!1}},Yo=function(e){if(!Vo(e))return!1;switch(_v(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ev||!!Pv(zn,Iv(e))}catch{return!0}};Yo.sham=!0;var Qo=!Ko||wv(function(){var t;return Je(Je.call)||!Je(Object)||!Je(function(){t=!0})||t})?Yo:Je,Ki=bv,Tv=Qo,xv=W,Ov=J,kv=Ov("species"),Yi=Array,Mv=function(t){var e;return Ki(t)&&(e=t.constructor,Tv(e)&&(e===Yi||Ki(e.prototype))?e=void 0:xv(e)&&(e=e[kv],e===null&&(e=void 0))),e===void 0?Yi:e},Av=Mv,Cv=function(t,e){return new(Av(t))(e===0?0:e)},jv=sr,Rv=q,qv=an,Lv=ut,Fv=lt,Dv=Cv,Qi=Rv([].push),ye=function(t){var e=t==1,r=t==2,n=t==3,i=t==4,s=t==6,o=t==7,a=t==5||s;return function(c,u,l,h){for(var d=Lv(c),f=qv(d),v=jv(u,l),b=Fv(f),p=0,g=h||Dv,m=e?g(c,b):r||o?g(c,0):void 0,S,x;b>p;p++)if((a||p in f)&&(S=f[p],x=v(S,p,d),t))if(e)m[p]=x;else if(x)switch(t){case 3:return!0;case 5:return S;case 6:return p;case 2:Qi(m,S)}else switch(t){case 4:return!1;case 7:Qi(m,S)}return s?-1:n||i?i:m}},Nv={forEach:ye(0),map:ye(1),filter:ye(2),some:ye(3),every:ye(4),find:ye(5),findIndex:ye(6),filterReject:ye(7)},zv=q,Ji=Dn,Tt=vt.exports.getWeakData,Bv=Ln,Gv=de,Uv=Ge,Mr=W,Wv=qn,Jo=Nv,Zi=ie,Zo=He,Hv=Zo.set,Vv=Zo.getterFor,Xv=Jo.find,Kv=Jo.findIndex,Yv=zv([].splice),Qv=0,xt=function(t){return t.frozen||(t.frozen=new ea)},ea=function(){this.entries=[]},Ar=function(t,e){return Xv(t.entries,function(r){return r[0]===e})};ea.prototype={get:function(t){var e=Ar(this,t);if(e)return e[1]},has:function(t){return!!Ar(this,t)},set:function(t,e){var r=Ar(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=Kv(this.entries,function(r){return r[0]===t});return~e&&Yv(this.entries,e,1),!!~e}};var Jv={getConstructor:function(t,e,r,n){var i=t(function(c,u){Bv(c,s),Hv(c,{type:e,id:Qv++,frozen:void 0}),Uv(u)||Wv(u,c[n],{that:c,AS_ENTRIES:r})}),s=i.prototype,o=Vv(e),a=function(c,u,l){var h=o(c),d=Tt(Gv(u),!0);return d===!0?xt(h).set(u,l):d[h.id]=l,c};return Ji(s,{delete:function(c){var u=o(this);if(!Mr(c))return!1;var l=Tt(c);return l===!0?xt(u).delete(c):l&&Zi(l,u.id)&&delete l[u.id]},has:function(u){var l=o(this);if(!Mr(u))return!1;var h=Tt(u);return h===!0?xt(l).has(u):h&&Zi(h,l.id)}}),Ji(s,r?{get:function(u){var l=o(this);if(Mr(u)){var h=Tt(u);return h===!0?xt(l).get(u):h?h[l.id]:void 0}},set:function(u,l){return a(this,u,l)}}:{add:function(u){return a(this,u,!0)}}),i}},es=Q,Ot=q,Zv=Dn,ep=vt.exports,tp=Fn,ta=Jv,kt=W,Mt=Co,At=He.enforce,rp=lo,np=!es.ActiveXObject&&"ActiveXObject"in es,Ze,ra=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},ip=tp("WeakMap",ra,ta);if(rp&&np){Ze=ta.getConstructor(ra,"WeakMap",!0),ep.enable();var et=ip.prototype,ts=Ot(et.delete),Ct=Ot(et.has),rs=Ot(et.get),ns=Ot(et.set);Zv(et,{delete:function(t){if(kt(t)&&!Mt(t)){var e=At(this);return e.frozen||(e.frozen=new Ze),ts(this,t)||e.frozen.delete(t)}return ts(this,t)},has:function(e){if(kt(e)&&!Mt(e)){var r=At(this);return r.frozen||(r.frozen=new Ze),Ct(this,e)||r.frozen.has(e)}return Ct(this,e)},get:function(e){if(kt(e)&&!Mt(e)){var r=At(this);return r.frozen||(r.frozen=new Ze),Ct(this,e)?rs(this,e):r.frozen.get(e)}return rs(this,e)},set:function(e,r){if(kt(e)&&!Mt(e)){var n=At(this);n.frozen||(n.frozen=new Ze),Ct(this,e)?ns(this,e,r):n.frozen.set(e,r)}else ns(this,e,r);return this}})}var sp=pt;sp.WeakMap;var op=de,ap=Fo,cp=function(t,e,r,n){try{return n?e(op(r)[0],r[1]):e(r)}catch(i){ap(t,"throw",i)}},up=sr,lp=be,fp=ut,hp=cp,dp=Ro,vp=Qo,pp=lt,is=ko,gp=Lo,mp=Rn,ss=Array,bp=function(e){var r=fp(e),n=vp(this),i=arguments.length,s=i>1?arguments[1]:void 0,o=s!==void 0;o&&(s=up(s,i>2?arguments[2]:void 0));var a=mp(r),c=0,u,l,h,d,f,v;if(a&&!(this===ss&&dp(a)))for(d=gp(r,a),f=d.next,l=n?new this:[];!(h=lp(f,d)).done;c++)v=o?hp(d,s,[h.value,c],!0):h.value,is(l,c,v);else for(u=pp(r),l=n?new this(u):ss(u);u>c;c++)v=o?s(r[c],c):r[c],is(l,c,v);return l.length=c,l},yp=dt,wp=bp,_p=zo,Sp=!_p(function(t){Array.from(t)});yp({target:"Array",stat:!0,forced:Sp},{from:wp});var Ip=pt;Ip.Array.from;var os=Z,$p=q,Pp=be,Ep=z,Cr=ao,Tp=En,xp=$n,Op=ut,kp=an,qe=Object.assign,as=Object.defineProperty,Mp=$p([].concat),Ap=!qe||Ep(function(){if(os&&qe({b:1},qe(as({},"a",{enumerable:!0,get:function(){as(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),qe({},t)[r]!=7||Cr(qe({},e)).join("")!=n})?function(e,r){for(var n=Op(e),i=arguments.length,s=1,o=Tp.f,a=xp.f;i>s;)for(var c=kp(arguments[s++]),u=o?Mp(Cr(c),o(c)):Cr(c),l=u.length,h=0,d;l>h;)d=u[h++],(!os||Pp(a,c,d))&&(n[d]=c[d]);return n}:qe,Cp=dt,cs=Ap;Cp({target:"Object",stat:!0,arity:2,forced:Object.assign!==cs},{assign:cs});var jp=pt;jp.Object.assign;var us=0/0,Rp="[object Symbol]",qp=/^\s+|\s+$/g,Lp=/^[-+]0x[0-9a-f]+$/i,Fp=/^0b[01]+$/i,Dp=/^0o[0-7]+$/i,Np=parseInt,zp=Object.prototype,Bp=zp.toString;function Gp(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}function ls(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Up(t){return!!t&&typeof t=="object"}function Wp(t){return typeof t=="symbol"||Up(t)&&Bp.call(t)==Rp}function jr(t){if(typeof t=="number")return t;if(Wp(t))return us;if(ls(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ls(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(qp,"");var r=Fp.test(t);return r||Dp.test(t)?Np(t.slice(2),r?2:8):Lp.test(t)?us:+t}function Hp(t,e,r){return r===void 0&&(r=e,e=void 0),r!==void 0&&(r=jr(r),r=r===r?r:0),e!==void 0&&(e=jr(e),e=e===e?e:0),Gp(jr(t),e,r)}var Y=Hp;function fs(t,e){return t===void 0&&(t=-1/0),e===void 0&&(e=1/0),function(r,n){var i="_"+n;Object.defineProperty(r,n,{get:function(){return this[i]},set:function(s){Object.defineProperty(this,i,{value:Y(s,t,e),enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}}function Rr(t,e){var r="_"+e;Object.defineProperty(t,e,{get:function(){return this[r]},set:function(n){Object.defineProperty(this,r,{value:!!n,enumerable:!1,writable:!0,configurable:!0})},enumerable:!0,configurable:!0})}var Vp="Expected a function",hs=0/0,Xp="[object Symbol]",Kp=/^\s+|\s+$/g,Yp=/^[-+]0x[0-9a-f]+$/i,Qp=/^0b[01]+$/i,Jp=/^0o[0-7]+$/i,Zp=parseInt,eg=typeof De=="object"&&De&&De.Object===Object&&De,tg=typeof self=="object"&&self&&self.Object===Object&&self,rg=eg||tg||Function("return this")(),ng=Object.prototype,ig=ng.toString,sg=Math.max,og=Math.min,qr=function(){return rg.Date.now()};function ag(t,e,r){var n,i,s,o,a,c,u=0,l=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(Vp);e=ds(e)||0,rn(r)&&(l=!!r.leading,h="maxWait"in r,s=h?sg(ds(r.maxWait)||0,e):s,d="trailing"in r?!!r.trailing:d);function f(I){var F=n,C=i;return n=i=void 0,u=I,o=t.apply(C,F),o}function v(I){return u=I,a=setTimeout(g,e),l?f(I):o}function b(I){var F=I-c,C=I-u,D=e-F;return h?og(D,s-C):D}function p(I){var F=I-c,C=I-u;return c===void 0||F>=e||F<0||h&&C>=s}function g(){var I=qr();if(p(I))return m(I);a=setTimeout(g,b(I))}function m(I){return a=void 0,d&&n?f(I):(n=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,n=c=i=a=void 0}function x(){return a===void 0?o:m(qr())}function B(){var I=qr(),F=p(I);if(n=arguments,i=this,c=I,F){if(a===void 0)return v(c);if(h)return a=setTimeout(g,e),f(c)}return a===void 0&&(a=setTimeout(g,e)),o}return B.cancel=S,B.flush=x,B}function rn(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function cg(t){return!!t&&typeof t=="object"}function ug(t){return typeof t=="symbol"||cg(t)&&ig.call(t)==Xp}function ds(t){if(typeof t=="number")return t;if(ug(t))return hs;if(rn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Kp,"");var r=Qp.test(t);return r||Jp.test(t)?Zp(t.slice(2),r?2:8):Yp.test(t)?hs:+t}var na=ag;function ia(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r,n,i){var s=i.value;return{get:function(){return this.hasOwnProperty(n)||Object.defineProperty(this,n,{value:na.apply(void 0,_a([s],t))}),this[n]}}}}var lg=function(){function t(e){var r=this;e===void 0&&(e={}),this.damping=.1,this.thumbMinSize=20,this.renderByPixels=!0,this.alwaysShowTracks=!1,this.continuousScrolling=!0,this.delegateTo=null,this.plugins={},Object.keys(e).forEach(function(n){r[n]=e[n]})}return Object.defineProperty(t.prototype,"wheelEventTarget",{get:function(){return this.delegateTo},set:function(e){console.warn("[smooth-scrollbar]: `options.wheelEventTarget` is deprecated and will be removed in the future, use `options.delegateTo` instead."),this.delegateTo=e},enumerable:!0,configurable:!0}),Pe([fs(0,1)],t.prototype,"damping",void 0),Pe([fs(0,1/0)],t.prototype,"thumbMinSize",void 0),Pe([Rr],t.prototype,"renderByPixels",void 0),Pe([Rr],t.prototype,"alwaysShowTracks",void 0),Pe([Rr],t.prototype,"continuousScrolling",void 0),t}(),jt,Yt=new WeakMap;function sa(){if(jt!==void 0)return jt;var t=!1;try{var e=function(){},r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",e,r),window.removeEventListener("testPassive",e,r)}catch{}return jt=t?{passive:!1}:!1,jt}function Xe(t){var e=Yt.get(t)||[];return Yt.set(t,e),function(n,i,s){function o(a){a.defaultPrevented||s(a)}i.split(/\s+/g).forEach(function(a){e.push({elem:n,eventName:a,handler:o}),n.addEventListener(a,o,sa())})}}function fg(t){var e=Yt.get(t);!e||(e.forEach(function(r){var n=r.elem,i=r.eventName,s=r.handler;n.removeEventListener(i,s,sa())}),Yt.delete(t))}function hg(t){return t.touches?t.touches[t.touches.length-1]:t}function Ne(t){var e=hg(t);return{x:e.clientX,y:e.clientY}}function Rt(t,e){return e===void 0&&(e=[]),e.some(function(r){return t===r})}var oa=["webkit","moz","ms","o"],dg=new RegExp("^-(?!(?:"+oa.join("|")+")-)");function vg(t){var e={};return Object.keys(t).forEach(function(r){if(!dg.test(r)){e[r]=t[r];return}var n=t[r];r=r.replace(/^-/,""),e[r]=n,oa.forEach(function(i){e["-"+i+"-"+r]=n})}),e}function Ae(t,e){e=vg(e),Object.keys(e).forEach(function(r){var n=r.replace(/^-/,"").replace(/-([a-z])/g,function(i,s){return s.toUpperCase()});t.style[n]=e[r]})}var pg=function(){function t(e){this.velocityMultiplier=window.devicePixelRatio,this.updateTime=Date.now(),this.delta={x:0,y:0},this.velocity={x:0,y:0},this.lastPosition={x:0,y:0},this.lastPosition=Ne(e)}return t.prototype.update=function(e){var r=this,n=r.velocity,i=r.updateTime,s=r.lastPosition,o=Date.now(),a=Ne(e),c={x:-(a.x-s.x),y:-(a.y-s.y)},u=o-i||16.7,l=c.x/u*16.7,h=c.y/u*16.7;n.x=l*this.velocityMultiplier,n.y=h*this.velocityMultiplier,this.delta=c,this.updateTime=o,this.lastPosition=a},t}(),gg=function(){function t(){this._touchList={}}return Object.defineProperty(t.prototype,"_primitiveValue",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.isActive=function(){return this._activeTouchID!==void 0},t.prototype.getDelta=function(){var e=this._getActiveTracker();return e?ue({},e.delta):this._primitiveValue},t.prototype.getVelocity=function(){var e=this._getActiveTracker();return e?ue({},e.velocity):this._primitiveValue},t.prototype.getEasingDistance=function(e){var r=1-e,n={x:0,y:0},i=this.getVelocity();return Object.keys(i).forEach(function(s){for(var o=Math.abs(i[s])<=10?0:i[s];o!==0;)n[s]+=o,o=o*r|0}),n},t.prototype.track=function(e){var r=this,n=e.targetTouches;return Array.from(n).forEach(function(i){r._add(i)}),this._touchList},t.prototype.update=function(e){var r=this,n=e.touches,i=e.changedTouches;return Array.from(n).forEach(function(s){r._renew(s)}),this._setActiveID(i),this._touchList},t.prototype.release=function(e){var r=this;delete this._activeTouchID,Array.from(e.changedTouches).forEach(function(n){r._delete(n)})},t.prototype._add=function(e){this._has(e)&&this._delete(e);var r=new pg(e);this._touchList[e.identifier]=r},t.prototype._renew=function(e){if(!!this._has(e)){var r=this._touchList[e.identifier];r.update(e)}},t.prototype._delete=function(e){delete this._touchList[e.identifier]},t.prototype._has=function(e){return this._touchList.hasOwnProperty(e.identifier)},t.prototype._setActiveID=function(e){this._activeTouchID=e[e.length-1].identifier},t.prototype._getActiveTracker=function(){var e=this,r=e._touchList,n=e._activeTouchID;return r[n]},t}(),Be;(function(t){t.X="x",t.Y="y"})(Be||(Be={}));var mg=function(){function t(e,r){r===void 0&&(r=0),this._direction=e,this._minSize=r,this.element=document.createElement("div"),this.displaySize=0,this.realSize=0,this.offset=0,this.element.className="scrollbar-thumb scrollbar-thumb-"+e}return t.prototype.attachTo=function(e){e.appendChild(this.element)},t.prototype.update=function(e,r,n){this.realSize=Math.min(r/n,1)*r,this.displaySize=Math.max(this.realSize,this._minSize),this.offset=e/n*(r+(this.realSize-this.displaySize)),Ae(this.element,this._getStyle())},t.prototype._getStyle=function(){switch(this._direction){case Be.X:return{width:this.displaySize+"px","-transform":"translate3d("+this.offset+"px, 0, 0)"};case Be.Y:return{height:this.displaySize+"px","-transform":"translate3d(0, "+this.offset+"px, 0)"};default:return null}},t}(),vs=function(){function t(e,r){r===void 0&&(r=0),this.element=document.createElement("div"),this._isShown=!1,this.element.className="scrollbar-track scrollbar-track-"+e,this.thumb=new mg(e,r),this.thumb.attachTo(this.element)}return t.prototype.attachTo=function(e){e.appendChild(this.element)},t.prototype.show=function(){this._isShown||(this._isShown=!0,this.element.classList.add("show"))},t.prototype.hide=function(){!this._isShown||(this._isShown=!1,this.element.classList.remove("show"))},t.prototype.update=function(e,r,n){Ae(this.element,{display:n<=r?"none":"block"}),this.thumb.update(e,r,n)},t}(),bg=function(){function t(e){this._scrollbar=e;var r=e.options.thumbMinSize;this.xAxis=new vs(Be.X,r),this.yAxis=new vs(Be.Y,r),this.xAxis.attachTo(e.containerEl),this.yAxis.attachTo(e.containerEl),e.options.alwaysShowTracks&&(this.xAxis.show(),this.yAxis.show())}return t.prototype.update=function(){var e=this._scrollbar,r=e.size,n=e.offset;this.xAxis.update(n.x,r.container.width,r.content.width),this.yAxis.update(n.y,r.container.height,r.content.height)},t.prototype.autoHideOnIdle=function(){this._scrollbar.options.alwaysShowTracks||(this.xAxis.hide(),this.yAxis.hide())},Pe([ia(300)],t.prototype,"autoHideOnIdle",null),t}();function yg(t){var e=t.containerEl,r=t.contentEl,n=getComputedStyle(e),i=["paddingTop","paddingBottom","paddingLeft","paddingRight"].map(function(a){return n[a]?parseFloat(n[a]):0}),s=i[0]+i[1],o=i[2]+i[3];return{container:{width:e.clientWidth,height:e.clientHeight},content:{width:r.offsetWidth-r.clientWidth+r.scrollWidth+o,height:r.offsetHeight-r.clientHeight+r.scrollHeight+s}}}function wg(t,e){var r=t.bounding,n=e.getBoundingClientRect(),i=Math.max(r.top,n.top),s=Math.max(r.left,n.left),o=Math.min(r.right,n.right),a=Math.min(r.bottom,n.bottom);return i<a&&s<o}function _g(t){var e=t.getSize(),r={x:Math.max(e.content.width-e.container.width,0),y:Math.max(e.content.height-e.container.height,0)},n=t.containerEl.getBoundingClientRect(),i={top:Math.max(n.top,0),right:Math.min(n.right,window.innerWidth),bottom:Math.min(n.bottom,window.innerHeight),left:Math.max(n.left,0)};t.size=e,t.limit=r,t.bounding=i,t.track.update(),t.setPosition()}function Sg(t,e,r){var n=t.options,i=t.offset,s=t.limit,o=t.track,a=t.contentEl;return n.renderByPixels&&(e=Math.round(e),r=Math.round(r)),e=Y(e,0,s.x),r=Y(r,0,s.y),e!==i.x&&o.xAxis.show(),r!==i.y&&o.yAxis.show(),n.alwaysShowTracks||o.autoHideOnIdle(),e===i.x&&r===i.y?null:(i.x=e,i.y=r,Ae(a,{"-transform":"translate3d("+-e+"px, "+-r+"px, 0)"}),o.update(),{offset:ue({},i),limit:ue({},s)})}var ps=new WeakMap;function Ig(t,e,r,n,i){n===void 0&&(n=0);var s=i===void 0?{}:i,o=s.easing,a=o===void 0?$g:o,c=s.callback,u=t.options,l=t.offset,h=t.limit;u.renderByPixels&&(e=Math.round(e),r=Math.round(r));var d=l.x,f=l.y,v=Y(e,0,h.x)-d,b=Y(r,0,h.y)-f,p=Date.now();function g(){var m=Date.now()-p,S=n?a(Math.min(m/n,1)):1;if(t.setPosition(d+v*S,f+b*S),m>=n)typeof c=="function"&&c.call(t);else{var x=requestAnimationFrame(g);ps.set(t,x)}}cancelAnimationFrame(ps.get(t)),g()}function $g(t){return Math.pow(t-1,3)+1}function Pg(t,e,r){var n=r===void 0?{}:r,i=n.alignToTop,s=i===void 0?!0:i,o=n.onlyScrollIfNeeded,a=o===void 0?!1:o,c=n.offsetTop,u=c===void 0?0:c,l=n.offsetLeft,h=l===void 0?0:l,d=n.offsetBottom,f=d===void 0?0:d,v=t.containerEl,b=t.bounding,p=t.offset,g=t.limit;if(!(!e||!v.contains(e))){var m=e.getBoundingClientRect();if(!(a&&t.isVisible(e))){var S=s?m.top-b.top-u:m.bottom-b.bottom+f;t.setMomentum(m.left-b.left-h,Y(S,-p.y,g.y-p.y))}}}var Eg=function(){function t(e,r){var n=this.constructor;this.scrollbar=e,this.name=n.pluginName,this.options=ue(ue({},n.defaultOptions),r)}return t.prototype.onInit=function(){},t.prototype.onDestroy=function(){},t.prototype.onUpdate=function(){},t.prototype.onRender=function(e){},t.prototype.transformDelta=function(e,r){return ue({},e)},t.pluginName="",t.defaultOptions={},t}(),Qt={order:new Set,constructors:{}};function Tg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(r){var n=r.pluginName;if(!n)throw new TypeError("plugin name is required");Qt.order.add(n),Qt.constructors[n]=r})}function xg(t,e){return Array.from(Qt.order).filter(function(r){return e[r]!==!1}).map(function(r){var n=Qt.constructors[r],i=new n(t,e[r]);return e[r]=i.options,i})}var H;(function(t){t[t.TAB=9]="TAB",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN"})(H||(H={}));function Og(t){var e=Xe(t),r=t.containerEl;e(r,"keydown",function(n){var i=document.activeElement;if(!(i!==r&&!r.contains(i))&&!Ag(i)){var s=kg(t,n.keyCode||n.which);if(!!s){var o=s[0],a=s[1];t.addTransformableMomentum(o,a,n,function(c){c?n.preventDefault():(t.containerEl.blur(),t.parent&&t.parent.containerEl.focus())})}}})}function kg(t,e){var r=t.size,n=t.limit,i=t.offset;switch(e){case H.TAB:return Mg(t);case H.SPACE:return[0,200];case H.PAGE_UP:return[0,-r.container.height+40];case H.PAGE_DOWN:return[0,r.container.height-40];case H.END:return[0,n.y-i.y];case H.HOME:return[0,-i.y];case H.LEFT:return[-40,0];case H.UP:return[0,-40];case H.RIGHT:return[40,0];case H.DOWN:return[0,40];default:return null}}function Mg(t){requestAnimationFrame(function(){t.scrollIntoView(document.activeElement,{offsetTop:t.size.container.height/2,offsetLeft:t.size.container.width/2,onlyScrollIfNeeded:!0})})}function Ag(t){return t.tagName==="INPUT"||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.isContentEditable?!t.disabled:!1}var ae;(function(t){t[t.X=0]="X",t[t.Y=1]="Y"})(ae||(ae={}));function Cg(t){var e=Xe(t),r=t.containerEl,n=t.track,i=n.xAxis,s=n.yAxis;function o(f,v){var b=t.size,p=t.limit,g=t.offset;if(f===ae.X){var m=b.container.width+(i.thumb.realSize-i.thumb.displaySize);return Y(v/m*b.content.width,0,p.x)-g.x}if(f===ae.Y){var S=b.container.height+(s.thumb.realSize-s.thumb.displaySize);return Y(v/S*b.content.height,0,p.y)-g.y}return 0}function a(f){if(Rt(f,[i.element,i.thumb.element]))return ae.X;if(Rt(f,[s.element,s.thumb.element]))return ae.Y}var c,u,l,h,d;e(r,"click",function(f){if(!(u||!Rt(f.target,[i.element,s.element]))){var v=f.target,b=a(v),p=v.getBoundingClientRect(),g=Ne(f);if(b===ae.X){var m=g.x-p.left-i.thumb.displaySize/2;t.setMomentum(o(b,m),0)}if(b===ae.Y){var m=g.y-p.top-s.thumb.displaySize/2;t.setMomentum(0,o(b,m))}}}),e(r,"mousedown",function(f){if(!!Rt(f.target,[i.thumb.element,s.thumb.element])){c=!0;var v=f.target,b=Ne(f),p=v.getBoundingClientRect();h=a(v),l={x:b.x-p.left,y:b.y-p.top},d=r.getBoundingClientRect(),Ae(t.containerEl,{"-user-select":"none"})}}),e(window,"mousemove",function(f){if(!!c){u=!0;var v=Ne(f);if(h===ae.X){var b=v.x-l.x-d.left;t.setMomentum(o(h,b),0)}if(h===ae.Y){var b=v.y-l.y-d.top;t.setMomentum(0,o(h,b))}}}),e(window,"mouseup blur",function(){c=u=!1,Ae(t.containerEl,{"-user-select":""})})}function jg(t){var e=Xe(t);e(window,"resize",na(t.update.bind(t),300))}function Rg(t){var e=Xe(t),r=t.containerEl,n=t.contentEl,i=!1,s=!1,o;function a(c){var u=c.x,l=c.y;if(!(!u&&!l)){var h=t.offset,d=t.limit;t.setMomentum(Y(h.x+u,0,d.x)-h.x,Y(h.y+l,0,d.y)-h.y),o=requestAnimationFrame(function(){a({x:u,y:l})})}}e(window,"mousemove",function(c){if(!!i){cancelAnimationFrame(o);var u=qg(t,c);a(u)}}),e(n,"contextmenu",function(){s=!0,cancelAnimationFrame(o),i=!1}),e(n,"mousedown",function(){s=!1}),e(n,"selectstart",function(){s||(cancelAnimationFrame(o),i=!0)}),e(window,"mouseup blur",function(){cancelAnimationFrame(o),i=!1,s=!1}),e(r,"scroll",function(c){c.preventDefault(),r.scrollTop=r.scrollLeft=0})}function qg(t,e){var r=t.bounding,n=r.top,i=r.right,s=r.bottom,o=r.left,a=Ne(e),c=a.x,u=a.y,l={x:0,y:0},h=20;return c===0&&u===0||(c>i-h?l.x=c-i+h:c<o+h&&(l.x=c-o-h),u>s-h?l.y=u-s+h:u<n+h&&(l.y=u-n-h),l.x*=2,l.y*=2),l}var qt;function Lg(t){var e=t.options.delegateTo||t.containerEl,r=new gg,n=Xe(t),i,s=0;n(e,"touchstart",function(o){r.track(o),t.setMomentum(0,0),s===0&&(i=t.options.damping,t.options.damping=Math.max(i,.5)),s++}),n(e,"touchmove",function(o){if(!(qt&&qt!==t)){r.update(o);var a=r.getDelta(),c=a.x,u=a.y;t.addTransformableMomentum(c,u,o,function(l){l&&o.cancelable&&(o.preventDefault(),qt=t)})}}),n(e,"touchcancel touchend",function(o){var a=r.getEasingDistance(i);t.addTransformableMomentum(a.x,a.y,o),s--,s===0&&(t.options.damping=i),r.release(o),qt=null})}function Fg(t){var e=Xe(t),r=t.options.delegateTo||t.containerEl,n="onwheel"in window||document.implementation.hasFeature("Events.wheel","3.0")?"wheel":"mousewheel";e(r,n,function(i){var s=Ng(i),o=s.x,a=s.y;t.addTransformableMomentum(o,a,i,function(c){c&&i.preventDefault()})})}var tt={STANDARD:1,OTHERS:-3},gs=[1,28,500],Dg=function(t){return gs[t]||gs[0]};function Ng(t){if("deltaX"in t){var e=Dg(t.deltaMode);return{x:t.deltaX/tt.STANDARD*e,y:t.deltaY/tt.STANDARD*e}}return"wheelDeltaX"in t?{x:t.wheelDeltaX/tt.OTHERS,y:t.wheelDeltaY/tt.OTHERS}:{x:0,y:t.wheelDelta/tt.OTHERS}}const ms=Object.freeze(Object.defineProperty({__proto__:null,keyboardHandler:Og,mouseHandler:Cg,resizeHandler:jg,selectHandler:Rg,touchHandler:Lg,wheelHandler:Fg},Symbol.toStringTag,{value:"Module"}));var ce=new Map,bs=function(){function t(e,r){var n=this;this.offset={x:0,y:0},this.limit={x:1/0,y:1/0},this.bounding={top:0,right:0,bottom:0,left:0},this._plugins=[],this._momentum={x:0,y:0},this._listeners=new Set,this.containerEl=e;var i=this.contentEl=document.createElement("div");this.options=new lg(r),e.setAttribute("data-scrollbar","true"),e.setAttribute("tabindex","-1"),Ae(e,{overflow:"hidden",outline:"none"}),window.navigator.msPointerEnabled&&(e.style.msTouchAction="none"),i.className="scroll-content",Array.from(e.childNodes).forEach(function(c){i.appendChild(c)}),e.appendChild(i),this.track=new bg(this),this.size=this.getSize(),this._plugins=xg(this,this.options.plugins);var s=e.scrollLeft,o=e.scrollTop;e.scrollLeft=e.scrollTop=0,this.setPosition(s,o,{withoutCallbacks:!0});var a=window.ResizeObserver;typeof a=="function"&&(this._observer=new a(function(){n.update()}),this._observer.observe(i)),ce.set(e,this),requestAnimationFrame(function(){n._init()})}return Object.defineProperty(t.prototype,"parent",{get:function(){for(var e=this.containerEl.parentElement;e;){var r=ce.get(e);if(r)return r;e=e.parentElement}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.offset.y},set:function(e){this.setPosition(this.scrollLeft,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this.offset.x},set:function(e){this.setPosition(e,this.scrollTop)},enumerable:!0,configurable:!0}),t.prototype.getSize=function(){return yg(this)},t.prototype.update=function(){_g(this),this._plugins.forEach(function(e){e.onUpdate()})},t.prototype.isVisible=function(e){return wg(this,e)},t.prototype.setPosition=function(e,r,n){var i=this;e===void 0&&(e=this.offset.x),r===void 0&&(r=this.offset.y),n===void 0&&(n={});var s=Sg(this,e,r);!s||n.withoutCallbacks||this._listeners.forEach(function(o){o.call(i,s)})},t.prototype.scrollTo=function(e,r,n,i){e===void 0&&(e=this.offset.x),r===void 0&&(r=this.offset.y),n===void 0&&(n=0),i===void 0&&(i={}),Ig(this,e,r,n,i)},t.prototype.scrollIntoView=function(e,r){r===void 0&&(r={}),Pg(this,e,r)},t.prototype.addListener=function(e){if(typeof e!="function")throw new TypeError("[smooth-scrollbar] scrolling listener should be a function");this._listeners.add(e)},t.prototype.removeListener=function(e){this._listeners.delete(e)},t.prototype.addTransformableMomentum=function(e,r,n,i){this._updateDebounced();var s=this._plugins.reduce(function(a,c){return c.transformDelta(a,n)||a},{x:e,y:r}),o=!this._shouldPropagateMomentum(s.x,s.y);o&&this.addMomentum(s.x,s.y),i&&i.call(this,o)},t.prototype.addMomentum=function(e,r){this.setMomentum(this._momentum.x+e,this._momentum.y+r)},t.prototype.setMomentum=function(e,r){this.limit.x===0&&(e=0),this.limit.y===0&&(r=0),this.options.renderByPixels&&(e=Math.round(e),r=Math.round(r)),this._momentum.x=e,this._momentum.y=r},t.prototype.updatePluginOptions=function(e,r){this._plugins.forEach(function(n){n.name===e&&Object.assign(n.options,r)})},t.prototype.destroy=function(){var e=this,r=e.containerEl,n=e.contentEl;fg(this),this._listeners.clear(),this.setMomentum(0,0),cancelAnimationFrame(this._renderID),this._observer&&this._observer.disconnect(),ce.delete(this.containerEl);for(var i=Array.from(n.childNodes);r.firstChild;)r.removeChild(r.firstChild);i.forEach(function(s){r.appendChild(s)}),Ae(r,{overflow:""}),r.scrollTop=this.scrollTop,r.scrollLeft=this.scrollLeft,this._plugins.forEach(function(s){s.onDestroy()}),this._plugins.length=0},t.prototype._init=function(){var e=this;this.update(),Object.keys(ms).forEach(function(r){ms[r](e)}),this._plugins.forEach(function(r){r.onInit()}),this._render()},t.prototype._updateDebounced=function(){this.update()},t.prototype._shouldPropagateMomentum=function(e,r){e===void 0&&(e=0),r===void 0&&(r=0);var n=this,i=n.options,s=n.offset,o=n.limit;if(!i.continuousScrolling)return!1;o.x===0&&o.y===0&&this._updateDebounced();var a=Y(e+s.x,0,o.x),c=Y(r+s.y,0,o.y),u=!0;return u=u&&a===s.x,u=u&&c===s.y,u=u&&(s.x===o.x||s.x===0||s.y===o.y||s.y===0),u},t.prototype._render=function(){var e=this._momentum;if(e.x||e.y){var r=this._nextTick("x"),n=this._nextTick("y");e.x=r.momentum,e.y=n.momentum,this.setPosition(r.position,n.position)}var i=ue({},this._momentum);this._plugins.forEach(function(s){s.onRender(i)}),this._renderID=requestAnimationFrame(this._render.bind(this))},t.prototype._nextTick=function(e){var r=this,n=r.options,i=r.offset,s=r._momentum,o=i[e],a=s[e];if(Math.abs(a)<=.1)return{momentum:0,position:o+a};var c=a*(1-n.damping);return n.renderByPixels&&(c|=0),{momentum:c,position:o+a-c}},Pe([ia(100,{leading:!0})],t.prototype,"_updateDebounced",null),t}(),zg="rgba(222, 222, 222, .75)",Bg="rgba(0, 0, 0, .5)",Gg=`
[data-scrollbar] {
  display: block;
  position: relative;
}

.scroll-content {
  display: flow-root;
  -webkit-transform: translate3d(0, 0, 0);
          transform: translate3d(0, 0, 0);
}

.scrollbar-track {
  position: absolute;
  opacity: 0;
  z-index: 1;
  background: `+zg+`;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  -webkit-transition: opacity 0.5s 0.5s ease-out;
          transition: opacity 0.5s 0.5s ease-out;
}
.scrollbar-track.show,
.scrollbar-track:hover {
  opacity: 1;
  -webkit-transition-delay: 0s;
          transition-delay: 0s;
}

.scrollbar-track-x {
  bottom: 0;
  left: 0;
  width: 100%;
  height: 8px;
}
.scrollbar-track-y {
  top: 0;
  right: 0;
  width: 8px;
  height: 100%;
}
.scrollbar-thumb {
  position: absolute;
  top: 0;
  left: 0;
  width: 8px;
  height: 8px;
  background: `+Bg+`;
  border-radius: 4px;
}
`,aa="smooth-scrollbar-style",Jt=!1;function ys(){if(!(Jt||typeof window>"u")){var t=document.createElement("style");t.id=aa,t.textContent=Gg,document.head&&document.head.appendChild(t),Jt=!0}}function Ug(){if(!(!Jt||typeof window>"u")){var t=document.getElementById(aa);!t||!t.parentNode||(t.parentNode.removeChild(t),Jt=!1)}}var Wg=function(t){wa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.init=function(r,n){if(!r||r.nodeType!==1)throw new TypeError("expect element to be DOM Element, but got "+r);return ys(),ce.has(r)?ce.get(r):new bs(r,n)},e.initAll=function(r){return Array.from(document.querySelectorAll("[data-scrollbar]"),function(n){return e.init(n,r)})},e.has=function(r){return ce.has(r)},e.get=function(r){return ce.get(r)},e.getAll=function(){return Array.from(ce.values())},e.destroy=function(r){var n=ce.get(r);n&&n.destroy()},e.destroyAll=function(){ce.forEach(function(r){r.destroy()})},e.use=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Tg.apply(void 0,r)},e.attachStyle=function(){return ys()},e.detachStyle=function(){return Ug()},e.version="8.8.1",e.ScrollbarPlugin=Eg,e}(bs);const Le=[];function ca(t,e){return{subscribe:gt(t,e).subscribe}}function gt(t,e=P){let r;const n=new Set;function i(a){if(ne(t,a)&&(t=a,r)){const c=!Le.length;for(const u of n)u[1](),Le.push(u,t);if(c){for(let u=0;u<Le.length;u+=2)Le[u][0](Le[u+1]);Le.length=0}}}function s(a){i(a(t))}function o(a,c=P){const u=[a,c];return n.add(u),n.size===1&&(r=e(i)||P),a(t),()=>{n.delete(u),n.size===0&&(r(),r=null)}}return{set:i,update:s,subscribe:o}}function Hg(t,e,r){const n=!Array.isArray(t),i=n?[t]:t,s=e.length<2;return ca(r,o=>{let a=!1;const c=[];let u=0,l=P;const h=()=>{if(u)return;l();const f=e(n?c[0]:c,o);s?o(f):l=nn(f)?f:P},d=i.map((f,v)=>zs(f,b=>{c[v]=b,u&=~(1<<v),a&&h()},()=>{u|=1<<v}));return a=!0,h(),function(){Ce(d),l()}})}const ge=gt(null),nt=gt(1),ua=ca(3),at=gt(0),Zt=gt(null),Vg=Hg([nt,ua,at],([t,e,r])=>()=>{Zt.set(null),r<e?nt.set(t+1):(nt.set(1),at.set(0))});function Xg(t){let e,r,n,i;return{c(){e=$("div"),r=U(t[2]),w(e,"class",Dr(t[4])+" svelte-v3tt0o"),we(e,"active",t[0]===t[1]+1),we(e,"failed",t[1]===t[3]),we(e,"pointer",t[0]!==null)},m(s,o){j(s,e,o),_(e,r),n||(i=_e(e,"click",t[5]),n=!0)},p(s,[o]){o&4&&xe(r,s[2]),o&3&&we(e,"active",s[0]===s[1]+1),o&10&&we(e,"failed",s[1]===s[3]),o&1&&we(e,"pointer",s[0]!==null)},i:P,o:P,d(s){s&&A(e),n=!1,i()}}}function Kg(t,e,r){let n,i;G(t,ge,d=>r(6,n=d)),G(t,Zt,d=>r(3,i=d));let{moveIndex:s}=e,{activeFenIndex:o=null}=e,a="";const c=n.fens[s].split(" ")[1],u=d=>Number(d.split(" ").at(-1)),l=1+u(n.fens[s+1])-u(n.fens[1]);a+=String(l)+(c==="w"?".":"..."),a+=n.san_moves[s];const h=()=>{o!==null&&r(0,o=s+1)};return t.$$set=d=>{"moveIndex"in d&&r(1,s=d.moveIndex),"activeFenIndex"in d&&r(0,o=d.activeFenIndex)},[o,s,a,i,c,h]}class Yg extends he{constructor(e){super(),fe(this,e,Kg,Xg,ne,{moveIndex:1,activeFenIndex:0})}}function ws(t,e,r){const n=t.slice();return n[5]=e[r],n[7]=r,n}function _s(t){let e,r,n,i,s;function o(c){t[4](c)}let a={moveIndex:t[7]};return t[0]!==void 0&&(a.activeFenIndex=t[0]),r=new Yg({props:a}),le.push(()=>Ie(r,"activeFenIndex",o)),{c(){e=$("div"),re(r.$$.fragment),i=N(),w(e,"class","svelte-45trzg")},m(c,u){j(c,e,u),X(r,e,null),_(e,i),s=!0},p(c,u){const l={};!n&&u&1&&(n=!0,l.activeFenIndex=c[0],Se(()=>n=!1)),r.$set(l)},i(c){s||(M(r.$$.fragment,c),s=!0)},o(c){R(r.$$.fragment,c),s=!1},d(c){c&&A(e),K(r)}}}function Qg(t){let e,r,n,i=t[3].san_moves.slice(0,t[1]+1),s=[];for(let a=0;a<i.length;a+=1)s[a]=_s(ws(t,i,a));const o=a=>R(s[a],1,1,()=>{s[a]=null});return{c(){e=$("div");for(let a=0;a<s.length;a+=1)s[a].c();w(e,"id","line"),w(e,"class",r=Dr(t[2])+" svelte-45trzg"),we(e,"scrollbar",t[2]==="column")},m(a,c){j(a,e,c);for(let u=0;u<s.length;u+=1)s[u].m(e,null);n=!0},p(a,[c]){if(c&11){i=a[3].san_moves.slice(0,a[1]+1);let u;for(u=0;u<i.length;u+=1){const l=ws(a,i,u);s[u]?(s[u].p(l,c),M(s[u],1)):(s[u]=_s(l),s[u].c(),M(s[u],1),s[u].m(e,null))}for(er(),u=i.length;u<s.length;u+=1)o(u);tr()}(!n||c&4&&r!==(r=Dr(a[2])+" svelte-45trzg"))&&w(e,"class",r),(!n||c&4)&&we(e,"scrollbar",a[2]==="column")},i(a){if(!n){for(let c=0;c<i.length;c+=1)M(s[c]);n=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)R(s[c]);n=!1},d(a){a&&A(e),ke(s,a)}}}function Jg(t,e,r){let n;G(t,ge,c=>r(3,n=c));let{activeFenIndex:i=null}=e,{lastMoveIndex:s=n.san_moves.length}=e,{direction:o="column"}=e;Gs(()=>{document.querySelector(".scrollbar")&&Wg.init(document.querySelector(".scrollbar"),{})});function a(c){i=c,r(0,i)}return t.$$set=c=>{"activeFenIndex"in c&&r(0,i=c.activeFenIndex),"lastMoveIndex"in c&&r(1,s=c.lastMoveIndex),"direction"in c&&r(2,o=c.direction)},[i,s,o,n,a]}class Bn extends he{constructor(e){super(),fe(this,e,Jg,Qg,ne,{activeFenIndex:0,lastMoveIndex:1,direction:2})}}const Zg="/noboardchess/assets/chevron_right.7ea5f89f.svg",em="/noboardchess/assets/chevron_left.5f0c5e3b.svg",tm="/noboardchess/assets/first_page.f5439e4d.svg",rm="/noboardchess/assets/last_page.06c0e9ba.svg",nm="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",im="8/8/8/8/8/8/8/8",it={start:nm,empty:im};class k{constructor(e=void 0){this.squares=new Array(64).fill(null),this.setFen(e)}setFen(e=it.empty){let r;e==="start"?(console.warn("setting the position with the strings 'start' or 'empty' is deprecated, use FEN.start or FEN.empty"),r=it.start):e==="empty"||e===void 0?(console.warn("setting the position with the strings 'start' or 'empty' is deprecated, use FEN.start or FEN.empty"),r=it.empty):r=e;const n=r.replace(/^\s*/,"").replace(/\s*$/,"").split(/\/|\s/);for(let i=0;i<8;i++){const s=n[7-i].replace(/\d/g,o=>{const a=parseInt(o);let c="";for(let u=0;u<a;u++)c+="-";return c});for(let o=0;o<8;o++){const a=s.substring(o,o+1);let c=null;a!=="-"&&(a.toUpperCase()===a?c=`w${a.toLowerCase()}`:c=`b${a}`),this.squares[i*8+o]=c}}}getFen(){let e=new Array(8).fill("");for(let r=0;r<8;r++){let n=0;for(let i=0;i<8;i++){const s=this.squares[r*8+i];if(!s)n++;else{n>0&&(e[7-r]+=n,n=0);const o=s.substring(0,1),a=s.substring(1,2);o==="w"?e[7-r]+=a.toUpperCase():e[7-r]+=a}}n>0&&(e[7-r]+=n,n=0)}return e.join("/")}getPieces(e=["k","q","r","b","n","p"]){const r=[],n=(i,s)=>e.indexOf(i.name)-e.indexOf(s.name);for(let i=0;i<64;i++){const s=this.squares[i];s&&r.push({name:s.charAt(1),color:s.charAt(0),position:k.indexToSquare(i)})}return e&&r.sort(n),r}movePiece(e,r){if(!this.squares[k.squareToIndex(e)]){console.warn("no piece on",e);return}this.squares[k.squareToIndex(r)]=this.squares[k.squareToIndex(e)],this.squares[k.squareToIndex(e)]=void 0}setPiece(e,r){this.squares[k.squareToIndex(e)]=r}getPiece(e){return this.squares[k.squareToIndex(e)]}static squareToIndex(e){const r=e.substring(0,1).charCodeAt(0)-97,n=e.substring(1,2)-1;return 8*n+r}static indexToSquare(e){const r=String.fromCharCode(e%8+97),n=Math.floor(e/8)+1;return r+n}clone(){const e=new k;return e.squares=this.squares.slice(0),e}}function la(){let t,e;const r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}class sm{constructor(){this.position=new k,this.orientation=void 0,this.markers=[],this.inputWhiteEnabled=!1,this.inputBlackEnabled=!1,this.inputEnabled=!1,this.squareSelectEnabled=!1,this.extensionPoints={},this.moveInputProcess=la().resolve()}setPosition(e,r=!1){this.position=new k(e,r)}movePiece(e,r,n=!1){const i=this._position.clone();i.animated=n;const s=i.getPiece(e);s||console.error("no piece on",e),i.setPiece(e,void 0),i.setPiece(r,s),this._position=i}setPiece(e,r,n=!1){const i=this._position.clone();i.animated=n,i.setPiece(e,r),this._position=i}addMarker(e,r){this.markers.push({square:e,type:r})}removeMarkers(e=void 0,r=void 0){!e&&!r?this.markers=[]:this.markers=this.markers.filter(n=>{if(r){if(e){if(n.type===r&&e===n.square)return!1}else if(n.type===r)return!1}else if(e===n.square)return!1;return!0})}invokeExtensionPoints(e,r={}){const n=this.extensionPoints[e],i=Object.assign({},r);if(i.extensionPoint=e,n)for(const s of n)setTimeout(()=>{s(i)})}}const y={waitForInputStart:0,pieceClickedThreshold:1,clickTo:2,secondClickThreshold:3,dragTo:4,clickDragTo:5,moveDone:6,reset:7},Lt={secondClick:"secondClick",movedOutOfBoard:"movedOutOfBoard",draggedBack:"draggedBack",clickedAnotherPiece:"clickedAnotherPiece"},Ss=4;class om{constructor(e,r,n,i){this.view=e,this.chessboard=e.chessboard,this.moveInputStartedCallback=s=>{const o=r(s);return o&&(this.chessboard.state.moveInputProcess=la()),o},this.validateMoveInputCallback=(s,o)=>{const a=n(s,o);return this.chessboard.state.moveInputProcess.resolve(a),a},this.moveInputCanceledCallback=(s,o,a)=>{i(s,o,a),this.chessboard.state.moveInputProcess.resolve()},this.setMoveInputState(y.waitForInputStart)}setMoveInputState(e,r=void 0){const n=this.moveInputState;switch(this.moveInputState=e,e){case y.waitForInputStart:break;case y.pieceClickedThreshold:if(y.waitForInputStart!==n&&y.clickTo!==n)throw new Error("moveInputState");if(this.pointerMoveListener&&(removeEventListener(this.pointerMoveListener.type,this.pointerMoveListener),this.pointerMoveListener=void 0),this.pointerUpListener&&(removeEventListener(this.pointerUpListener.type,this.pointerUpListener),this.pointerUpListener=void 0),this.fromSquare=r.square,this.toSquare=void 0,this.movedPiece=r.piece,this.updateStartEndMarkers(),this.startPoint=r.point,!this.pointerMoveListener&&!this.pointerUpListener)if(r.type==="mousedown")this.pointerMoveListener=this.onPointerMove.bind(this),this.pointerMoveListener.type="mousemove",addEventListener("mousemove",this.pointerMoveListener),this.pointerUpListener=this.onPointerUp.bind(this),this.pointerUpListener.type="mouseup",addEventListener("mouseup",this.pointerUpListener);else if(r.type==="touchstart")this.pointerMoveListener=this.onPointerMove.bind(this),this.pointerMoveListener.type="touchmove",addEventListener("touchmove",this.pointerMoveListener),this.pointerUpListener=this.onPointerUp.bind(this),this.pointerUpListener.type="touchend",addEventListener("touchend",this.pointerUpListener);else throw Error("event type");else throw Error("_pointerMoveListener or _pointerUpListener");break;case y.clickTo:this.draggablePiece&&(O.removeElement(this.draggablePiece),this.draggablePiece=void 0),n===y.dragTo&&this.view.setPieceVisibility(r.square,!0);break;case y.secondClickThreshold:if(y.clickTo!==n)throw new Error("moveInputState");this.startPoint=r.point;break;case y.dragTo:if(y.pieceClickedThreshold!==n)throw new Error("moveInputState");this.view.chessboard.state.inputEnabled&&(this.view.setPieceVisibility(r.square,!1),this.createDraggablePiece(r.piece));break;case y.clickDragTo:if(y.secondClickThreshold!==n)throw new Error("moveInputState");this.view.chessboard.state.inputEnabled&&(this.view.setPieceVisibility(r.square,!1),this.createDraggablePiece(r.piece));break;case y.moveDone:if([y.dragTo,y.clickTo,y.clickDragTo].indexOf(n)===-1)throw new Error("moveInputState");this.toSquare=r.square,this.toSquare&&this.validateMoveInputCallback(this.fromSquare,this.toSquare)?n===y.clickTo?this.chessboard.movePiece(this.fromSquare,this.toSquare,!0).then(()=>{this.setMoveInputState(y.reset)}):this.chessboard.movePiece(this.fromSquare,this.toSquare,!1).then(()=>{this.view.setPieceVisibility(this.toSquare,!0),this.setMoveInputState(y.reset)}):(this.view.setPieceVisibility(this.fromSquare,!0),this.setMoveInputState(y.reset));break;case y.reset:this.fromSquare&&!this.toSquare&&this.movedPiece&&this.chessboard.state.position.setPiece(this.fromSquare,this.movedPiece),this.fromSquare=void 0,this.toSquare=void 0,this.movedPiece=void 0,this.updateStartEndMarkers(),this.draggablePiece&&(O.removeElement(this.draggablePiece),this.draggablePiece=void 0),this.pointerMoveListener&&(removeEventListener(this.pointerMoveListener.type,this.pointerMoveListener),this.pointerMoveListener=void 0),this.pointerUpListener&&(removeEventListener(this.pointerUpListener.type,this.pointerUpListener),this.pointerUpListener=void 0),this.setMoveInputState(y.waitForInputStart);break;default:throw Error(`moveInputState ${e}`)}}createDraggablePiece(e){if(this.draggablePiece)throw Error("draggablePiece exists");this.draggablePiece=O.createSvg(document.body),this.draggablePiece.classList.add("cm-chessboard-draggable-piece"),this.draggablePiece.setAttribute("width",this.view.squareWidth),this.draggablePiece.setAttribute("height",this.view.squareHeight),this.draggablePiece.setAttribute("style","pointer-events: none"),this.draggablePiece.name=e;const r=this.chessboard.props.sprite.cache?"":this.chessboard.props.sprite.url,n=O.addElement(this.draggablePiece,"use",{href:`${r}#${e}`}),i=this.view.squareHeight/this.chessboard.props.sprite.size,s=this.draggablePiece.createSVGTransform();s.setScale(i,i),n.transform.baseVal.appendItem(s)}moveDraggablePiece(e,r){this.draggablePiece.setAttribute("style",`pointer-events: none; position: absolute; left: ${e-this.view.squareHeight/2}px; top: ${r-this.view.squareHeight/2}px`)}onPointerDown(e){if(e.type==="mousedown"&&e.button===0||e.type==="touchstart"){const r=e.target.getAttribute("data-square");if(r){const n=this.chessboard.getPiece(r);let i;if(n&&(i=n?n.substring(0,1):void 0,(i==="w"&&this.chessboard.state.inputWhiteEnabled||i==="b"&&this.chessboard.state.inputBlackEnabled)&&e.preventDefault()),this.moveInputState!==y.waitForInputStart||this.chessboard.state.inputWhiteEnabled&&i==="w"||this.chessboard.state.inputBlackEnabled&&i==="b"){let s;if(e.type==="mousedown"?s={x:e.clientX,y:e.clientY}:e.type==="touchstart"&&(s={x:e.touches[0].clientX,y:e.touches[0].clientY}),this.moveInputState===y.waitForInputStart&&n&&this.moveInputStartedCallback(r))this.setMoveInputState(y.pieceClickedThreshold,{square:r,piece:n,point:s,type:e.type});else if(this.moveInputState===y.clickTo)if(r===this.fromSquare)this.setMoveInputState(y.secondClickThreshold,{square:r,piece:n,point:s,type:e.type});else{const o=this.chessboard.getPiece(r),a=o?o.substring(0,1):void 0,c=this.chessboard.getPiece(this.fromSquare),u=c?c.substring(0,1):void 0;i&&u===a?(this.moveInputCanceledCallback(Lt.clickedAnotherPiece,this.fromSquare,r),this.moveInputStartedCallback(r)?this.setMoveInputState(y.pieceClickedThreshold,{square:r,piece:o,point:s,type:e.type}):this.setMoveInputState(y.reset)):this.setMoveInputState(y.moveDone,{square:r})}}}}}onPointerMove(e){let r,n,i,s,o;if(e.type==="mousemove"?(i=e.clientX,s=e.clientY,r=e.pageX,n=e.pageY,o=e.target):e.type==="touchmove"&&(i=e.touches[0].clientX,s=e.touches[0].clientY,r=e.touches[0].pageX,n=e.touches[0].pageY,o=document.elementFromPoint(i,s)),this.moveInputState===y.pieceClickedThreshold||this.moveInputState===y.secondClickThreshold)(Math.abs(this.startPoint.x-i)>Ss||Math.abs(this.startPoint.y-s)>Ss)&&(this.moveInputState===y.secondClickThreshold?this.setMoveInputState(y.clickDragTo,{square:this.fromSquare,piece:this.movedPiece}):this.setMoveInputState(y.dragTo,{square:this.fromSquare,piece:this.movedPiece}),this.view.chessboard.state.inputEnabled&&this.moveDraggablePiece(r,n));else if(this.moveInputState===y.dragTo||this.moveInputState===y.clickDragTo||this.moveInputState===y.clickTo){if(o&&o.getAttribute&&o.parentElement===this.view.boardGroup){const a=o.getAttribute("data-square");a!==this.fromSquare&&a!==this.toSquare?(this.toSquare=a,this.updateStartEndMarkers()):a===this.fromSquare&&this.toSquare!==void 0&&(this.toSquare=void 0,this.updateStartEndMarkers())}else this.toSquare!==void 0&&(this.toSquare=void 0,this.updateStartEndMarkers());this.view.chessboard.state.inputEnabled&&(this.moveInputState===y.dragTo||this.moveInputState===y.clickDragTo)&&this.moveDraggablePiece(r,n)}}onPointerUp(e){let r;if(e.type==="mouseup"?r=e.target:e.type==="touchend"&&(r=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY)),r&&r.getAttribute){const n=r.getAttribute("data-square");if(n)this.moveInputState===y.dragTo||this.moveInputState===y.clickDragTo?this.fromSquare===n?this.moveInputState===y.clickDragTo?(this.chessboard.state.position.setPiece(this.fromSquare,this.movedPiece),this.view.setPieceVisibility(this.fromSquare),this.moveInputCanceledCallback(Lt.draggedBack,n,n),this.setMoveInputState(y.reset)):this.setMoveInputState(y.clickTo,{square:n}):this.setMoveInputState(y.moveDone,{square:n}):this.moveInputState===y.pieceClickedThreshold?this.setMoveInputState(y.clickTo,{square:n}):this.moveInputState===y.secondClickThreshold&&(this.setMoveInputState(y.reset),this.moveInputCanceledCallback(Lt.secondClick,n,n));else{this.view.redrawPieces();const i=this.fromSquare;this.setMoveInputState(y.reset),this.moveInputCanceledCallback(Lt.movedOutOfBoard,i,void 0)}}else this.view.redrawPieces(),this.setMoveInputState(y.reset)}updateStartEndMarkers(){this.chessboard.props.style.moveFromMarker&&this.chessboard.state.removeMarkers(void 0,this.chessboard.props.style.moveFromMarker),this.chessboard.props.style.moveToMarker&&this.chessboard.state.removeMarkers(void 0,this.chessboard.props.style.moveToMarker),this.chessboard.props.style.moveFromMarker&&this.fromSquare&&this.chessboard.state.addMarker(this.fromSquare,this.chessboard.props.style.moveFromMarker),this.chessboard.props.style.moveToMarker&&this.toSquare&&this.chessboard.state.addMarker(this.toSquare,this.chessboard.props.style.moveToMarker),this.view.drawMarkers()}reset(){this.setMoveInputState(y.reset)}destroy(){this.reset()}}const V={positionChanged:"positionChanged",boardChanged:"boardChanged",moveInputToggled:"moveInputToggled",moveInput:"moveInput",moveInputStateChanged:"moveInput",destroy:"destroy",redrawBoard:"redrawBoard"};class am{constructor(e){this.chessboard=e,this.moveInput=new om(this,this.moveInputStartedCallback.bind(this),this.validateMoveInputCallback.bind(this),this.moveInputCanceledCallback.bind(this)),e.props.sprite.cache&&this.cacheSpriteToDiv("chessboardSpriteCache",this.chessboard.props.sprite.url),this.context=document.createElement("div"),this.chessboard.context.appendChild(this.context),e.props.responsive&&(typeof ResizeObserver<"u"?(this.resizeObserver=new ResizeObserver(()=>{this.handleResize()}),this.resizeObserver.observe(this.chessboard.context)):(this.resizeListener=this.handleResize.bind(this),window.addEventListener("resize",this.resizeListener))),this.pointerDownListener=this.pointerDownHandler.bind(this),this.pointerDownListener=this.pointerDownHandler.bind(this),this.context.addEventListener("mousedown",this.pointerDownListener),this.context.addEventListener("touchstart",this.pointerDownListener),this.createSvgAndGroups(),this.updateMetrics(),this.handleResize(),this.redrawBoard()}pointerDownHandler(e){this.moveInput.onPointerDown(e)}destroy(){this.moveInput.destroy(),this.resizeObserver&&this.resizeObserver.unobserve(this.chessboard.context),this.resizeListener&&window.removeEventListener("resize",this.resizeListener),this.chessboard.context.removeEventListener("mousedown",this.pointerDownListener),this.chessboard.context.removeEventListener("touchstart",this.pointerDownListener),this.animationQueue=[],this.currentAnimation&&cancelAnimationFrame(this.currentAnimation.frameHandle),O.removeElement(this.svg)}cacheSpriteToDiv(e,r){if(!document.getElementById(e)){const n=document.createElement("div");n.style.display="none",n.id=e,document.body.appendChild(n);const i=new XMLHttpRequest;i.open("GET",r,!0),i.onload=function(){n.insertAdjacentHTML("afterbegin",i.response)},i.send()}}createSvgAndGroups(){this.svg=O.createSvg(this.context);let e=this.chessboard.props.style.cssClass?this.chessboard.props.style.cssClass:"default";this.svg.setAttribute("class","cm-chessboard border-type-"+this.chessboard.props.style.borderType+" "+e),this.svg.setAttribute("role","img"),this.updateMetrics(),this.boardGroup=O.addElement(this.svg,"g",{class:"board"}),this.coordinatesGroup=O.addElement(this.svg,"g",{class:"coordinates"}),this.markersLayer=O.addElement(this.svg,"g",{class:"markers-layer"}),this.markersGroup=O.addElement(this.markersLayer,"g",{class:"markers"}),this.piecesLayer=O.addElement(this.svg,"g",{class:"pieces-layer"}),this.piecesGroup=O.addElement(this.piecesLayer,"g",{class:"pieces"})}updateMetrics(){this.width=this.context.clientWidth,this.height=this.context.clientWidth*(this.chessboard.props.style.aspectRatio||1),this.chessboard.props.style.borderType===Fe.frame?this.borderSize=this.width/25:this.chessboard.props.style.borderType===Fe.thin?this.borderSize=this.width/320:this.borderSize=0,this.innerWidth=this.width-2*this.borderSize,this.innerHeight=this.height-2*this.borderSize,this.squareWidth=this.innerWidth/8,this.squareHeight=this.innerHeight/8,this.scalingX=this.squareWidth/this.chessboard.props.sprite.size,this.scalingY=this.squareHeight/this.chessboard.props.sprite.size,this.pieceXTranslate=this.squareWidth/2-this.chessboard.props.sprite.size*this.scalingY/2}handleResize(){this.context.style.width=this.chessboard.context.clientWidth+"px",this.context.style.height=this.chessboard.context.clientWidth*this.chessboard.props.style.aspectRatio+"px",(this.context.clientWidth!==this.width||this.context.clientHeight!==this.height)&&(this.updateMetrics(),this.redrawBoard(),this.redrawPieces()),this.svg.setAttribute("width","100%"),this.svg.setAttribute("height","100%")}redrawBoard(){this.redrawSquares(),this.drawCoordinates(),this.drawMarkers(),this.chessboard.state.invokeExtensionPoints(V.redrawBoard),this.visualizeInputState()}redrawSquares(){for(;this.boardGroup.firstChild;)this.boardGroup.removeChild(this.boardGroup.lastChild);if(O.addElement(this.boardGroup,"rect",{width:this.width,height:this.height}).setAttribute("class","border"),this.chessboard.props.style.borderType===Fe.frame){const r=this.borderSize;O.addElement(this.boardGroup,"rect",{x:r,y:r,width:this.width-r*2,height:this.height-r*2}).setAttribute("class","border-inner")}for(let r=0;r<64;r++){const n=this.chessboard.state.orientation===ve.white?r:63-r,s=`square ${(9*n&8)===0?"black":"white"}`,o=this.squareToPoint(k.indexToSquare(n)),a=O.addElement(this.boardGroup,"rect",{x:o.x,y:o.y,width:this.squareWidth,height:this.squareHeight});a.setAttribute("class",s),a.setAttribute("data-square",k.indexToSquare(n))}}drawCoordinates(){if(!this.chessboard.props.style.showCoordinates)return;for(;this.coordinatesGroup.firstChild;)this.coordinatesGroup.removeChild(this.coordinatesGroup.lastChild);const e=this.chessboard.props.style.borderType!==Fe.frame;for(let r=0;r<8;r++){let n=this.borderSize+(17+this.chessboard.props.sprite.size*r)*this.scalingX,i=this.height-this.scalingY*3.5,s="coordinate file";e&&(n=n+this.scalingX*15.5,s+=r%2?" white":" black");const o=O.addElement(this.coordinatesGroup,"text",{class:s,x:n,y:i,style:`font-size: ${this.scalingY*10}px`});this.chessboard.state.orientation===ve.white?o.textContent=String.fromCharCode(97+r):o.textContent=String.fromCharCode(104-r)}for(let r=0;r<8;r++){let n=this.borderSize/3.7,i=this.borderSize+25*this.scalingY+r*this.squareHeight,s="coordinate rank";e&&(s+=r%2?" black":" white",this.chessboard.props.style.borderType===Fe.frame?(n=n+this.scalingX*10,i=i-this.scalingY*15):(n=n+this.scalingX*2,i=i-this.scalingY*15));const o=O.addElement(this.coordinatesGroup,"text",{class:s,x:n,y:i,style:`font-size: ${this.scalingY*10}px`});this.chessboard.state.orientation===ve.white?o.textContent=""+(8-r):o.textContent=""+(1+r)}}redrawPieces(e=this.chessboard.state.position.squares){const r=Array.from(this.piecesGroup.childNodes);for(let n=0;n<64;n++){const i=e[n];i&&this.drawPiece(k.indexToSquare(n),i)}for(const n of r)this.piecesGroup.removeChild(n)}drawPiece(e,r){const n=O.addElement(this.piecesGroup,"g");n.setAttribute("data-piece",r),n.setAttribute("data-square",e);const i=this.squareToPoint(e),s=this.svg.createSVGTransform();s.setTranslate(i.x,i.y),n.transform.baseVal.appendItem(s);const o=this.chessboard.props.sprite.cache?"":this.chessboard.props.sprite.url,a=O.addElement(n,"use",{href:`${o}#${r}`,class:"piece"}),c=this.svg.createSVGTransform();c.setTranslate(this.pieceXTranslate,0),a.transform.baseVal.appendItem(c);const u=this.svg.createSVGTransform();return u.setScale(this.scalingY,this.scalingY),a.transform.baseVal.appendItem(u),n}setPieceVisibility(e,r=!0){const n=this.getPieceElement(e);n?r?n.setAttribute("visibility","visible"):n.setAttribute("visibility","hidden"):console.warn("no piece on",e)}getPieceElement(e){if(e.length<2)throw new Error("980e03");const r=this.piecesGroup.querySelector(`g[data-square='${e}']`);return r||console.warn("no piece on",e),r}drawMarkers(){for(;this.markersGroup.firstChild;)this.markersGroup.removeChild(this.markersGroup.firstChild);this.chessboard.state.markers.forEach(e=>{this.drawMarker(e)})}drawMarker(e){const r=O.addElement(this.markersGroup,"g");r.setAttribute("data-square",e.square);const n=this.squareToPoint(e.square),i=this.svg.createSVGTransform();i.setTranslate(n.x,n.y),r.transform.baseVal.appendItem(i);const s=this.chessboard.props.sprite.cache?"":this.chessboard.props.sprite.url,o=O.addElement(r,"use",{href:`${s}#${e.type.slice}`,class:"marker "+e.type.class}),a=this.svg.createSVGTransform();return a.setScale(this.scalingX,this.scalingY),o.transform.baseVal.appendItem(a),r}enableMoveInput(e,r=void 0){r===ve.white?this.chessboard.state.inputWhiteEnabled=!0:r===ve.black?this.chessboard.state.inputBlackEnabled=!0:(this.chessboard.state.inputWhiteEnabled=!0,this.chessboard.state.inputBlackEnabled=!0),this.chessboard.state.inputEnabled=!0,this.moveInputCallback=e,this.chessboard.state.invokeExtensionPoints(V.moveInputToggled,{enabled:!0,color:r}),this.visualizeInputState()}disableMoveInput(){this.chessboard.state.inputWhiteEnabled=!1,this.chessboard.state.inputBlackEnabled=!1,this.chessboard.state.inputEnabled=!1,this.moveInputCallback=void 0,this.chessboard.state.invokeExtensionPoints(V.moveInputToggled,{enabled:!1}),this.visualizeInputState()}moveInputStartedCallback(e){const r={chessboard:this.chessboard,type:Lr.moveInputStarted,square:e};return this.chessboard.state.invokeExtensionPoints(V.moveInput,r),this.moveInputCallback?this.moveInputCallback(r):!0}validateMoveInputCallback(e,r){const n={chessboard:this.chessboard,type:Lr.validateMoveInput,squareFrom:e,squareTo:r};return this.chessboard.state.invokeExtensionPoints(V.moveInput,n),this.moveInputCallback?this.moveInputCallback(n):!0}moveInputCanceledCallback(e,r,n){const i={chessboard:this.chessboard,type:Lr.moveInputCanceled,reason:e,squareFrom:r,squareTo:n};this.chessboard.state.invokeExtensionPoints(V.moveInput,i),this.moveInputCallback&&this.moveInputCallback(i)}visualizeInputState(){this.chessboard.state&&(this.chessboard.state.inputWhiteEnabled||this.chessboard.state.inputBlackEnabled||this.chessboard.state.squareSelectEnabled?this.boardGroup.setAttribute("class","board input-enabled"):this.boardGroup.setAttribute("class","board"))}indexToPoint(e){let r,n;return this.chessboard.state.orientation===ve.white?(r=this.borderSize+e%8*this.squareWidth,n=this.borderSize+(7-Math.floor(e/8))*this.squareHeight):(r=this.borderSize+(7-e%8)*this.squareWidth,n=this.borderSize+Math.floor(e/8)*this.squareHeight),{x:r,y:n}}squareToPoint(e){const r=k.squareToIndex(e);return this.indexToPoint(r)}}const Is="http://www.w3.org/2000/svg";class O{static createSvg(e=void 0){let r=document.createElementNS(Is,"svg");return e&&(r.setAttribute("width","100%"),r.setAttribute("height","100%"),e.appendChild(r)),r}static addElement(e,r,n,i=void 0){let s=document.createElementNS(Is,r);r==="use"&&(n["xlink:href"]=n.href);for(let o in n)if(n.hasOwnProperty(o))if(o.indexOf(":")!==-1){const a=o.split(":");s.setAttributeNS("http://www.w3.org/1999/"+a[0],a[1],n[o])}else s.setAttribute(o,n[o]);return i!==void 0?e.appendChild(s):e.insertBefore(s,i),s}static removeElement(e){e.parentNode?e.parentNode.removeChild(e):console.warn(e,"without parentNode")}}class cm{constructor(){this.queue=[],this.workingOnPromise=!1,this.stop=!1}async enqueue(e){return new Promise((r,n)=>{this.queue.push({promise:e,resolve:r,reject:n}),this.dequeue()})}dequeue(){if(this.workingOnPromise)return;if(this.stop){this.queue=[],this.stop=!1;return}const e=this.queue.shift();if(!!e){try{this.workingOnPromise=!0,e.promise().then(r=>{this.workingOnPromise=!1,e.resolve(r),this.dequeue()}).catch(r=>{this.workingOnPromise=!1,e.reject(r),this.dequeue()})}catch(r){this.workingOnPromise=!1,e.reject(r),this.dequeue()}return!0}}destroy(){this.stop=!0}}const oe={move:0,appear:1,disappear:2};class ze{constructor(e,r,n,i,s){this.view=e,r&&n?(this.animatedElements=this.createAnimation(r.squares,n.squares),this.duration=i,this.callback=s,this.frameHandle=requestAnimationFrame(this.animationStep.bind(this))):console.error("fromPosition",r,"toPosition",n)}static seekChanges(e,r){const n=[],i=[],s=[];for(let o=0;o<64;o++){const a=e[o],c=r[o];c!==a&&(c&&n.push({piece:c,index:o}),a&&i.push({piece:a,index:o}))}return n.forEach(o=>{let a=8,c;i.forEach(u=>{if(o.piece===u.piece){const l=ze.squareDistance(o.index,u.index);l<a&&(c=u,a=l)}}),c?(i.splice(i.indexOf(c),1),s.push({type:oe.move,piece:o.piece,atIndex:c.index,toIndex:o.index})):s.push({type:oe.appear,piece:o.piece,atIndex:o.index})}),i.forEach(o=>{s.push({type:oe.disappear,piece:o.piece,atIndex:o.index})}),s}createAnimation(e,r){const n=ze.seekChanges(e,r),i=[];return n.forEach(s=>{const o={type:s.type};switch(s.type){case oe.move:o.element=this.view.getPieceElement(k.indexToSquare(s.atIndex)),o.element.parentNode.appendChild(o.element),o.atPoint=this.view.indexToPoint(s.atIndex),o.toPoint=this.view.indexToPoint(s.toIndex);break;case oe.appear:o.element=this.view.drawPiece(k.indexToSquare(s.atIndex),s.piece),o.element.style.opacity=0;break;case oe.disappear:o.element=this.view.getPieceElement(k.indexToSquare(s.atIndex));break}i.push(o)}),i}animationStep(e){this.startTime||(this.startTime=e);const r=e-this.startTime;if(r<=this.duration)this.frameHandle=requestAnimationFrame(this.animationStep.bind(this));else{cancelAnimationFrame(this.frameHandle),this.animatedElements.forEach(s=>{s.type===oe.disappear&&O.removeElement(s.element)}),this.callback();return}const n=Math.min(1,r/this.duration);let i=n<.5?2*n*n:-1+(4-2*n)*n;isNaN(i)&&(i=1),this.animatedElements.forEach(s=>{if(s.element)switch(s.type){case oe.move:s.element.transform.baseVal.removeItem(0);const o=this.view.svg.createSVGTransform();o.setTranslate(s.atPoint.x+(s.toPoint.x-s.atPoint.x)*i,s.atPoint.y+(s.toPoint.y-s.atPoint.y)*i),s.element.transform.baseVal.appendItem(o);break;case oe.appear:s.element.style.opacity=Math.round(i*100)/100;break;case oe.disappear:s.element.style.opacity=Math.round((1-i)*100)/100;break}else console.warn("animatedItem has no element",s)})}static squareDistance(e,r){const n=e%8,i=Math.floor(e/8),s=r%8,o=Math.floor(r/8);return Math.max(Math.abs(o-i),Math.abs(s-n))}}class um extends cm{constructor(e){super(),this.chessboard=e}async enqueuePositionChange(e,r,n){return e.getFen()===r.getFen()?Promise.resolve():super.enqueue(()=>new Promise(i=>{let s=n?this.chessboard.props.animationDuration:0;this.queue.length>0&&(s=s/(1+Math.pow(this.queue.length/5,2))),new ze(this.chessboard.view,e,r,n?s:0,()=>{this.chessboard.view&&this.chessboard.view.redrawPieces(r.squares),i()})}))}async enqueueTurnBoard(e,r,n){return super.enqueue(()=>new Promise(i=>{const s=new k(it.empty);let o=n?this.chessboard.props.animationDuration:0;this.queue.length>0&&(o=o/(1+Math.pow(this.queue.length/5,2))),new ze(this.chessboard.view,e,s,n?o:0,()=>{this.chessboard.state.orientation=r,this.chessboard.view.redrawBoard(),this.chessboard.view.redrawPieces(s.squares),new ze(this.chessboard.view,s,e,n?o:0,()=>{this.chessboard.view.redrawPieces(e.squares),i()})})}))}}const ve={white:"w",black:"b"},Lr={moveStart:"moveInputStarted",moveInputStarted:"moveInputStarted",moveDone:"validateMoveInput",validateMoveInput:"validateMoveInput",moveCanceled:"moveInputCanceled",moveInputCanceled:"moveInputCanceled"},$s={primary:"primary",secondary:"secondary"},Fe={none:"none",thin:"thin",frame:"frame"},Ps={frame:{class:"marker-frame",slice:"markerFrame"},square:{class:"marker-square",slice:"markerSquare"},dot:{class:"marker-dot",slice:"markerDot"},circle:{class:"marker-circle",slice:"markerCircle"}};class lm{constructor(e,r={}){if(!e)throw new Error("container element is "+e);this.context=e,this.id=(Math.random()+1).toString(36).substring(2,8),this.extensions=[];let n={position:it.empty,orientation:ve.white,responsive:!0,animationDuration:300,language:navigator.language.substring(0,2).toLowerCase(),style:{cssClass:"default",showCoordinates:!0,borderType:Fe.none,aspectRatio:1,moveFromMarker:Ps.frame,moveToMarker:Ps.frame},sprite:{url:"./assets/images/chessboard-sprite.svg",size:40,cache:!0},extensions:[]};this.props={},Object.assign(this.props,n),Object.assign(this.props,r),this.props.sprite=n.sprite,this.props.style=n.style,r.sprite&&Object.assign(this.props.sprite,r.sprite),r.style&&Object.assign(this.props.style,r.style),r.extensions&&(this.props.extensions=r.extensions),this.props.language!=="de"&&this.props.language!=="en"&&(this.props.language="en"),this.state=new sm,this.view=new am(this),this.positionAnimationsQueue=new um(this),this.state.orientation=this.props.orientation;for(const i of this.props.extensions)this.extensions.push(new i.class(this,i.props));this.view.redrawBoard(),this.state.position=new k(this.props.position),this.view.redrawPieces(),this.state.invokeExtensionPoints(V.positionChanged)}async setPiece(e,r,n=!1){const i=this.state.position.clone();return this.state.position.setPiece(e,r),this.state.invokeExtensionPoints(V.positionChanged),this.positionAnimationsQueue.enqueuePositionChange(i,this.state.position.clone(),n)}async movePiece(e,r,n=!1){const i=this.state.position.clone();return this.state.position.movePiece(e,r),this.state.invokeExtensionPoints(V.positionChanged),this.positionAnimationsQueue.enqueuePositionChange(i,this.state.position.clone(),n)}async setPosition(e,r=!1){const n=this.state.position.clone(),i=new k(e);return n.getFen()!==i.getFen()&&(this.state.position.setFen(e),this.state.invokeExtensionPoints(V.positionChanged)),this.positionAnimationsQueue.enqueuePositionChange(n,this.state.position.clone(),r)}async setOrientation(e,r=!1){const n=this.state.position.clone();if(this.boardTurning){console.log("setOrientation is only once in queue allowed");return}return this.boardTurning=!0,this.positionAnimationsQueue.enqueueTurnBoard(n,e,r).then(()=>{this.boardTurning=!1,this.state.invokeExtensionPoints(V.boardChanged)})}getPiece(e){return this.state.position.getPiece(e)}getPosition(){return this.state.position.getFen()}getOrientation(){return this.state.orientation}addMarker(e,r){if(typeof e=="string"||typeof r=="object"){console.error("changed the signature of `addMarker` to `(type, square)` with v5.1.x");return}this.state.addMarker(r,e),this.view.drawMarkers()}getMarkers(e=void 0,r=void 0){if(typeof e=="string"||typeof r=="object"){console.error("changed the signature of `getMarkers` to `(type, square)` with v5.1.x");return}const n=[];return this.state.markers.forEach(i=>{const s=i.square;(!r&&(!e||e===i.type)||!e&&r===s||e===i.type&&r===s)&&n.push({square:i.square,type:i.type})}),n}removeMarkers(e=void 0,r=void 0){if(typeof e=="string"||typeof r=="object"){console.error("changed the signature of `removeMarkers` to `(type, square)` with v5.1.x");return}this.state.removeMarkers(r,e),this.view.drawMarkers()}enableMoveInput(e,r=void 0){this.view.enableMoveInput(e,r)}disableMoveInput(){this.view.disableMoveInput()}enableSquareSelect(e){if(this.squareSelectListener){console.warn("squareSelectListener already existing");return}this.squareSelectListener=function(r){const n=r.target.getAttribute("data-square");if(r.type==="contextmenu"){r.preventDefault();return}e({chessboard:this,type:r.button===2?$s.secondary:$s.primary,square:n})},this.context.addEventListener("contextmenu",this.squareSelectListener),this.context.addEventListener("mouseup",this.squareSelectListener),this.context.addEventListener("touchend",this.squareSelectListener),this.state.squareSelectEnabled=!0,this.view.visualizeInputState()}disableSquareSelect(){this.context.removeEventListener("contextmenu",this.squareSelectListener),this.context.removeEventListener("mouseup",this.squareSelectListener),this.context.removeEventListener("touchend",this.squareSelectListener),this.squareSelectListener=void 0,this.state.squareSelectEnabled=!1,this.view.visualizeInputState()}destroy(){this.state.invokeExtensionPoints(V.destroy),this.positionAnimationsQueue.destroy(),this.view.destroy(),this.view=void 0,this.state=void 0,this.squareSelectListener&&(this.context.removeEventListener("contextmenu",this.squareSelectListener),this.context.removeEventListener("mouseup",this.squareSelectListener),this.context.removeEventListener("touchend",this.squareSelectListener))}}const fm="/noboardchess/assets/chessboard-sprite-staunty.485981d8.svg";function hm(t){let e,r,n,i,s,o,a,c,u,l,h,d,f,v,b,p,g,m,S,x,B;return{c(){e=$("div"),r=$("div"),r.innerHTML='<div id="chessboard"></div>',n=N(),i=$("div"),s=$("button"),o=$("img"),c=N(),u=$("button"),l=$("img"),d=N(),f=$("button"),v=$("img"),p=N(),g=$("button"),m=$("img"),w(r,"id","container"),w(r,"class","svelte-1g5yj9o"),Ee(o.src,a=tm)||w(o,"src",a),w(o,"alt","first"),w(o,"class","svelte-1g5yj9o"),Ee(l.src,h=em)||w(l,"src",h),w(l,"alt","prev"),w(l,"class","svelte-1g5yj9o"),Ee(v.src,b=Zg)||w(v,"src",b),w(v,"alt","next"),w(v,"class","svelte-1g5yj9o"),Ee(m.src,S=rm)||w(m,"src",S),w(m,"alt","last"),w(m,"class","svelte-1g5yj9o"),w(i,"id","controls"),w(i,"class","svelte-1g5yj9o"),w(e,"id","board"),w(e,"class","svelte-1g5yj9o")},m(I,F){j(I,e,F),_(e,r),_(e,n),_(e,i),_(i,s),_(s,o),_(i,c),_(i,u),_(u,l),_(i,d),_(i,f),_(f,v),_(i,p),_(i,g),_(g,m),x||(B=[_e(s,"click",t[0]),_e(u,"click",t[1]),_e(f,"click",t[2]),_e(g,"click",t[3])],x=!0)},p:P,i:P,o:P,d(I){I&&A(e),x=!1,Ce(B)}}}function dm(t,e,r){let n;G(t,ge,l=>r(6,n=l));let i;Gs(()=>{r(5,i=new lm(document.getElementById("chessboard"),{position:n.fen,orientation:n.fen.split(" ")[1]==="b"?ve.white:ve.black,sprite:{url:fm},style:{cssClass:"black-and-white"}}))});let{activeFenIndex:s=0}=e;const o=()=>{r(4,s=0)},a=()=>{s&&r(4,s--,s)},c=()=>{s<n.san_moves.length&&r(4,s++,s)},u=()=>{r(4,s=n.san_moves.length)};return t.$$set=l=>{"activeFenIndex"in l&&r(4,s=l.activeFenIndex)},t.$$.update=()=>{t.$$.dirty&112&&i&&i.setPosition(n.fens[s],!0)},[o,a,c,u,s,i,n]}class vm extends he{constructor(e){super(),fe(this,e,dm,hm,ne,{activeFenIndex:4})}}function pm(t){let e,r,n;function i(o){t[5](o)}let s={direction:"column"};return t[0]!==void 0&&(s.activeFenIndex=t[0]),e=new Bn({props:s}),le.push(()=>Ie(e,"activeFenIndex",i)),{c(){re(e.$$.fragment)},m(o,a){X(e,o,a),n=!0},p(o,a){const c={};!r&&a&1&&(r=!0,c.activeFenIndex=o[0],Se(()=>r=!1)),e.$set(c)},i(o){n||(M(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function gm(t){let e,r,n;function i(o){t[4](o)}let s={direction:"row"};return t[0]!==void 0&&(s.activeFenIndex=t[0]),e=new Bn({props:s}),le.push(()=>Ie(e,"activeFenIndex",i)),{c(){re(e.$$.fragment)},m(o,a){X(e,o,a),n=!0},p(o,a){const c={};!r&&a&1&&(r=!0,c.activeFenIndex=o[0],Se(()=>r=!1)),e.$set(c)},i(o){n||(M(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function mm(t){let e,r,n,i,s,o,a,c,u,l;Ht(t[2]);function h(p){t[3](p)}let d={};t[0]!==void 0&&(d.activeFenIndex=t[0]),r=new vm({props:d}),le.push(()=>Ie(r,"activeFenIndex",h));const f=[gm,pm],v=[];function b(p,g){return p[1]<Fr?0:1}return o=b(t),a=v[o]=f[o](t),{c(){e=$("div"),re(r.$$.fragment),i=N(),s=$("div"),a.c(),w(e,"id","answer"),w(e,"class","svelte-cm1e28"),Un(e,"flex-direction",t[1]<Fr?"column":"row",!1)},m(p,g){j(p,e,g),X(r,e,null),_(e,i),_(e,s),v[o].m(s,null),c=!0,u||(l=_e(window,"resize",t[2]),u=!0)},p(p,[g]){const m={};!n&&g&1&&(n=!0,m.activeFenIndex=p[0],Se(()=>n=!1)),r.$set(m);let S=o;o=b(p),o===S?v[o].p(p,g):(er(),R(v[S],1,1,()=>{v[S]=null}),tr(),a=v[o],a?a.p(p,g):(a=v[o]=f[o](p),a.c()),M(a,1),a.m(s,null)),g&2&&Un(e,"flex-direction",p[1]<Fr?"column":"row",!1)},i(p){c||(M(r.$$.fragment,p),M(a),c=!0)},o(p){R(r.$$.fragment,p),R(a),c=!1},d(p){p&&A(e),K(r),v[o].d(),u=!1,l()}}}const Fr=800;function bm(t,e,r){let n=0,i;function s(){r(1,i=window.innerWidth)}function o(u){n=u,r(0,n)}function a(u){n=u,r(0,n)}function c(u){n=u,r(0,n)}return[n,i,s,o,a,c]}class ym extends he{constructor(e){super(),fe(this,e,bm,mm,ne,{})}}const wm="/noboardchess/assets/heart.8da15a2b.svg",_m="/noboardchess/assets/broken_heart.dc79b59f.svg";function Es(t,e,r){const n=t.slice();return n[7]=e[r],n}function Ts(t,e,r){const n=t.slice();return n[7]=e[r],n}function xs(t){let e,r;return{c(){e=$("img"),Ee(e.src,r=wm)||w(e,"src",r),w(e,"alt","heart"),w(e,"class","heart svelte-1xhoy2m")},m(n,i){j(n,e,i)},p:P,d(n){n&&A(e)}}}function Os(t){let e,r;return{c(){e=$("img"),Ee(e.src,r=_m)||w(e,"src",r),w(e,"alt","broken heart"),w(e,"class","broken-heart svelte-1xhoy2m")},m(n,i){j(n,e,i)},p:P,d(n){n&&A(e)}}}function ks(t){let e,r=t[3]<t[2]?"next":"restart",n,i,s;return{c(){e=$("button"),n=U(r)},m(o,a){j(o,e,a),_(e,n),i||(s=_e(e,"click",t[6]),i=!0)},p(o,a){a&12&&r!==(r=o[3]<o[2]?"next":"restart")&&xe(n,r)},d(o){o&&A(e),i=!1,s()}}}function Sm(t){let e,r,n,i,s,o,a,c,u,l,h,d,f,v=t[5].elo+"",b,p,g,m,S=t[5].n_pieces+"",x,B=Array(t[2]-t[3]),I=[];for(let E=0;E<B.length;E+=1)I[E]=xs(Ts(t,B,E));let F=Array(t[3]),C=[];for(let E=0;E<F.length;E+=1)C[E]=Os(Es(t,F,E));let D=!t[0]&&ks(t);return{c(){e=$("div"),r=$("div"),n=U("#"),i=U(t[1]),s=N(),o=$("div");for(let E=0;E<I.length;E+=1)I[E].c();a=N();for(let E=0;E<C.length;E+=1)C[E].c();c=N(),D&&D.c(),u=N(),l=$("div"),h=$("ul"),d=$("li"),f=U("Rating: "),b=U(v),p=N(),g=$("li"),m=U("Number of pieces: "),x=U(S),w(r,"id","level"),w(r,"class","svelte-1xhoy2m"),w(o,"id","lives"),w(o,"class","svelte-1xhoy2m"),w(h,"class","svelte-1xhoy2m"),w(l,"class","svelte-1xhoy2m"),w(e,"id","infos"),w(e,"class","svelte-1xhoy2m")},m(E,se){j(E,e,se),_(e,r),_(r,n),_(r,i),_(e,s),_(e,o);for(let T=0;T<I.length;T+=1)I[T].m(o,null);_(o,a);for(let T=0;T<C.length;T+=1)C[T].m(o,null);_(e,c),D&&D.m(e,null),_(e,u),_(e,l),_(l,h),_(h,d),_(d,f),_(d,b),_(h,p),_(h,g),_(g,m),_(g,x)},p(E,[se]){if(se&2&&xe(i,E[1]),se&12){B=Array(E[2]-E[3]);let T;for(T=0;T<B.length;T+=1){const ar=Ts(E,B,T);I[T]?I[T].p(ar,se):(I[T]=xs(),I[T].c(),I[T].m(o,a))}for(;T<I.length;T+=1)I[T].d(1);I.length=B.length}if(se&8){F=Array(E[3]);let T;for(T=0;T<F.length;T+=1){const ar=Es(E,F,T);C[T]?C[T].p(ar,se):(C[T]=Os(),C[T].c(),C[T].m(o,null))}for(;T<C.length;T+=1)C[T].d(1);C.length=F.length}E[0]?D&&(D.d(1),D=null):D?D.p(E,se):(D=ks(E),D.c(),D.m(e,u)),se&32&&v!==(v=E[5].elo+"")&&xe(b,v),se&32&&S!==(S=E[5].n_pieces+"")&&xe(x,S)},i:P,o:P,d(E){E&&A(e),ke(I,E),ke(C,E),D&&D.d()}}}function Im(t,e,r){let n,i,s,o,a;G(t,nt,l=>r(1,n=l)),G(t,ua,l=>r(2,i=l)),G(t,at,l=>r(3,s=l)),G(t,Vg,l=>r(4,o=l)),G(t,ge,l=>r(5,a=l));let{guessing:c}=e;const u=()=>{r(0,c=!0),o()};return t.$$set=l=>{"guessing"in l&&r(0,c=l.guessing)},[c,n,i,s,o,a,u]}class $m extends he{constructor(e){super(),fe(this,e,Im,Sm,ne,{guessing:0})}}const Pm="/noboardchess/assets/bB.4ad35327.svg",Em="/noboardchess/assets/bK.470b3ff1.svg",Tm="/noboardchess/assets/bN.147a1c46.svg",xm="/noboardchess/assets/bP.02f7ecfe.svg",Om="/noboardchess/assets/bQ.cc8f0224.svg",km="/noboardchess/assets/bR.f9b05d72.svg",Mm="/noboardchess/assets/wB.ea0a664a.svg",Am="/noboardchess/assets/wK.fe4a8d94.svg",Cm="/noboardchess/assets/wN.e0c94b20.svg",jm="/noboardchess/assets/wP.93fed888.svg",Rm="/noboardchess/assets/wQ.461e7e3d.svg",qm="/noboardchess/assets/wR.afb9d215.svg";function Ms(t,e,r){const n=t.slice();return n[3]=e[r],n}function As(t,e,r){const n=t.slice();return n[6]=e[r],n}function Cs(t,e,r){const n=t.slice();return n[9]=e[r],n}function js(t){let e,r=t[9]+"",n;return{c(){e=$("li"),n=U(r),w(e,"class","svelte-1rw7btj")},m(i,s){j(i,e,s),_(e,n)},p:P,d(i){i&&A(e)}}}function Rs(t){let e,r,n,i,s,o=t[3].pieces[t[6]],a=[];for(let c=0;c<o.length;c+=1)a[c]=js(Cs(t,o,c));return{c(){e=$("div"),r=$("img"),i=N(),s=$("ul");for(let c=0;c<a.length;c+=1)a[c].c();Ee(r.src,n=t[0][t[6]])||w(r,"src",n),w(r,"alt",t[6]),w(r,"class","svelte-1rw7btj"),w(s,"class","svelte-1rw7btj"),w(e,"class",t[6])},m(c,u){j(c,e,u),_(e,r),_(e,i),_(e,s);for(let l=0;l<a.length;l+=1)a[l].m(s,null)},p(c,u){if(u&2){o=c[3].pieces[c[6]];let l;for(l=0;l<o.length;l+=1){const h=Cs(c,o,l);a[l]?a[l].p(h,u):(a[l]=js(h),a[l].c(),a[l].m(s,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=o.length}},d(c){c&&A(e),ke(a,c)}}}function qs(t){let e,r,n=Object.keys(t[3].pieces),i=[];for(let s=0;s<n.length;s+=1)i[s]=Rs(As(t,n,s));return{c(){e=$("div");for(let s=0;s<i.length;s+=1)i[s].c();r=N(),w(e,"class",t[3].color+" container svelte-1rw7btj")},m(s,o){j(s,e,o);for(let a=0;a<i.length;a+=1)i[a].m(e,null);_(e,r)},p(s,o){if(o&3){n=Object.keys(s[3].pieces);let a;for(a=0;a<n.length;a+=1){const c=As(s,n,a);i[a]?i[a].p(c,o):(i[a]=Rs(c),i[a].c(),i[a].m(e,r))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(s){s&&A(e),ke(i,s)}}}function Lm(t){let e,r=t[1],n=[];for(let i=0;i<r.length;i+=1)n[i]=qs(Ms(t,r,i));return{c(){e=$("div");for(let i=0;i<n.length;i+=1)n[i].c();w(e,"id","pieces"),w(e,"class","svelte-1rw7btj")},m(i,s){j(i,e,s);for(let o=0;o<n.length;o+=1)n[o].m(e,null)},p(i,[s]){if(s&3){r=i[1];let o;for(o=0;o<r.length;o+=1){const a=Ms(i,r,o);n[o]?n[o].p(a,s):(n[o]=qs(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:P,o:P,d(i){i&&A(e),ke(n,i)}}}function Fm(t,e,r){let n;G(t,ge,o=>r(2,n=o));const i={b:Pm,k:Em,n:Tm,p:xm,q:Om,r:km,B:Mm,K:Am,N:Cm,P:jm,Q:Rm,R:qm};let s=[{color:"white",pieces:Object.fromEntries(Object.entries(n.pieces).filter(([o,a])=>o===o.toUpperCase()))},{color:"black",pieces:Object.fromEntries(Object.entries(n.pieces).filter(([o,a])=>o===o.toLowerCase()))}];return[i,s]}class Dm extends he{constructor(e){super(),fe(this,e,Fm,Lm,ne,{})}}function Ls(t,e,r){const n=t.slice();return n[10]=e[r],n}function Fs(t){let e,r=t[10]+"",n,i,s;return{c(){e=$("button"),n=U(r)},m(o,a){j(o,e,a),_(e,n),i||(s=_e(e,"click",function(){nn(t[2](t[10]))&&t[2](t[10]).apply(this,arguments)}),i=!0)},p(o,a){t=o,a&2&&r!==(r=t[10]+"")&&xe(n,r)},d(o){o&&A(e),i=!1,s()}}}function Nm(t){let e,r,n,i,s=t[1],o=[];for(let a=0;a<s.length;a+=1)o[a]=Fs(Ls(t,s,a));return{c(){e=$("div"),r=$("div"),n=U(t[0]),i=N();for(let a=0;a<o.length;a+=1)o[a].c()},m(a,c){j(a,e,c),_(e,r),_(r,n),_(e,i);for(let u=0;u<o.length;u+=1)o[u].m(e,null)},p(a,[c]){if(c&1&&xe(n,a[0]),c&6){s=a[1];let u;for(u=0;u<s.length;u+=1){const l=Ls(a,s,u);o[u]?o[u].p(l,c):(o[u]=Fs(l),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=s.length}},i:P,o:P,d(a){a&&A(e),ke(o,a)}}}function zm(t,e,r){let n,i,s,o;G(t,Zt,f=>r(7,i=f)),G(t,at,f=>r(8,s=f)),G(t,ge,f=>r(5,o=f));let{currentMoveIndex:a}=e,{guessing:c}=e,u="";const l=()=>{let f=[];return a<o.legal_san_moves.length&&u!==n&&(o.legal_san_moves[a].forEach(v=>{v.startsWith(u)&&!f.includes(v[u.length])&&(f=[...f,v[u.length]])}),f=f.sort()),f};let h=l();const d=f=>()=>{if(f===n[u.length]){for(r(0,u+=f);l().length===1;)r(0,u+=l()[0]);u===n&&(r(3,a+=2),r(0,u=""),a>o.san_moves.length-1&&r(4,c=!1)),r(1,h=l())}else Wt(at,s++,s),Wt(Zt,i=a,i),r(4,c=!1)};return t.$$set=f=>{"currentMoveIndex"in f&&r(3,a=f.currentMoveIndex),"guessing"in f&&r(4,c=f.guessing)},t.$$.update=()=>{t.$$.dirty&40&&(n=o.san_moves[a])},[u,h,d,a,c,o]}class Bm extends he{constructor(e){super(),fe(this,e,zm,Nm,ne,{currentMoveIndex:3,guessing:4})}}function Gm(t){let e,r,n,i,s,o,a,c;e=new Dm({}),n=new Bn({props:{lastMoveIndex:t[1]-1,direction:"row"}});function u(d){t[2](d)}function l(d){t[3](d)}let h={};return t[1]!==void 0&&(h.currentMoveIndex=t[1]),t[0]!==void 0&&(h.guessing=t[0]),s=new Bm({props:h}),le.push(()=>Ie(s,"currentMoveIndex",u)),le.push(()=>Ie(s,"guessing",l)),{c(){re(e.$$.fragment),r=N(),re(n.$$.fragment),i=N(),re(s.$$.fragment)},m(d,f){X(e,d,f),j(d,r,f),X(n,d,f),j(d,i,f),X(s,d,f),c=!0},p(d,[f]){const v={};f&2&&(v.lastMoveIndex=d[1]-1),n.$set(v);const b={};!o&&f&2&&(o=!0,b.currentMoveIndex=d[1],Se(()=>o=!1)),!a&&f&1&&(a=!0,b.guessing=d[0],Se(()=>a=!1)),s.$set(b)},i(d){c||(M(e.$$.fragment,d),M(n.$$.fragment,d),M(s.$$.fragment,d),c=!0)},o(d){R(e.$$.fragment,d),R(n.$$.fragment,d),R(s.$$.fragment,d),c=!1},d(d){K(e,d),d&&A(r),K(n,d),d&&A(i),K(s,d)}}}function Um(t,e,r){let{guessing:n}=e,i=1;function s(a){i=a,r(1,i)}function o(a){n=a,r(0,n)}return t.$$set=a=>{"guessing"in a&&r(0,n=a.guessing)},[n,i,s,o]}class Wm extends he{constructor(e){super(),fe(this,e,Um,Gm,ne,{guessing:0})}}const Ds=async t=>{const e=await fetch(`https://valenbel123.pythonanywhere.com/level/${t}`),r=await e.json();if(e.ok)return r;throw new Error(r)};function Hm(t){return{c:P,m:P,p:P,i:P,o:P,d:P}}function Vm(t){let e,r,n,i,s,o,a;function c(f){t[3](f)}let u={};t[1]!==void 0&&(u.guessing=t[1]),e=new $m({props:u}),le.push(()=>Ie(e,"guessing",c));const l=[Km,Xm],h=[];function d(f,v){return f[1]?0:1}return i=d(t),s=h[i]=l[i](t),{c(){re(e.$$.fragment),n=N(),s.c(),o=da()},m(f,v){X(e,f,v),j(f,n,v),h[i].m(f,v),j(f,o,v),a=!0},p(f,v){const b={};!r&&v&2&&(r=!0,b.guessing=f[1],Se(()=>r=!1)),e.$set(b);let p=i;i=d(f),i===p?h[i].p(f,v):(er(),R(h[p],1,1,()=>{h[p]=null}),tr(),s=h[i],s?s.p(f,v):(s=h[i]=l[i](f),s.c()),M(s,1),s.m(o.parentNode,o))},i(f){a||(M(e.$$.fragment,f),M(s),a=!0)},o(f){R(e.$$.fragment,f),R(s),a=!1},d(f){K(e,f),f&&A(n),h[i].d(f),f&&A(o)}}}function Xm(t){let e,r;return e=new ym({}),{c(){re(e.$$.fragment)},m(n,i){X(e,n,i),r=!0},p:P,i(n){r||(M(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){K(e,n)}}}function Km(t){let e,r,n;function i(o){t[4](o)}let s={};return t[1]!==void 0&&(s.guessing=t[1]),e=new Wm({props:s}),le.push(()=>Ie(e,"guessing",i)),{c(){re(e.$$.fragment)},m(o,a){X(e,o,a),n=!0},p(o,a){const c={};!r&&a&2&&(r=!0,c.guessing=o[1],Se(()=>r=!1)),e.$set(c)},i(o){n||(M(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Ym(t){return{c:P,m:P,p:P,i:P,o:P,d:P}}function Qm(t){let e,r,n,i={ctx:t,current:null,token:null,hasCatch:!1,pending:Ym,then:Vm,catch:Hm,blocks:[,,,]};return Wn(r=t[0],i),{c(){e=$("div"),i.block.c(),w(e,"id","game")},m(s,o){j(s,e,o),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null,n=!0},p(s,[o]){t=s,i.ctx=t,o&1&&r!==(r=t[0])&&Wn(r,i)||ba(i,t,o)},i(s){n||(M(i.block),n=!0)},o(s){for(let o=0;o<3;o+=1){const a=i.blocks[o];R(a)}n=!1},d(s){s&&A(e),i.block.d(),i.token=null,i=null}}}function Jm(t,e,r){let n,i;G(t,ge,u=>r(5,n=u)),G(t,nt,u=>r(2,i=u));let s=Ds(i);s.then(u=>{Wt(ge,n=u,n)});let o=!0;function a(u){o=u,r(1,o)}function c(u){o=u,r(1,o)}return t.$$.update=()=>{t.$$.dirty&5&&i&&(r(0,s=Ds(i)),s.then(u=>{Wt(ge,n=u,n)}))},[s,o,i,a,c]}class Zm extends he{constructor(e){super(),fe(this,e,Jm,Qm,ne,{})}}function eb(t){let e,r;return e=new Zm({}),{c(){re(e.$$.fragment)},m(n,i){X(e,n,i),r=!0},p:P,i(n){r||(M(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){K(e,n)}}}class tb extends he{constructor(e){super(),fe(this,e,null,eb,ne,{})}}new tb({target:document.getElementById("app")});
